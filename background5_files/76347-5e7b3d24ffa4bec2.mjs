(self.modernJsonp=self.modernJsonp||[]).push([["76347"],{13882:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},619013:function(e,t,i){i.d(t,{Z:()=>l});var n=i(13882);function l(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},731127:function(e,t,i){var n,l;i.r(t),i.d(t,{default:()=>a});let r=(l=[n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:l,storageKey:null}],type:"AdvisoryAction",abstractKey:null});r.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let a=r},437533:function(e,t,i){i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};n.hash="5879c4710b107f258f42156bf3e47e37";let l=n},811026:function(e,t,i){i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};n.hash="4970946a36017d9ad0c751fd70cc512c";let l=n},827222:function(e,t,i){var n,l,r;i.r(t),i.d(t,{default:()=>o});let a=(l=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[n,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="53d7eec34666980eda011429185b5b10";let o=a},763859:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},n,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};l.hash="92b841173868ce353dd00b5fce287546";let r=l},725369:function(e,t,i){i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="547e5abdb645851996d6a1b1a4027c56";let l=n},780879:function(e,t,i){i.d(t,{f:()=>w,l:()=>v});var n=i(667294),l=i(769430),r=i(753090),a=i(478135),o=i(288910),s=i(755222),d=i(838880),c=i(234681),u=i(272191),p=i(399573),_=i(729434),f=i(503246),h=i(949044),m=i(974705),g=i(785893);let y=(e,t,i)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!n)return;let l=(0,h.Z)(m.Z,!0)(n),r=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[r]?e[r]=l:e.push(l)},x=(e,t,i,n)=>{let l=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(l?.action?.filter){let e=l.action.filter.filterOptions;l.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:b,get:v}=(0,_.Z)("OneBarProductFilters");function w({children:e}){let[t,i]=(0,n.useState)([]),[_,h]=(0,n.useState)(null),m=function(){let{scope:e}=(0,o.n)();return[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(e)}(),v=(0,u.Z)(),w=(0,d.Z)(),j=(0,l.Z)(),S=(0,r.Z)(),P=(0,c.Z)(),A=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let l=e?.filter(({module_type:e})=>17===e||0===e);if(!l||l?.length===0||!n)return;let r=n!==_,a=r?[]:t;(r||!m)&&y(a,l,4),(r||!v)&&y(a,l,1),(r||!w)&&y(a,l,0),(r||!j)&&y(a,l,3),(r||!S)&&y(a,l,6),(r||!P)&&[7,8,9].forEach(e=>{y(a,l,e)}),(0,f.ZP)(a,t)||(i(a),h(n))},[t,j,S,m,w,P,v,_]),Z=(0,s.Z)(),{priceMax:C,priceMin:B,scope:I,brands:k,onSale:T,colors:E,domains:F}=(0,o.n)();(0,n.useEffect)(()=>{if(!Z||0===t.length)return;let e=(0,p.Z)(t);if(I!==a.lw.PINS){let t=(0,a.gi)(I),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof C||"string"==typeof B){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(B)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(C)}:null].filter(Boolean))}x(new Set([3]),k,"stringValue",e),x(new Set([6]),E,"stringValue",e),x(new Set([0]),F,"stringValue",e),x(new Set([7,8,9]),T,"numericValue",e),(0,f.ZP)(e,t)||i(e)},[t,Z,C,B,I,k,E,F,T]);let O=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:A}),[t,A]);return(0,g.jsx)(b,{value:O,children:e})}},377678:function(e,t,i){i.d(t,{N$:()=>T,wy:()=>F,VA:()=>I});var n,l=i(667294),r=i(167912),a=i(780879),o=i(119797),s=i(448744),d=i(761256);let c=(e,t,i)=>i&&(0,s.nZ)(i,t)?o.v.MODIFIED:(0,s.B1)(t,e)||i&&(0,s.Uv)(i,e)||(0,s.Uv)(t,e)?o.v.CLEARED:o.v.APPLIED;function u(e,t){(0,s.ph)(t);let i=e.find(e=>e?.id===t.id),n=i?.rules,l=i?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||n;if(!l)return[e,[]];let r=[],a=[];return e.forEach(e=>{void 0!==e.product_filter_type&&l.includes(e.product_filter_type)?r.push(e):a.push(e)}),[r,a]}function p(e,t){switch(t.type){case"RESET_FILTERS":let[i,n]=t.payload,l=i,r=(0,d.Z)(n)?(0,s.iP)(i):n;return Object.values(r).forEach(e=>{let[t]=u(l,e);l=t}),{models:i,availableFilterModels:l,appliedFilters:n,filters:r,isFetching:!1,pendingDeletedSelections:{},status:c(i,n,r)};case"CLEAR_FILTERS":let a=e.models,p=(0,s.P5)(e.models);return Object.values(p).forEach(e=>{let[t]=u(a,e);a=t}),{...e,filters:p,availableFilterModels:a,pendingDeletedSelections:{},status:c(e.models,e.appliedFilters,p)};case"UPDATE_FILTER":let{payload:_}=t,[f,h]=u(e.models,_),m={...e.filters,[_.id]:_},g={...e.pendingDeletedSelections};return f.forEach(e=>{if(!e.id)return;let t=g[e.id];t&&(m[e.id]=t,delete g[e.id])}),h.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(g[e.id]=t,delete m[e.id])}),(0,s.ph)(_,e.models.find(e=>e.id===_.id))&&delete m[_.id],{...e,availableFilterModels:f,filters:m,pendingDeletedSelections:g,status:c(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:o.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:o.v.FAILED};case"SUBMIT_COMPLETE":let{filters:y}=e;return{...e,appliedFilters:y,pendingDeletedSelections:{},status:c(e.models,y)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var _=i(769430),f=i(753090),h=i(838880),m=i(234681),g=i(272191),y=i(503246);let x=new Set([1,0,3,6,7,8,9]),b=(e,t,i)=>{let n=t?.find(({product_filter_type:e})=>e===i);if(!n)return;let l=e.findIndex(({product_filter_type:e})=>e===i);e[l]?e[l]=n:e.push(n)},v=(e,t,i)=>{let n=t?.find(({product_filter_type:e})=>e===i);if(!n)return e;let l=e.findIndex(({product_filter_type:e})=>e===i);return e[l]?e[l]=n:e.push(n),e};var w=i(755222),j=i(729434),S=i(886981),P=i(288910),A=i(77155),Z=i(785893);let C=()=>{},{Provider:B,getMaybe:I}=(0,j.Z)("UnifiedFiltersContext"),k=({applyInitFilters:e,children:t,filterModels:i,filters:n,isFetching:r,refreshFiltersData:a})=>{let{query:d}=(0,P.n)(),c=(0,w.Z)(),{getCachedFilters:u,cacheUnifiedFilterModelsWithProductFilters:j}=function(){let[e,t]=(0,l.useState)([]),[i,n]=(0,l.useState)(null),r=(0,g.Z)(),a=(0,h.Z)(),o=(0,_.Z)(),s=(0,f.Z)(),d=(0,m.Z)(),c=(0,l.useCallback)(({unifiedFilterModels:l,baseCacheKey:c})=>{let u=l?.filter(({product_filter_type:e})=>void 0!==e&&x.has(e));if(!u||u?.length===0||!c)return;let p=c!==i,_=p?[]:e;(p||!r)&&b(_,u,1),(p||!a)&&b(_,u,0),(p||!o)&&b(_,u,3),(p||!s)&&b(_,u,6),(p||!d)&&[7,8,9].forEach(e=>{b(_,u,e)}),(0,y.ZP)(_,e)||(t(_),n(c))},[e,o,s,a,d,r,i]);return{getCachedFilters:(0,l.useCallback)(t=>{if(!t||t?.length===0)return[];let i=[...t];return r&&(i=v(i,e,1)),a&&(i=v(i,e,0)),o&&(i=v(i,e,3)),s&&(i=v(i,e,6)),d&&[7,8,9].forEach(t=>{i=v(i,e,t)}),i},[e,o,s,a,d,r]),cacheUnifiedFilterModelsWithProductFilters:c}}(),S=e?.(i)||n||{},[A,C]=(0,l.useReducer)(p,{models:i,availableFilterModels:i,appliedFilters:S,filters:S,pendingDeletedSelections:{},isFetching:r,status:(0,s.B1)(S,i)||(0,s.Uv)(S,i)?o.v.CLEARED:o.v.APPLIED}),[I,k]=(0,l.useState)(i);(0,l.useEffect)(()=>{r&&C({type:"LOADING"})},[r]),(0,l.useEffect)(()=>{if(r||A.isFetching&&0===i.length)return;if(!(0,s.a$)(I,i))return void C({type:"LOADING_COMPLETED_OR_FAILED"});let t=i;c||(t=u([...i]),j({unifiedFilterModels:[...i],baseCacheKey:d})),C({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),k(i)},[e,i,I,r,A.isFetching,u,j,d,c]);let T=(0,l.useMemo)(()=>({filterState:A,dispatch:C,refreshFiltersData:a}),[A,a]);return(0,Z.jsx)(B,{value:T,children:t})},T=({bookmark:e="",children:t,generateInitFilterCb:i})=>{let n=(0,w.Z)(),{data:l=null,refresh:r,isLoaded:o}=(0,S.Z)(!n&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:d}=(0,a.l)(),c=d.map(s.tx).filter(Boolean);return(0,Z.jsx)(k,{applyInitFilters:i,filterModels:(n?c:l)||[],isFetching:n?0===c.length:!o||!e,refreshFiltersData:r,children:t})},E=(void 0!==n||(n=i(763859)).hash&&"92b841173868ce353dd00b5fce287546"!==n.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),F=({children:e,oneBarModulesKey:t})=>{let{data:i,isFetching:n,isLoaded:a}=(0,A.Z)(),{oneBarModules:s}=i||{},d=(0,r.useFragment)(E,t),c=(0,l.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:n,pendingDeletedSelections:{},status:o.v.CLEARED},refreshFiltersData:C}),[n]),u=(d?[d]:s?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),p=u?.action?.filters;if(!u||!p)return(0,Z.jsx)(B,{value:c,children:e});let _=u.id||"",f={[_]:{id:_,selectedOptionId:p.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,Z.jsx)(k,{filterModels:[{filter_component_type:2,filter_options:p.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:_,title:"",product_filter_type:4}],filters:f,isFetching:!a,refreshFiltersData:C,children:e})}},119797:function(e,t,i){i.d(t,{$:()=>n,v:()=>l});let n=50,l={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},239988:function(e,t,i){i.d(t,{Z:()=>c});var n=i(780879),l=i(377678),r=i(448744),a=i(949044),o=i(755522),s=i(510928),d=i(288910);function c(){let{brands:e,colors:t,domains:i,onSale:c,priceMax:u,priceMin:p}=(0,d.n)(),_=(0,l.VA)(),{cachedProductFilterOneBarModules:f}=(0,n.l)(),h=Number((0,s.Z)().filter_location);if(1===h){let{filterState:e}=_||{};return e?(0,r.Ax)(e.appliedFilters,e.models):null}if(0===h){let n=(0,a.Z)(o.Z,!0)(f.map(e=>e.action?.filter).filter(Boolean));return(0,r.vJ)({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:c,priceMaxParam:u,priceMinParam:p,unifiedFilterModels:n})}return null}},769430:function(e,t,i){i.d(t,{Z:()=>r});var n=i(825332),l=i(378888);function r(){return!!(0,l.mB)((0,n.TH)().search).brands}},753090:function(e,t,i){i.d(t,{Z:()=>a});var n=i(825332),l=i(274320),r=i(378888);function a(){let{checkExperiment:e}=(0,l.r)(),t=(0,n.TH)(),{colors:i}=(0,r.mB)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},755222:function(e,t,i){i.d(t,{Z:()=>l});var n=i(274320);function l(){let{checkExperiment:e}=(0,n.r)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},838880:function(e,t,i){i.d(t,{Z:()=>r});var n=i(825332),l=i(378888);function r(){return!!(0,l.mB)((0,n.TH)().search).domains}},272191:function(e,t,i){i.d(t,{Z:()=>r});var n=i(825332),l=i(378888);function r(){let e=(0,n.TH)(),{price_max:t,price_min:i}=(0,l.mB)(e.search);return!!(i??t)}},448744:function(e,t,i){i.d(t,{Ak:()=>j,Ax:()=>b,B1:()=>p,LG:()=>w,P5:()=>h,UP:()=>S,Uv:()=>_,a$:()=>c,eF:()=>P,i7:()=>g,iP:()=>f,nZ:()=>d,ph:()=>u,rc:()=>x,tx:()=>v,vJ:()=>y});var n=i(119797),l=i(503246),r=i(478135);let a=e=>e.map(({filter_component_type:e,filter_options:t,title:i})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:i,image_url:n,is_verified:l,numeric_value:r,string_value:a,unit:o})=>({id:e,label:t,count:i,image_url:n,is_verified:l,numeric_value:r,string_value:a,unit:o})),title:i})),o=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,l.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},s=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(s(e)&&s(t))return!1;if(s(e)||s(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let i in e)if(o(e[i],t?.[i]))return!0;return!1},c=(e,t)=>!(0,l.ZP)(a(e),a(t)),u=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},p=(e,t)=>{try{for(let i in e){let n=e[i],l=t.find(e=>e.id===n?.id);if(n&&!u(n,l))return!1}return!0}catch(e){return!0}},_=(e,t)=>{if(!t||0===t.length)return!1;let i=t[0];if(!i)return!1;switch(i?.filter_component_type){case 2:let n=i.filter_options?.[0];for(let t in e){let i=e[t];if(!i)break;if("selectedOptionId"in i&&i.selectedOptionId===n?.id)return!0}return!1;case 1:for(let t in e){let n=e[t];if(!n)break;if(n.id===i.id&&"selectedOptionIds"in n&&0===n.selectedOptionIds.size)return!0}return!1;default:return!1}},f=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let i=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return i&&i.length>0?{selectedOptionIds:new Set(i),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),h=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let i=t.filter_options?.[0]?.id;return i&&"string"==typeof t.id?{[t.id]:{selectedOptionId:i,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:i,product_filter_type:n}=e,l=t;return"number"==typeof n&&(l+=`_${n}`),i.length>0&&(l+=":",i.forEach((e,t)=>{let{filter_option_id:n,numeric_value:r,string_value:a,unit:o}=e;l+=`${n}`,"number"==typeof r&&(l+=`_${r}`),"string"==typeof a&&(l+=`_${a}`),"string"==typeof o&&(l+=`_${o}`),t<i.length-1&&(l+=",")})),l}).join("|"),g=({brands:e,colors:t,domains:i,onSale:n,priceMax:l,priceMin:a,scope:o,unifiedFilterModels:s})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:p}of s)if(u&&c?.length){if(1===p&&("number"==typeof a||"number"==typeof l)){let[e,t,i,n]=c,r=a??i?.numeric_value??e?.numeric_value??0,o=l??n?.numeric_value??t?.numeric_value??100;d[u]={min:r,max:o,id:u,type:"range",lastChangedLocation:1}}if(0===p&&i&&i.length>0){let e=i.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===p&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===p&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===p&&o){let e=(0,r.gi)(o),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof p&&new Set([7,8,9]).has(p)&&n){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},y=({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:n,priceMaxParam:l,priceMinParam:r,unifiedFilterModels:a})=>{let o=[],s=Number(r),d=Number(l),c=Number.isNaN(s)?void 0:s,u=Number.isNaN(d)?void 0:d,p=i?.split(",").filter(Boolean)??[],_=e?.split(",").filter(Boolean)??[],f=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:i}of a)if(t&&e?.length){if(1===i&&"number"==typeof c&&"number"==typeof u){let n={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:i};o.push(n)}if(0===i&&p&&p.length>0){let n=p.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};o.push(e)}}if(3===i&&_&&_.length>0){let n=_.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};o.push(e)}}if(6===i&&f&&f.length>0){let n=f.map(t=>{let i=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return i?i.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};o.push(e)}}if(7===i&&n){let l=e[0]?.id;if(l){let e={filter_id:t,filter_options:[{filter_option_id:l,numeric_value:Number(n)}],location:0,product_filter_type:i};o.push(e)}}}return 0===o.length?null:m(o)},x=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:i})=>{let n=null,l=null,a=!1,o=null,s=null,d=null,c=null,u=null;for(let p in e){let _=e[p];if(_){let e=i.find(e=>e.id===_.id);if(e)if("range"===_.type&&1===e.product_filter_type)d=_.min,s=_.max;else if("multi"===_.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>_.selectedOptionIds.has(e.id||""));o=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===_.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>_.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===_.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>_.selectedOptionIds.has(e.id||""));l=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===_.type&&4===e.product_filter_type){let i=e.filter_options?.find(e=>_.selectedOptionId===e.id),n=i&&void 0!==i.search_type?(0,r.zh)(i.search_type):r.lw.PINS;u=n,t&&(u=n===r.lw.PINS_BUYABLE?r.lw.PINS:n,a=n===r.lw.PINS_BUYABLE)}else"single"===_.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let p=i.find(e=>4===e.product_filter_type),_=p?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof _?.search_type&&(u=(0,r.zh)(_.search_type)),{brands:n,colors:l,commerce_only:a,domains:o,max:s,min:d,on_sale:c,scope:u}},b=(e,t)=>{let i=[];return(Object.entries(e).forEach(([e,n])=>{let l=t.find(e=>e.id===n.id);if(!l||4===l.product_filter_type||"number"!=typeof l.product_filter_type||!l.filter_options)return;let r=[];if("range"===n.type){let[e,t]=l.filter_options;if(!e?.id||!t?.id)return;r=[{filter_option_id:e.id,numeric_value:n.min,unit:e.unit},{filter_option_id:t.id,numeric_value:n.max,unit:t.unit}]}if("single"===n.type){let e=l.filter_options.find(e=>e.id===n.selectedOptionId);if(!e?.id)return;r=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===n.type){let e=l.filter_options.filter(e=>e.id&&n.selectedOptionIds.has(e.id));if(0===e.length)return;r=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}i.push({filter_id:e,filter_options:r,location:n.lastChangedLocation,product_filter_type:l.product_filter_type})}),i&&0!==i.length)?m(i):null},v=e=>{let{filter:t,title:i}=e.action||{},{title:n}=t||{},l=i||n;if(!t||!l)return null;let{filterComponentType:r,productFilterType:a,id:o}=t,s=(t.filterOptions||[]).filter(Boolean);if(void 0===r||void 0===s||0===s.length||null==a||null==o)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:i,imageUrl:n,isVerified:l,label:r,numericValue:a,searchType:o,stringValue:s,unit:d,rules:c}=e;return null===n||null===n||null===a||null===l||null===s||null===d?null:{id:i||"",label:r||"",count:0,image_url:n,is_verified:l,numeric_value:a,...c?{rules:[...c]}:{},..."number"==typeof o?{search_type:o}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(s);return d?{filter_component_type:r,filter_options:[...d],id:o||"",product_filter_type:a,title:l}:null};function w(e,t,i){let[l,r,a,o]=i,{numeric_value:s=0}=o??l??{},{numeric_value:d=s+n.$}=a??r??{},{unit:c="USD"}=l??{},u=e.filters[t]?.type==="range"?e.filters[t]:{min:s,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:s,unit:c,range:u}}function j(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function S(e,t){let i=[];return Object.entries(t).forEach(([t,n])=>{let l=e.find(e=>e?.id===t);if(l){let e=l.aux_data?.module_id;e&&i.push(e);let t=("multi"===n.type?Array.from(n.selectedOptionIds):"single"===n.type?[n.selectedOptionId]:[]).map(e=>{let t=l.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);i.push(...t)}}),i}function P(e,t){let i=[];return Object.keys(t).forEach(t=>{let n=e.find(e=>e?.id===t);if(n){let e=n.product_filter_type;e&&i.push(e)}}),i}},865540:function(e,t,i){i.d(t,{Z:()=>s});var n=i(821342),l=i(274320),r=i(647709),a=i(448505),o=i(7872);function s(e){let t=(0,r.HG)(),{checkExperiment:i}=(0,l.r)(),s=(0,a.Z)(),d=(0,n.Z)(),c=(0,o.lJ)(d,s),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled;return!c&&(e&&i("sce_lightswitch_organic"),!t||!!u)}},704088:function(e,t,i){i.d(t,{Z:()=>Z});var n=i(281098),l=i(667294),r=i(20256),a=i(785873),o=i(364843),s=i(894199),d=i(873651),c=i(982166),u=i(949044),p=i(974705),_=i(805205),f=i(78762),h=i(785893);let m=(0,f.Z)(()=>i.e("85149").then(i.bind(i,401030)),{ssr:!1},e=>401030,void 0,void 0),g=(0,f.Z)(()=>i.e("29078").then(i.bind(i,30342)),{ssr:!1},e=>30342,void 0,void 0),y=(0,f.Z)(()=>Promise.all([i.e("83324"),i.e("26494")]).then(i.bind(i,140795)),{ssr:!1},e=>140795,void 0,void 0),x=(0,f.Z)(()=>i.e("6642").then(i.bind(i,485922)),{ssr:!1},e=>485922,void 0,void 0),b=(0,f.Z)(()=>Promise.all([i.e("15417"),i.e("36815"),i.e("41176")]).then(i.bind(i,236142)),{ssr:!1},e=>236142,void 0,void 0),v=(0,f.Z)(()=>i.e("2227").then(i.bind(i,629326)),{ssr:!1},e=>629326,void 0,void 0),w=(0,f.Z)(()=>i.e("61273").then(i.bind(i,528792)),{ssr:!1},e=>528792,void 0,void 0),j=(0,f.Z)(()=>i.e("38943").then(i.bind(i,3219)),{ssr:!1},e=>3219,void 0,void 0),S=(0,f.Z)(()=>i.e("42716").then(i.bind(i,315721)),{ssr:!1},e=>315721,void 0,void 0),P=[505420,505933,506173,506124,506436],A=({complete:e,dismiss:t,experience:i,placementId:n})=>{let{experience_id:l,display_data:o}=i,d=function(e){switch(e){case 504721:return w;case 504569:return v;case 504032:return j;case 502271:return g;case 505093:return S;default:return m}}(l),f=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(l),{setObserverRef:A}=(0,s.NQ)();return(0,h.jsxs)(r.xu,{ref:A,children:[!P.includes(l)&&(0,h.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:t,size:f,children:(0,h.jsx)(d,{...(0,u.Z)(p.Z)(o),experienceId:l,handleComplete:e,handleDismiss:t,placementId:n})}),506124===l&&(0,h.jsx)(y,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.Z)(p.Z)(o)}),(506173===l||506436===l)&&(0,h.jsx)(y,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.Z)(p.Z)(o)}),505420===l&&(0,h.jsx)(b,{experienceId:505420,onSubmitSurvey:async()=>{(0,a.Z)((0,_.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:n,viewType:251}),505933===l&&(0,h.jsx)(x,{handleComplete:()=>{e(),(0,a.Z)((0,_.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function Z({placementId:e}){(0,l.useEffect)(()=>{(0,n.Z)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:i}=(0,d.Z)(e,{rollout_experiment:1});return(0,h.jsx)(l.Fragment,{children:(0,h.jsx)(o.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:i,children:({complete:t,dismiss:i,experience:n})=>(0,h.jsx)(A,{complete:t,dismiss:i,experience:n,placementId:e})})})}},456202:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686319);let l=async e=>(await (0,n.Z)({url:`/v3/board/${e}/report_reasons/`})).resource_response.data},507187:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686319);let l=async(e,t)=>await (0,n.Z)({url:`/v3/board/${e}/flag/`,method:"POST",data:t})},140725:function(e,t,i){i.d(t,{Q:()=>s,Z:()=>d});var n=i(667294),l=i(521009),r=i(346955),a=i(991384),o=i(15667);function s(e,t){let{setViewContextData:i}=(0,r.A$)(),{requestIdentifier:s}=(0,o.B)(),d=(0,l.Z)(),{viewData:c}=(0,r.SU)();(0,n.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:i}=e;return s(i),t||null}},821342:function(e,t,i){i.d(t,{$:()=>n,Z:()=>r});let{Provider:n,get:l}=(0,i(729434).Z)("viewer"),r=l},15667:function(e,t,i){i.d(t,{B:()=>r,P2:()=>o,Ts:()=>l,gf:()=>a});let n=i(146663),{getRequestContext:l}=n,{useRequestContext:r}=n,{useUpdateRequestContext:a}=n,{RequestContextProvider:o}=n},146663:function(e,t,i){i.r(t),i.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>s,useRequestContext:()=>c,useUpdateRequestContext:()=>u});var n=i(667294),l=i(324529),r=i(734215),a=i(785893);let o=(0,n.createContext)(null);function s(){return(0,n.use)(o).requestContextState}function d({children:e,initialValue:t}){let[i,s]=(0,n.useState)(t),d=(0,n.useMemo)(()=>({requestContextState:i,updateRequestContext:e=>{let t={...i,...e};(0,r.Z)(i,e)||s(t),(0,l.J)(t)}}),[i]);return(0,a.jsx)(o,{value:d,children:e})}function c(){let e=(0,n.useContext)(o);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function u(){let e=(0,n.useContext)(o);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},782259:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),l=i(667294),r=i(64834);function a({children:e}){if("undefined"==typeof window)throw Error(r.u);return e}var o=i(785893);function s({children:e,fallback:t}){return(0,l.useEffect)(()=>{(0,n.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,o.jsx)(l.Suspense,{fallback:t,children:(0,o.jsx)(a,{children:e})})}},244347:function(e,t,i){i.d(t,{Z:()=>r});var n=i(378888),l=i(215295);function r(e){if(!e)return"";let{directory:t,queryKey:i}=(0,l.Z)((0,n.Gw)(e,["request_params"]));return t+"?"+Object.keys(i).sort().map(e=>`${e}=${i[e]}`).join("&")}},316949:function(e,t,i){i.d(t,{Z:()=>n});function n({category:e,domains:t,maxPrice:i,minPrice:n}){return[e,t,i,n].map(e=>e??"").join("-")}},672061:function(e,t,i){i.d(t,{Z:()=>l});var n=i(378888);function l(e,t){let i=(0,n.mB)(e);return i.utm_pai&&i.utm_source&&i.pid&&"pins"===t?i.pid:null}},712064:function(e,t,i){i.d(t,{Ht:()=>o,Tb:()=>a,q7:()=>r});var n=i(244347),l=i(940280);function r({topPinIds:e,paidPinId:t}){let i=[];return t&&i.push(t),e&&i.push(e),i.length>0?i.join(","):void 0}function a({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:i,filters:n,journeyDepth:l,query:r,rs:a,scope:o,selectedOneBarModules:s,selectedPinImgSig:d,sourceId:c,sourceModuleId:u,topPinIds:p,user:_}){let f=[e,n,l,r,a,o,s,d,c,u,t,p,_].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+f:f}function o(e){let{appliedProductFilters:t,appliedUnifiedFilters:i,autoCorrectionDisabled:r,bubbleId:a,domains:o,filters:s,guidedSearchQuery:d,journeyDepth:c,pageSize:u,priceMax:p,priceMin:_,query:f,requestParams:h,rs:m,scope:g,selectedOneBarModules:y,selectedPinImgSig:x,seoDrawerEnabled:b,sourceId:v,sourceModuleId:w,sourceUrl:j,topPinIds:S,user:P}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:i=!1,bubbleId:r=null,domains:a=null,filters:o=null,journeyDepth:s=null,pageSize:d=null,priceMax:c=null,priceMin:u=null,query:p="",requestParams:_=null,rs:f=l.i.DIRECT_NAVIGATION,scope:h="pins",selectedOneBarModules:m=null,selectedPinImgSig:g=null,seoDrawerEnabled:y=!1,sourceId:x=null,sourceModuleId:b=null,sourceUrl:v=null,topPinIds:w=null,user:j}){return{applied_unified_filters:e,appliedProductFilters:t,article:r,auto_correction_disabled:i,corpus:g?"personalize":null,customized_rerank_type:g?"manas_graph_sage_only_wand_rewrite":null,domains:a,filters:o,journey_depth:s,page_size:d,price_max:c,price_min:u,query_pin_sigs:g,query:p,redux_normalize_feed:!0,request_params:_,rs:f,scope:h,selected_one_bar_modules:m,seoDrawerEnabled:y,source_id:x,source_module_id:b,source_url:(0,n.Z)(v),top_pin_ids:w,user:j}}({appliedProductFilters:t,appliedUnifiedFilters:i,autoCorrectionDisabled:!!r,bubbleId:a,domains:o,filters:s,guidedSearchQuery:d,journeyDepth:c,pageSize:u,priceMax:p,priceMin:_,query:f,requestParams:h,rs:m,scope:g,selectedOneBarModules:y,selectedPinImgSig:x,seoDrawerEnabled:b,sourceId:v,sourceModuleId:w,sourceUrl:j,topPinIds:S,user:P})}}},734215:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every(i=>e[i]===t[i])}},755522:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}},647709:function(e,t,i){i.d(t,{HG:()=>u,Kf:()=>a,Wb:()=>c,ZP:()=>p,dA:()=>o,ds:()=>s,ml:()=>d});var n=i(746287),l=i(15667);let r=()=>{let e=(0,l.B)();return(0,n.Z)(e)},a=e=>"phone"===e,o=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>a(r()),c=()=>o(r()),u=()=>s(r()),p=r},636921:function(e,t,i){i.d(t,{Z:()=>s});var n=i(20256),l=i(475498),r=i(19585),a=i(87853),o=i(785893);function s(){let{showToast:e}=(0,a.dI)(),t=(0,r.ZP)();return()=>{e(({hideToast:e})=>(0,o.jsx)(l.Z,{duration:5e3,onHide:e,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,o.jsx)(n.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}}))}}},822377:function(e,t,i){i.d(t,{Z:()=>O});var n,l,r,a,o=i(281098),s=i(667294),d=i(980787),c=i(274320),u=i(15667),p=i(647709),_=i(341742),f=i(187440);i(167912);var h=i(20256),m=i(28427),g=i(521009),y=i(47426),x=i(532611),b=i(306274),v=i(785893);let w=(void 0!==n||(n=i(731127)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==n.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function j({auxData:e,actionKey:t,alignCenter:i}){(0,s.useEffect)(()=>{(0,o.Z)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let n=(0,m.Z)(w,t),l=(0,g.Z)(),r=(0,p.HG)(),{title:a,description:d,button:c}=n,u=c?.text,_=a?.text,f=d?.text,j=c?.link??"",S=j.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),P=u&&j.startsWith("http"),A=(0,y.Z)({url:j}),Z=P&&A?"nofollow":"none";return e?.advisory_type===b.Uv?(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(h.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!_&&(0,v.jsx)(h.xv,{align:"start",weight:"bold",children:_}),!!f&&(0,v.jsx)(h.xv,{align:"start",children:f}),(0,v.jsx)(h.ZP,{color:"white",href:j,onClick:()=>{(0,x.qA)({auxData:{...e,url:j},isDesktop:r,logContextEvent:l})},rel:Z,text:u||"Visit"})]})}):P?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xv,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.rU,{href:j,onClick:()=>{(0,x.qA)({logContextEvent:l,auxData:{...e,url:j},isDesktop:r})},rel:Z,children:(0,v.jsx)(h.xv,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:S})})})]}):(0,v.jsxs)(s.Fragment,{children:[!!_&&(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xv,{align:i?"center":"start",weight:"bold",children:_})}),!!f&&(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xv,{align:i?"center":"start",children:f})})]})}let S=(void 0!==l||(l=i(811026)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==l.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function P({text:e,textTags:t,auxData:i}){let n=(0,g.Z)(),l=(0,p.HG)(),r=[],a=0;for(let o=0;o<t.length;o+=1){let s=t[o];if(5===s.tagType&&s.link){let{offset:t,length:o,link:d}=s;if(null!=t&&null!=o&&null!=d){let s=e.substring(t,t+o),c=(0,v.jsx)(h.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(h.rU,{display:"inlineBlock",href:d,onClick:()=>{(0,x.qA)({logContextEvent:n,auxData:{...i,url:d},isDesktop:l})},target:"blank",underline:"hover",children:s},s)});r.push((0,v.jsx)("span",{children:e.substring(a,t)})),r.push(c),a=t+o}}}return(a>0&&r.push((0,v.jsx)("span",{children:e.substring(a)})),0===r.length)?[(0,v.jsx)("span",{children:e})]:r}function A({auxData:e,textTagKey:t,text:i}){(0,s.useEffect)(()=>{(0,o.Z)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let n=(0,m.Z)(S,t);return(0,v.jsx)(P,{auxData:e,text:i,textTags:n})}let Z=[4,14],C={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},B={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=(void 0!==r||(r=i(437533)).hash&&"5879c4710b107f258f42156bf3e47e37"!==r.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function k({auxData:e,advisory:t,inModal:i,noticeKey:n}){(0,s.useEffect)(()=>{(0,o.Z)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:l,description:r,actions:a}=(0,m.Z)(I,n),d=!!a?.length&&(e?.advisory_type===b.Uv||!!t&&Z.includes(t)),c=a?.length===1,u=r&&r.text||"";return(0,v.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:i?B:C},padding:6,rounding:2,children:[!!l&&!i&&(0,v.jsx)(h.xu,{display:"flex",marginBottom:2,children:(0,v.jsx)(h.X6,{size:"600",children:l})}),!!u&&r?.textTags!=null&&(0,v.jsx)(h.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(h.xv,{align:i?"center":"start",overflow:"normal",children:(0,v.jsx)(A,{auxData:e,text:u,textTagKey:r.textTags})})})}),d&&(0,v.jsx)(h.xu,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:a?.map(t=>(0,v.jsx)(h.xu,{column:i||c?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(j,{actionKey:t,alignCenter:i||c,auxData:e})},t.actionId))})]})}let T=(void 0!==a||(a=i(827222)).hash&&"53d7eec34666980eda011429185b5b10"!==a.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function E({auxData:e,noticeKey:t}){(0,s.useEffect)(()=>{(0,o.Z)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let i=(0,m.Z)(T,t),n=(0,g.Z)(),l=(0,p.HG)(),r={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(h.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,v.jsxs)(h.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:r,children:i.description?.textTags&&(0,v.jsx)(A,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,v.jsx)(h.xu,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,v.jsxs)(h.xu,{children:[(0,v.jsx)("span",{style:{fontWeight:"600",...r},children:t.title?.text}),(0,v.jsx)("span",{style:r,children:t.description?.text})]}):(0,v.jsx)(h.rU,{href:i||"",onClick:()=>{(0,x.qA)({logContextEvent:n,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:l})},children:(0,v.jsx)(h.xu,{display:"inlineBlock",children:(0,v.jsx)(h.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(h.xv,{color:"inverse",weight:"bold",children:t.button?.text||""})})})})})})]})}),!!i.footer&&(0,v.jsx)(h.xu,{paddingY:2,width:540,children:(0,v.jsx)(h.rU,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,x.qA)({logContextEvent:n,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:l})},target:"blank",underline:"hover",children:(0,v.jsx)(h.xv,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var F=i(603316);function O({boardId:e,isOwnBoard:t,boardName:i,boardSectionId:n,notices:l,query:r,sensitivity:a,viewParameter:h,viewType:m,inModal:g}){(0,s.useEffect)(()=>{(0,o.Z)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:i,boardSectionId:n,query:l,sensitivity:r,viewParameter:a,viewType:o}){let{logContextEvent:s}=(0,d.u)(),c=(0,p.HG)();(0,_.Z)(()=>{o&&(s({aux_data:{entered_query:l,advisory_details:e,advisory_level:r?.advisory,severity_level:r?.severity,advisory_type:r?.advisory_type,resource_country:r?.resource_country},component:13367,event_type:120,view_parameter:a,view_type:o}),(0,F.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:r?.advisory,advisory_type:r?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:r?.resource_country,placement:5===o?"board":"search"}})),t&&5===o&&s({aux_data:{board_name:i,board_id:t,board_section_id:n??0},component:178,event_type:15549,view_parameter:a,view_type:o})})}({advisoryDetails:a?.advisory_details,boardId:e,boardSectionId:n,query:r,sensitivity:{advisory:a?.advisory,severity:a?.severity},viewParameter:h,viewType:m});let{checkExperiment:y}=(0,c.r)(),x=(0,u.B)(),b={advisory_level:a?.advisory||null,severity_level:a?.severity||null,advisory_type:a?.advisory_type||"",stage:x.stage,resource_country:a?.resource_country||"",entered_query:r||""};if(y("ps_board_advisories_ui_refresh").anyEnabled){let r=t?4173:4174;return(0,v.jsx)(s.Fragment,{children:l?.map(t=>(0,v.jsx)(f.Z,{boardId:e,boardName:i,boardSectionId:n,notice:t,objectType:n?164:5,sensitivity:a,viewParameter:n?r:h,viewType:n?164:5},t.id))})}return(0,v.jsx)(s.Fragment,{children:l?.map(e=>2===e.style?(0,v.jsx)(E,{auxData:b,noticeKey:{type:"Legacy",data:e}},e.id):(0,v.jsx)(k,{advisory:a?.advisory,inModal:g,noticeKey:{type:"Legacy",data:e}},e.id))})}},306274:function(e,t,i){i.d(t,{IR:()=>l,St:()=>n,Uv:()=>a,Uz:()=>r});let n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},l={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function r(e){return!!e&&e.severity===l.ABUSIVE}let a="THIRD_PARTY_TL"},211119:function(e,t,i){i.d(t,{CU:()=>u,ZP:()=>c,hi:()=>d});var n,l=i(422578),r=i(478135),a=i(288910),o=i(77155);let s=(void 0!==n||(n=i(725369)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==n.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function d(e){let{notices:t,advisory:i,severity:n}=(0,l.useFragment)(s,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:i,severity:n}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:i}=e,n=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(n=!1),{hasNotices:n,advisory:t,severity:i}}function u(e){let{scope:t}=(0,a.n)(),{data:i,isLoaded:n}=(0,o.Z)(),l=d(e);if(t===r.lw.USERS)return l;if(!n||!i)return{hasNotices:!1};let{sensitivity:s}=i;return c(s)}},250905:function(e,t,i){i.d(t,{HW:()=>o,MS:()=>p,i3:()=>_,o2:()=>u});var n=i(667294),l=i(729434),r=i(25837),a=i(785893);let o=r.fe+1,s={educationId:null,paddingRight:0,zIndex:o};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":let{zIndex:l}=t.payload;return{...e,zIndex:l};default:return e}}let{Provider:c,Consumer:u,get:p}=(0,l.Z)("footerContext");function _({children:e}){let[t,i]=(0,n.useReducer)(d,s),l=(0,n.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,n.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),o=(0,n.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,n.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:l,setZIndex:o}),[t,r,l,o]);return(0,a.jsx)(c,{value:u,children:e})}},288910:function(e,t,i){i.d(t,{n:()=>p,v:()=>_});var n=i(667294),l=i(616550),r=i(825332),a=i(729434),o=i(478135),s=i(647709),d=i(601811),c=i(785893);let{Provider:u,get:p}=(0,a.Z)("SearchParams"),_=({children:e,value:t})=>{let i=function(){let e=(0,s.HG)(),{search:t,pathname:i}=(0,r.TH)(),{scope:n}=(0,l.UO)(),a=!n&&i.includes("/_tools/shop");return(0,d.Z)({isDesktop:e,scope:a?o.lw.SHOP_TOOL:n,search:t})}(),a=(0,n.useMemo)(()=>({...i,...t}),[i,t]);return(0,c.jsx)(u,{value:a,children:e})}},631897:function(e,t,i){i.d(t,{Z:()=>a});var n=i(316949),l=i(672061),r=i(712064);function a({appliedUnifiedFilters:e,autoCorrectionDisabled:t,bubbleId:i,currentlyAppliedFiltersParamTerm:a,guidedSearchQuery:o,inGlobalSearch:s,initialCategory:d,initialDomains:c,initialMaxPrice:u,initialMinPrice:p,isDuplo:_,journeyDepth:f,personalizationPinSig:h,query:m,requestParams:g,rs:y,scope:x,search:b,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,sourceUrl:S,topPinIds:P,user:A}){let Z,C=v?.split(",");if(s)Z=(0,r.Ht)({autoCorrectionDisabled:t,filters:a,journeyDepth:f,query:m,requestParams:g,scope:x,selectedOneBarModules:C,selectedPinImgSig:h,sourceId:w,sourceModuleId:j,sourceUrl:S,topPinIds:P});else{let s={autoCorrectionDisabled:t,bubbleId:i,filters:a,guidedSearchQuery:o,journeyDepth:f,query:m,requestParams:g,rs:y,scope:x,selectedOneBarModules:C,selectedPinImgSig:h,sourceId:w,sourceModuleId:j,sourceUrl:S,topPinIds:P,user:A};e&&(s.appliedUnifiedFilters=e),s.appliedProductFilters=(0,n.Z)({category:d,domains:c,maxPrice:u,minPrice:p}),_&&(s.domains=c,s.priceMax=u?parseInt(u,10):void 0,s.priceMin=p?parseInt(p,10):void 0,s.topPinIds=(0,l.Z)(b,x)),Z=(0,r.Ht)(s)}return Z}},601811:function(e,t,i){i.d(t,{Z:()=>r});var n=i(478135),l=i(378888);function r({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:r="",b_id:a,brands:o,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:_,filters:f,guided_search_query:h,inline_suggestion:m,interest_id:g,journey_depth:y,on_sale:x,price_max:b,price_min:v,q:w,query_pin_sigs:j,request_params:S,rs:P,selected_one_bar_modules:A,source_id:Z,source_module_id:C,tab:B,top_pin_ids:I,user:k}=(0,l.mB)(i),T="true"===c.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===r.toLowerCase(),brands:o,bubbleId:a,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:f,debD:p,domains:_,guidedSearchQuery:h,inlineSuggestion:m,interestId:g,journeyDepth:y?parseInt(y,10):void 0,onSale:x,personalizationPinSig:j,placementId:(0,n.Hd)(T,e),priceMax:b,priceMin:v,query:w,requestParams:S,rs:P,scope:T,selectedOneBarModules:A,sourceId:Z,sourceModuleId:C,tab:B||"",topPinIds:I,user:k,viewParameter:(0,n._R)(T),viewType:T===n.lw.SHOP_TOOL?1:2}}},77155:function(e,t,i){i.d(t,{Z:()=>p});var n=i(825332),l=i(239988),r=i(274320),a=i(15667),o=i(886981),s=i(478135),d=i(647709),c=i(288910),u=i(631897);function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:i}=(0,r.r)(),{isAuthenticated:p}=(0,a.B)(),{pathname:_,search:f}=(0,n.TH)(),h=(0,d.HG)(),m=!p||!h,{autoCorrectionDisabled:g,bubbleId:y,category:x,currentlyAppliedFiltersParamTerm:b,domains:v,guidedSearchQuery:w,inGlobalSearch:j,journeyDepth:S,personalizationPinSig:P,priceMax:A,priceMin:Z,query:C,requestParams:B,rs:I,scope:k,selectedOneBarModules:T,sourceId:E,sourceModuleId:F,topPinIds:O,user:D}=(0,c.n)(),z=(0,l.Z)(),L=(0,u.Z)({appliedUnifiedFilters:z,autoCorrectionDisabled:g,bubbleId:y,currentlyAppliedFiltersParamTerm:b,guidedSearchQuery:w,inGlobalSearch:j,initialCategory:x,initialDomains:v,initialMaxPrice:A,initialMinPrice:Z,isDuplo:m,journeyDepth:S,personalizationPinSig:P,query:C,requestParams:B,rs:I,scope:k,search:f,selectedOneBarModules:T,sourceId:E,sourceModuleId:F,sourceUrl:_+f,topPinIds:O,user:D}),M=m;m&&(M=!!p&&!i("unify_search_resource_auth_mweb").anyEnabled);let N=t||k===s.lw.USERS&&!m||M;return(0,o.Z)(N?null:L)}},196491:function(e,t,i){i.d(t,{V:()=>d,Z:()=>s});var n=i(686319),l=i(74105),r=i(548286),a=i(189976),o=i(696323);function s(e,t,i){return s=>(0,n.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:i?{orbac_subject_id:i}:{}}).then(()=>Promise.all([s((0,r.eo)({boardId:e})),s((0,l.Z)(t,"pin_count")),s((0,a.N8)(o.Z.BOARD_SECTIONS,t))]))}let d=async(e,t,i,s)=>{await (0,n.Z)({url:`/v3/boards/${t}/merge/${i}/`,method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,r.eo)({boardId:t})),(0,l.Z)(i,"pin_count"),e((0,a.N8)(o.Z.BOARD_SECTIONS,i))}},812577:function(e,t,i){i.d(t,{I:()=>o,Z:()=>a});var n=i(886981),l=i(947810);let r=({boardId:e,ownerUsername:t,ownerName:i,ownerImgSrc:r})=>{let a=(0,l.Z)(),{data:o,isLoaded:s}=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...a?{orbac_subject_id:a}:{}}}),d=[{name:i,src:r,href:`/${t}/`,isDim:!1}];return s&&o&&o.length>0&&o.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},a=r;function o({children:e,...t}){return e(r(t))}},31987:function(e,t,i){i.d(t,{Z:()=>tt});var n=i(667294),l=i(581722),r=i(825332),a=i(20256),o=i(138),s=i(865540),d=i(704088),c=i(729082),u=i(782881),p=i(980787),_=i(679422),f=i(364843),h=i(821342),m=i(390843),g=i(123998),y=i(87853),x=i(341742),b=i(448505),v=i(7872),w=i(551651),j=i(104659),S=i(281098),P=i(369416),A=i(785893);function Z({layoutType:e,thumbnails:t}){switch((0,n.useEffect)(()=>{(0,S.Z)("BoardActionUpsellImages","/app/www/BoardActionUpsells/BoardActionUpsellImages.tsx")},[]),e){case 4:let i=t&&t[0]&&t[0]["236x"];return(0,A.jsx)(a.zd,{height:80,rounding:4,width:80,children:i?(0,A.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url}):(0,A.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,A.jsx)(a.xu,{color:"secondary",height:80,width:39.4}),(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,A.jsx)(a.xu,{color:"secondary",height:39.4,width:39.4}),(0,A.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,A.jsx)(a.zd,{height:80,rounding:4,width:80,children:(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let i=t&&t?.length>0?t[e]:null;return(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,A.jsx)(a.xu,{height:80,width:39.4,children:i?.["236x"]?.url&&(0,A.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:i["236x"].url})})},e)})})});default:return null}}let C=[502043,502085],B=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function I({boardId:e,displayData:t,complete:i,dismiss:l,handleShowArchiveConfirmation:r}){let{logContextEvent:o}=(0,p.u)(),[s,d]=(0,n.useState)(void 0);(0,n.useEffect)(()=>()=>clearTimeout(s),[s]);let c={2:r};return(0,n.useEffect)(()=>{s||d(setTimeout(()=>{l()},2e4)),o({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,A.jsxs)(a.mh,{children:[(0,A.jsx)(P.Z,{unsafeCSS:B}),(0,A.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,A.jsx)(a.xu,{flex:"none",children:(0,A.jsx)(Z,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,A.jsxs)(a.xu,{marginStart:4,children:[(0,A.jsx)(a.xv,{inline:!0,children:(0,A.jsx)(a.X6,{size:"400",children:t.text})}),(0,A.jsxs)(a.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,A.jsx)(a.zx,{color:"gray",onClick:()=>{o({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),l()},text:t.dismiss_button.text}),(0,A.jsx)(a.xu,{paddingX:2,children:(0,A.jsx)(a.zx,{color:"red",onClick:()=>{c[t.complete_button.action_type](),o({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),i()},text:t.complete_button.text})})]})]})]})]})}function k({boardId:e,handleShowArchiveConfirmation:t}){return(0,n.useEffect)(()=>{(0,S.Z)("BoardActionUpsellCard","/app/www/BoardActionUpsells/BoardActionUpsellCard.tsx")},[]),(0,A.jsx)(f.a3,{eligibleIds:C,placementId:18,children:({experience:i,complete:n,dismiss:l})=>(0,A.jsx)(I,{boardId:e,complete:n,dismiss:l,displayData:i.display_data,handleShowArchiveConfirmation:t})})}var T=i(801619),E=i(548286),F=i(830235),O=i(509579),D=i(64496),z=i(476785),L=i(982166),M=i(19585),N=i(302148);function R(){(0,n.useEffect)(()=>{(0,S.Z)("GroupBoardFavoriteEducationModal","/app/www/FavoriteButton/GroupBoardFavoriteEducationModal.tsx")},[]);let e=(0,M.ZP)(),t=(0,A.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,A.jsx)(a.xv,{children:(0,N.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,A.jsx)(a.xu,{display:"inlineBlock",children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})});return(0,A.jsx)(f.a3,{eligibleIds:[503077],placementId:18,children:({complete:i,dismiss:n})=>(0,A.jsx)(L.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:(0,A.jsx)(a.kC,{justifyContent:"end",children:(0,A.jsx)(a.zx,{onClick:()=>i(),text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),heading:(0,A.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,A.jsx)(a.xu,{maxWidth:400,children:(0,A.jsx)(a.X6,{align:"center",size:"600",children:(0,N.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,A.jsx)(a.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,A.jsx)(a.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]}),onDismiss:n,size:"sm",children:t})})}var U=i(493812),H=i(189976),K=i(696323),$=i(154237),G=i(467925),q=i(352228),W=i(21845),X=i(86357);function V({board:e,currentFilter:t,eligibleFilters:i,isOwnBoard:l,surface:r,setCurrentFilter:o,setTitle:s}){(0,n.useEffect)(()=>{(0,S.Z)("ActionBarFilterButton","/app/www/save/board/BoardDefaultTabContent/ActionBarFilterButton.tsx")},[]);let d=(0,U.WG)(),{logContextEvent:c}=(0,p.u)(),u=(0,M.ZP)(),_=(0,n.useRef)(null),f=d?.boardPinDensity,[h,m]=(0,n.useState)(!1),g=()=>{m(!1)},y=e=>{(0,W.Z)({boardDensity:e,component:"board"===r?13183:13187,viewType:"board"===r?5:164},c),(0,X.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},x=[],b={[q.c]:12111,[q.A]:12227};if(i){let n={items:i.map(i=>({isSelected:i.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:b[i.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:l?3069:3070}),o(i.pin_type??-1),s(i.pin_type===q.c?null:i.text),g()},text:i.text??""})),label:u._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};x.push(n)}return x.push({items:[{isSelected:"regular"===f,onClick:()=>{g(),y("regular")},text:u._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===f,onClick:()=>{g(),y("dense")},text:u._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:u._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(a.xu,{ref:_,children:(0,A.jsx)(a.hU,{accessibilityControls:"filter_board",accessibilityExpanded:h,accessibilityLabel:u._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),accessibilityPopupRole:"menu",icon:"filter",iconColor:"darkGray",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:l?3069:3070}),m(!h)},selected:h,size:"lg"})}),h&&(0,A.jsx)(a.Lt,{anchor:_.current,disableMobileUI:!0,id:"filter_board",onDismiss:g,children:x.map(({items:e,label:t})=>(0,A.jsx)(a.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:i})=>(0,A.jsx)(a.Lt.Item,{onSelect:t,option:{label:i,value:i},selected:e?{label:i,value:i}:null},i))},t))})]})}let J=(0,f.RL)(1000332)(function({board:e,currentFilter:t,isHidePinCount:i,isOwnBoard:l,paddingX:r=8,section:o,setCurrentFilter:s,showExperienceTooltip:d}){let c=(0,M.ZP)(),{eligible_pin_type_filters:u}=o??e,[p,_]=(0,n.useState)(null),h=(0,n.useRef)(null),m=o?o.pin_count:e.pin_count,{experimentalGutter:g}=(0,G.Z)();return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:g?{paddingLeft:g,paddingRight:g}:{}},direction:"row",display:"flex",justifyContent:i?"end":"between",paddingX:r,children:[!i&&(0,A.jsx)(a.xu,{flex:"grow",children:(0,A.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:t>0&&p?p:(0,N.nk)(c.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', m ?? 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:m})})}),(0,A.jsx)(a.xu,{ref:h,children:(0,A.jsx)(V,{board:e,currentFilter:t,eligibleFilters:u?.filter(e=>5!==e.pin_type),isOwnBoard:l,setCurrentFilter:s,setTitle:_,surface:o?"section":"board"})})]}),d&&h&&(0,A.jsx)(a.mh,{children:(0,A.jsx)(f.a3,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>(h&&h.current?.scrollIntoView(!1),(0,A.jsx)(a.pl,{anchor:h.current,idealDirection:"down",message:t.text,onDismiss:e}))})})]})});var Y=i(238641),Q=i(317884),ee=i(283550),et=i(433110),ei=i(305434),en=i(227129),el=i(371714);let er=()=>{};function ea({board:e,currentView:t,handleContentViewChange:i,handleSetCurrentModal:r,handleShowEditSectionModal:o,handleShowMergeSectionsConfirmationModal:s,isBoardPreviewMode:d,isHidePinCount:c,isOwnerOrCollaborator:u,isOwnBoard:p,isPinGridSorted:_,refreshBoardData:f=er,refreshSectionData:m=er,section:g}){(0,n.useEffect)(()=>{(0,S.Z)("BoardAndSectionPageContent","/app/www/save/board/BoardPageContainer/BoardAndSectionPageContent.tsx")},[]);let y=(0,h.Z)(),x=(0,Q.Z)({board:e,viewer:y}),b=(e.access||[]).includes("write"),v=(0,U.WG)()?.boardPinDensity,w=(0,en.Z)(g?(0,ei.Z)(e,g):""),[j,P]=(0,n.useState)(q.c),[Z,C]=(0,n.useState)(!1),B=(0,l.I0)();(0,n.useEffect)(()=>()=>{j!==q.c&&(g?B((0,H.N8)(K.Z.BOARD_SECTION_PINS,g.id??"")):B((0,H.N8)(K.Z.BOARDFEED,e.id)))},[e,j,B,g]);let I=(0,n.useCallback)(()=>{j>0&&(P(q.c),g?m():f())},[j,m,f,g]),k=(0,n.useMemo)(()=>g?{currentFilter:j,eligibleFilters:g.eligible_pin_type_filters,refreshData:m,sectionId:g.id}:{currentFilter:j,eligibleFilters:e.eligible_pin_type_filters,refreshData:f,setShowExperienceTooltip:C},[g,e.eligible_pin_type_filters,j,f,m]);return g?(0,A.jsx)(Y.k,{value:k,children:(0,A.jsxs)(n.Fragment,{children:[u&&!d&&(0,A.jsx)(J,{board:e,currentFilter:j,isOwnBoard:p,section:g,setCurrentFilter:P,showExperienceTooltip:!1}),(0,A.jsx)(et.Z,{board:e,boardSectionId:g.id,currentFilter:j,denseViewSelected:b&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:p,isOwnerOrCollaborator:u,refreshFilteredFeed:I,renderFooterStory:t=>!e.archived_by_me_at&&u&&(0,A.jsx)(a.xu,{marginBottom:12,children:(0,A.jsx)(ee.Z,{children:(0,A.jsx)(el.Z,{collection:g,storyId:t,url:w})})}),viewer:y,viewParameter:x})]})}):(0,A.jsx)(Y.k,{value:k,children:(0,A.jsxs)(n.Fragment,{children:[u&&!d&&(0,A.jsx)(z.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,A.jsx)(J,{board:e,currentFilter:j,isHidePinCount:c,isOwnBoard:p,paddingX:0,setCurrentFilter:P,showExperienceTooltip:Z})}),(0,A.jsx)($.Z,{actions:{onBoardOrganizeClick:er},board:e,currentFilter:j,currentView:t,enableReordering:u,isBoardPreviewMode:d,isOwnBoard:p,isPinGridSorted:_,onContentViewChange:i,onShowEditSectionModal:o,onShowMergeSectionsConfirmationModal:(e,t)=>{r(O.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:I,viewParameter:x}),u&&(0,A.jsx)(R,{})]})})}var eo=i(947810),es=i(306274),ed=i(211119),ec=i(822377),eu=i(316658),ep=i(456202),e_=i(507187),ef=i(95763);function eh({onDismiss:e,boardId:t}){(0,n.useEffect)(()=>{(0,S.Z)("ReportBoard","/app/www/profile/UserProfileHeader/ModalContents/FlagProfile/ReportBoard.tsx")},[]);let{showErrorToast:i,showSuccessToast:l}=(0,ef.Z)(),[r,a]=(0,n.useState)(null);(0,x.Z)(()=>{(async()=>{try{let e=await (0,ep.Z)(t);e?a(e):i()}catch{i()}})()});let o=async({reasonKey:n})=>{try{await (0,e_.Z)(t,{reason:n}),e(),l()}catch{e(),i()}};return(0,A.jsx)(eu.ZP,{handleSubmitReport:o,objectToReport:{type:"board",id:t},onDismiss:e,reportingReasons:r})}var em=i(628710),eg=i(886981),ey=i(32250);function ex({boardId:e,ownerUsername:t,ownerName:i,ownerImgSrc:n,ownerIsAdsOnlyProfile:l,ownerAdsOnlyProfileSite:r,children:a}){let{data:o,isLoaded:s}=(0,eg.Z)({name:"ApiResource",options:{url:(0,ey.Z)({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),d=[{name:i,src:n,href:`/${t}/`,is_ads_only_profile:l,ads_only_profile_site:r}];return s&&o&&o.length>0&&o.forEach(e=>{d.push((0,em.Z)(e))}),a(d)}var eb=i(812577),ev=i(521009),ew=i(821115),ej=i(475498);function eS(e){(0,n.useEffect)(()=>{(0,S.Z)("FollowingToast","/app/www/board/Header/ActionBar/FollowingToast.tsx")},[]);let{boardImage:t,boardName:i,boardUrl:l,onHide:r}=e,o=(0,M.ZP)(),s=(0,A.jsx)(a.xv,{children:(0,N.nk)(o._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,A.jsx)(a.xv,{weight:"bold",children:i},"boardName")})});return(0,A.jsx)(ej.Z,{href:l,imageUrl:t,onHide:r,text:s})}var eP=i(207691),eA=i(854167);function eZ(e){(0,n.useEffect)(()=>{(0,S.Z)("EllipsisMenuButton","/app/www/save/board/BoardPageContainer/EllipsisMenuButton.tsx")},[]);let t=(0,M.ZP)(),{bgColor:i,board:r,canCreatePincode:o,canEdit:s,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:u,onReportClick:p,showFollow:f,showShare:h,size:m}=e,{id:g,name:x,url:b,image_cover_url:v}=r,[w,j]=(0,n.useState)(r.followed_by_me),{showOneToast:P}=(0,y.dI)(),Z=(0,l.I0)(),C=(0,_.Z)(),B=(0,ev.Z)(),I=({event:e})=>{if(C){e.stopPropagation(),C();return}w?(Z((0,eP.f)(g,B)),j(!1)):(Z((0,eP.Z)(g,B)),j(!0),P(({hideToast:e})=>(0,A.jsx)(eS,{boardImage:v??"",boardName:x,boardUrl:b,onHide:e})))},k={edit:t._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:t._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:t._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:t._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:t._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:t._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,A.jsx)(ew.Z,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:t._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:m,children:()=>(0,A.jsxs)(a.Lt.Section,{label:t._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[s&&u&&(0,A.jsx)(a.Lt.Item,{onSelect:()=>{u()},option:{label:k.edit,value:k.edit}}),s&&o&&d&&(0,A.jsx)(a.Lt.Item,{onSelect:()=>{d()},option:{label:k.create_pincode,value:k.create_pincode}}),h&&c&&(0,A.jsx)(eA.Z,{boardKey:{type:"Legacy",data:r},onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,A.jsx)(a.Lt.Item,{onSelect:e,option:{label:k.share,value:k.share}})}),f&&(0,A.jsx)(n.Fragment,{children:w?(0,A.jsx)(a.Lt.Item,{onSelect:I,option:{label:k.unfollow,value:k.unfollow}}):(0,A.jsx)(a.Lt.Item,{onSelect:I,option:{label:k.follow,value:k.follow}})}),(0,A.jsx)(a.Lt.Item,{onSelect:p,option:{label:k.report,value:k.report}})]})})}var eC=i(600693),eB=i(918920),eI=i(378888),ek=i(575108),eT=i(670622),eE=i(72918),eF=i(647709),eO=i(744862),eD=i(417245);function ez(e){(0,n.useEffect)(()=>{(0,S.Z)("Facepile","/app/www/save/board/BoardCollaboratorFacepile/Facepile.tsx")},[]);let{faces:t,maxFaces:i,numFaces:l,onOverflowClick:r,shouldNavigate:o=!0}=e,s=[...t].reverse(),d=t.length>i?s.slice(0,i+1):s,c=l-i,u=(0,h.Z)(),p=u.isAuth?u?.avatar_color_index:void 0;return(0,A.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:d.map((e,t)=>{let{name:i,src:n,href:l,isDim:s}=e;if(0===t&&c>0)return(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:n&&(0,A.jsx)(a.Ee,{alt:i,fit:"contain",naturalHeight:44,naturalWidth:44,src:n,children:(0,A.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:r,rounding:"circle",children:(0,A.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,A.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:c>99?"99+":c})})})})},t);{let e=(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,A.jsx)(eO.qE,{color:p,name:i,outline:!0,size:"sm",src:n})},t);return o?(0,A.jsx)(a.Tg,{href:l,rounding:"circle",children:e},t):e}})})}function eL({invitedByUser:e,isAccepted:t,onDecline:i,onAccept:l,createdAt:r}){(0,n.useEffect)(()=>{(0,S.Z)("BoardCollabInviteBanner","/app/www/BoardCollab/BoardCollabInviteBanner.tsx")},[]);let o=(0,M.ZP)(),s=(0,h.Z)(),d=s.isAuth?s?.avatar_color_index:void 0,{first_name:c,full_name:u,username:p,image_medium_url:_}=e,f=c||u||o._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,A.jsx)(a.W2,{children:t?(0,A.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,A.jsx)(ez,{faces:[{href:s.isAuth?`/${s.username}`:"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:`/${p}`,name:u,src:_}],maxFaces:2,numFaces:2}),(0,A.jsxs)(a.xu,{marginStart:2,children:[(0,A.jsx)(a.xv,{weight:"bold",children:o._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,A.jsx)(a.xv,{children:(0,eD.Z)(o._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:f})})]})]}):(0,A.jsx)(a.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,A.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,A.jsx)(a.xu,{marginEnd:2,children:(0,A.jsx)(eO.qE,{color:d,name:u,size:"md",src:_})}),(0,A.jsx)(a.xu,{flex:"grow",children:(0,A.jsx)(a.xv,{color:"default",inline:!0,children:(0,N.nk)(o._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,A.jsx)(a.xv,{color:"default",inline:!0,weight:"bold",children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:`/${p}`,underline:"hover",children:u})},p),createdAt:(0,A.jsx)(a.xv,{color:"subtle",inline:!0,children:r})})})}),(0,A.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,A.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,A.jsx)(a.zx,{color:"gray",onClick:i,size:"lg",text:o._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,A.jsx)(a.zx,{color:"red",onClick:l,size:"lg",text:o._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var eM=i(415602);function eN({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:i,userInviterId:r}){(0,n.useEffect)(()=>{(0,S.Z)("BoardCollabInviteBannerContainer","/app/www/BoardCollab/BoardCollabInviteBannerContainer.tsx")},[]);let o=(0,M.ZP)(),s=(0,y.dI)(),d=(0,eT.Z)(),[c,u]=(0,n.useState)(!1),[p,_]=(0,n.useState)(null),f=(0,eF.HG)(),m=(0,h.Z)(),g=(0,l.I0)(),x={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:m.isAuth&&m.id},b=(0,eM.RZ)(),v=(0,eM.CQ)();(0,n.useEffect)(()=>{r&&i&&(b(e).then(()=>{g((0,eM.A8)(e)),f&&s.showToast(({hideToast:e})=>(0,A.jsx)(ej.Z,{duration:5e3,onHide:e,text:o._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))}),ek.Z.create("UserResource",{field_set_key:"grid_item",user_id:r}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&_(t)}))},[i,r]);let{data:w}=(0,eg.Z)({name:"BoardInviteResource",options:x}),j=!!(r&&i)||c,P=!["new","contact_request_not_approved"].includes(w?.status||""),Z=t=>{(t?b(e):v(e,x.invited_user_id||"")).then(()=>{t&&(g((0,eM.A8)(e)),u(!0),s.showToast(({hideToast:e})=>(0,A.jsx)(ej.Z,{duration:5e3,onHide:e,text:o._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))),g((0,eE.jB)("BoardInviteResource",x))})},C=w?.invited_by_user||p,B=j?f:P;return!C||B?null:(0,A.jsx)(a.xu,{marginTop:3,paddingY:0,children:(0,A.jsx)(eL,{createdAt:d(w?.created_at||"",!0),invitedByUser:C,isAccepted:j,onAccept:()=>Z(!0),onDecline:()=>Z(!1)})})}function eR({boardId:e}){let t=(0,r.TH)(),i=t&&t.search?(0,eI.mB)(t.search):{},n=i.invite_code,l=i.accept_invite,a=i.inviter_user_id;return(0,A.jsx)(eN,{boardId:e,inviteCode:n,shouldAutoAcceptBoardInvite:l,userInviterId:a})}let eU=function(e){let{board:t}=e,{id:i,owner:l,sensitivity:r}=t,o=(0,h.Z)(),s=o.isAuth?o.id:"",d=l?.id===s,c=(0,es.Uz)(r);return(0,A.jsxs)(n.Fragment,{children:[!c&&(0,A.jsx)(eR,{boardId:i}),c&&(0,ed.ZP)(r).hasNotices&&r&&(0,A.jsx)(a.xu,{paddingY:10,children:(0,A.jsx)(ec.Z,{boardId:i,boardName:t.name,notices:r.notices,sensitivity:r,viewParameter:d?3069:3070,viewType:5})})]})};var eH=i(419064),eK=i(840321);function e$(e){(0,n.useEffect)(()=>{(0,S.Z)("BoardPageHeader","/app/www/save/board/Headers/BoardHeader/BoardPageHeader.tsx")},[]);let{board:t,collaborators:i,handleCreatePincode:l,handleShowCollabAndPermissionsModal:r,isBoardPreviewMode:o,overFlowActionsButton:s,showPulsar:d,setBoardPreviewMode:c,userBlocked:p}=e,{access:_,archived_by_me_at:f,collaborator_requests_enabled:m,name:g,owner:y,privacy:x,should_show_board_collaborators:w}=t,{nonDisplayedCollaboratorCount:j}=(0,eK.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:i,showOnlyOwner:!w,ownerName:y?.full_name}),P=(0,h.Z)(),Z=(0,b.Z)(),C=(0,v.D3)(P,t.owner?.id||"",Z),B=_&&_.includes("write")||C,I=(0,u.Z)(t.collaborated_by_me,t.owner?.id,P)||C,k=x===eB.ZP.BoardPrivacy.SECRET,T=!B&&!p&&m&&!(P.isAuth&&P.isPrivateProfile);return(0,A.jsxs)(a.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,A.jsx)(a.xu,{maxWidth:800,children:(0,A.jsx)(eU,{board:t})})}),(0,A.jsx)(a.xu,{marginTop:4,paddingX:2,children:(0,A.jsx)(eH.Z,{board:t,boardName:g??"",collaborators:i,description:t.description??"",handleShowCollabAndPermissionsModal:r,isArchived:!!f,isBoardPreviewMode:o,isOwnerOrCollaborator:I,isSecret:k,nonDisplayedCollaboratorCount:j,onCreatePincode:l,overFlowActionsButton:s,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:c,showJoinButton:!!T,showPulsar:d})})]})}var eG=i(875863),eq=i(271910);let eW=e=>{(0,n.useEffect)(()=>{(0,S.Z)("SectionHeader","/app/www/save/board/Headers/SectionHeader/SectionHeader.tsx")},[]);let{boardName:t,boardUrl:i,children:l,description:r,overFlowActionsButton:o,sectionName:s,ref:d}=e;return(0,A.jsxs)(a.xu,{ref:d,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,A.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,A.jsx)(eG.Z,{children:(0,A.jsx)(a.xu,{marginTop:4,children:(0,A.jsx)(eq.q,{children:({active:e,focused:n,hovered:l,onBlur:r,onFocus:o,onMouseEnter:s,onMouseLeave:d})=>(0,A.jsx)(a.Tg,{href:i??"",onBlur:r,onFocus:o,onMouseEnter:s,onMouseLeave:d,children:(0,A.jsx)(a.X6,{align:"center",color:e||n||l?"default":"subtle",children:t})})})})}),(0,A.jsx)(eG.Z,{children:(0,A.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,A.jsx)(a.X6,{align:"center",lineClamp:1,children:s}),!!o&&(0,A.jsx)(a.xu,{paddingX:1,children:o})]})}),!!r&&(0,A.jsx)(eG.Z,{children:(0,A.jsx)(a.xv,{align:"center",children:r})})]}),l&&(0,A.jsx)(a.xu,{marginTop:8,children:l})]})};function eX({board:e,handleBoardEditClick:t,handleFollowersClick:i,handleSectionEditClick:l,handleShowBoardArchiveConfirmation:r,handleShowBoardUnarchiveConfirmation:o,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:d,handleShowMergeModal:p,isBoardPreviewMode:_,section:f,showPulsar:m,setBoardPreviewMode:g}){(0,n.useEffect)(()=>{(0,S.Z)("BoardAndSectionPageHeader","/app/www/save/board/BoardPageContainer/BoardAndSectionPageHeader.tsx")},[]);let y=(0,h.Z)(),x=(0,b.Z)(),w=(0,eo.Z)(),j=w&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${w}`:"",{name:P,sensitivity:Z,access:C,url:B=""}=e,[I,k]=(0,n.useState)(!1),T=(0,v.D3)(y,e.owner?.id||"",x),E=C&&C.includes("write")||T?eb.I:ex,F=(0,es.Uz)(Z),O=(0,u.Z)(e.collaborated_by_me,e.owner?.id,y)||T,D=null;D=O?(0,A.jsx)(eC.Z,{bgColor:f?"lightGray":"white",board:e,excludeShareOption:!0,onArchiveClick:r,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:l,onMergeClick:p,onUnarchiveClick:o,showCreatePinCodeOption:y.isAuth&&y.isPartner,size:"lg",surface:f?"section":"board"}):(0,A.jsx)(eZ,{bgColor:"white",board:e,onReportClick:()=>k(!0),showFollow:!0,size:"lg"});let z=F&&(0,ed.ZP)(Z).hasNotices;return(0,A.jsxs)(n.Fragment,{children:[I&&(0,A.jsx)(eh,{boardId:e.id,onDismiss:()=>k(!1)}),f?(0,A.jsxs)(n.Fragment,{children:[z&&(0,A.jsx)(eG.Z,{children:(0,A.jsx)(a.xu,{maxWidth:800,paddingY:10,children:Z&&(0,A.jsx)(ec.Z,{boardId:e.id,boardName:e.name,boardSectionId:f.id,isOwnBoard:T,notices:Z.notices,sensitivity:Z,viewParameter:T?3069:3070,viewType:5})})}),(0,A.jsx)(eW,{boardName:P,boardUrl:`${B}${j}`,description:f.description??"",overFlowActionsButton:D,sectionName:f.title??""})]}):(0,A.jsx)(a.xu,{"data-test-id":"board-header",paddingX:2,children:(0,A.jsx)(E,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,A.jsx)(e$,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:s,isBoardPreviewMode:_,onFollowersClick:i,overFlowActionsButton:D,setBoardPreviewMode:g,showPulsar:m,userBlocked:!!e.owner?.blocked_by_me})})})]})}eW.displayName="SectionHeader";var eV=i(686319);function eJ({boardId:e,collaboratorId:t,collaboratorUsername:i}){(0,n.useEffect)(()=>{(0,S.Z)("BoardOwnershipTransferUpsell","/app/www/save/board/BoardPageContainer/BoardOwnershipTransferUpsell.tsx")},[]);let o=(0,l.I0)(),s=(0,r.s0)(),d=(0,M.ZP)();return(0,A.jsx)(a.kC,{justifyContent:"center",width:"100%",children:(0,A.jsx)(a.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,A.jsx)(a.XA,{message:d._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:d._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:d._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:()=>{(0,eV.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"PUT",data:{collaborator:t}}),o((0,E.K8)(i)),s(`/${i}/`)}},secondaryAction:{accessibilityLabel:d._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:d._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:()=>{o((0,eM.xx)(e,t))}},title:d._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var eY=i(664973);function eQ({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:i,surface:l}){(0,n.useEffect)(()=>{(0,S.Z)("FloatingAddButton","/app/www/save/board/BoardPageContainer/FloatingAddButton.tsx")},[]);let{logContextEvent:r}=(0,p.u)(),o=(0,M.ZP)(),s=(0,n.useRef)(null),d="board"===l?o._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):o._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,A.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,A.jsx)(eY.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:i,onOpen:()=>{r({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:l,children:({active:e,accessibilityControls:t,openFlyout:i})=>(0,A.jsxs)(a.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,A.jsx)(a.xG,{ref:s,accessibilityControls:t,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"add",onClick:i,selected:e,tooltip:{text:d}}),(0,A.jsx)(f.cs,{anchors:{3006:s.current},idealDirection:"up",placementId:18}),(0,A.jsx)(f.N,{anchors:{3006:s.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var e0=i(140725);let e1=i(250905).HW+1;function e2({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:i}){(0,n.useEffect)(()=>{(0,S.Z)("SensitivityScreen","/app/www/save/board/BoardPageContainer/SensitivityScreen.tsx")},[]);let l=(0,M.ZP)();return(0,e0.Q)({component:13860,view_type:5,aux_data:i}),(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(e1),children:(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,A.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,A.jsx)(a.X6,{align:"center",color:"light",children:l._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,A.jsxs)(a.kC,{gap:{row:6,column:0},children:[(0,A.jsx)(a.zx,{color:"red",onClick:e,size:"lg",text:l._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,A.jsx)(a.zx,{color:"white",onClick:t,size:"lg",text:l._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,A.jsx)(a.xu,{paddingY:4,children:(0,A.jsx)(a.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,N.nk)(l._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,A.jsx)(a.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:l._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var e8=i(697063),e3=i(31290),e7=i(196491),e4=i(558926),e6=i(647512);function e5(e){(0,n.useEffect)(()=>{(0,S.Z)("SectionAddedToast","/app/www/save/board/SectionAddedToast.tsx")},[]);let t=(0,M.ZP)(),{boardUrl:i="",onHide:l,slug:r}=e;return(0,A.jsx)(ej.Z,{duration:2e3,href:`${i}${r}`,onHide:l,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}var e9=i(244526);let te=()=>{},tt=(0,f.RL)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:i,refreshBoardData:S=te,refreshSectionData:P=te,setPlacementExtraContext:Z=te,section:C,showPulsar:B}){let[I,z]=(0,n.useState)(!1),{logContextEvent:L}=(0,p.u)(),N=(0,l.I0)(),R=(0,_.Z)(),{setFooterPlusButtonVisible:H}=(0,j.G)(),K=(0,h.Z)(),$=(0,b.Z)(),G=(0,T.W$)(K,e),{collaborated_by_me:q,id:W,owner:X,pending_ownership_transfer:V,pin_count:J,privacy:Y}=e,{pin_count:ee}=C||{},et=X?.id||"",ei=(0,v.q6)(K,et,$),en=(0,u.Z)(q,et,K)||ei,el=K.isAuth&&K.id===V,er=(0,v.lJ)(K,$),es=er&&(0,c.Z)(Y)?`?orbac_subject_id=${er}`:"",ed=(0,s.Z)(!0),ec=!!C;(0,n.useEffect)(()=>{let t="other";G?t="own":(0,T.Df)(K,e)&&(t="collaborator"),Z({board_ownership:t})},[t]),(0,n.useEffect)(()=>(en&&H(!1),()=>{H(!0)}),[H,en]);let{showOneToast:eu}=(0,y.dI)(),ep=(0,r.s0)(),e_=(0,r.TH)(),{previous:ef}=(0,m.ou)(),eh=0===ef.length,em=(0,U.WG)(),ey=(0,h.Z)(),ex=(0,eg.Z)({name:"UserMetadataResource",options:{user:ey}});(0,n.useEffect)(()=>{if(ex&&ex.data&&!em?.boardPinDensity){let{profile_pin_rep_view_type:e}=ex.data;em?.setBoardPinDensity(e??"regular")}});let{handleShowMergeSectionsConfirmationModal:eb,mergeConfirmationModalProps:ev,onConfirm:ew}=(0,D.Z)({board:e}),ej=function(){let e=(0,M.ZP)(),{logContextEvent:t}=(0,p.u)(),i=(0,l.I0)(),{showBlockingActionToast:n}=(0,e3.Z)(),r=(0,eo.Z)();return({board:l,targetBoard:a})=>{t({event_type:7172,object_id_str:l.id,aux_data:{merge_flow:"menu"}}),i((0,e7.Z)(l.id,a.id,r)).then(()=>{n({actionType:"merge",board:a})}).catch(t=>{e8.Z.showError(t.message||e._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}}(),eS={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[eP,eA]=(0,n.useState)(!!e.sensitivity_screen?.show_warning&&!en),[eZ,eC]=(0,n.useState)(null),[eB,eI]=(0,n.useState)(i||null),[ek,eT]=(0,n.useState)(e&&(0,e6.Z)(K,e)||"custom"),eE=()=>eI(O.s.boardArchiveConfirmation),eF=()=>{ep(K.isAuth?`/${(0,v.Ms)(K,$)}`:"/",{replace:!0})},eO=e=>{if(R)return void R();eI(O.s.editSection),eC(e)},eD={board_id:e.id,board_pin_count:J};return(0,x.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=e_.state||Object.freeze({});e&&(eI(O.s.collaboratorsAndPermissions),ep({...e_,state:{...e_.state,shouldOpenCollaboratorsModal:!1}},{replace:!0}))}),(0,A.jsx)(w.Z,{objectIdStr:W,viewParameter:G?3069:3070,viewType:5,children:(0,A.jsx)(g.Z,{auxData:eD,objectId:W,view:5,viewParameter:(0,Q.Z)({board:e,viewer:K}),children:(0,A.jsxs)(n.Fragment,{children:[(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:eP?{filter:"blur(30px)"}:{}},children:[(0,A.jsxs)(e9.h,{children:[(0,A.jsx)(eX,{board:e,handleBoardEditClick:()=>{L({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eI(O.s.boardEdit)},handleFollowersClick:()=>{eI(O.s.followers)},handleSectionEditClick:()=>eO(),handleShowBoardArchiveConfirmation:eE,handleShowBoardUnarchiveConfirmation:()=>eI(O.s.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:()=>eI(O.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(R)return void R();L({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eI(O.s.pincode)},handleShowMergeModal:()=>{if(R)return void R();eI(O.s.mergeBoard)},isBoardPreviewMode:I,section:C,setBoardPreviewMode:z,showPulsar:B}),en&&ec&&!I&&(0,A.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,A.jsx)(e4.Z,{boardId:e.id,isBoardEmpty:!J||!ee,sectionId:C?.id})}),el&&(0,A.jsx)(eJ,{boardId:e.id,collaboratorId:K.isAuth?K.id:"",collaboratorUsername:K.isAuth?K.username:""}),eB!==O.s.jumpstartBoard&&(0,A.jsx)(g.Z,{auxData:eD,component:178,objectId:e.id,view:5,viewParameter:G?3069:3070,children:(0,A.jsx)(ea,{board:e,currentView:ek,handleContentViewChange:e=>eT(e),handleSetCurrentModal:eI,handleShowEditSectionModal:eO,handleShowMergeSectionsConfirmationModal:eb,isBoardPreviewMode:I,isHidePinCount:!ec,isOwnBoard:G,isOwnerOrCollaborator:en,isPinGridSorted:"custom"!==ek,refreshBoardData:S,refreshSectionData:P,section:C})}),(0,A.jsx)(k,{boardId:e.id,handleShowArchiveConfirmation:eE}),en&&(0,A.jsx)(eQ,{handleAddSection:()=>{if(R)return void R();L({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eI(O.s.simpleCreateSection)},handleCreatePin:()=>{if(R)return void R();L({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),ep("/pin-builder/",{state:{board:e,boardSection:C}})},handleCreateStoryPin:()=>{if(R)return void R();L({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),ep((0,o.Z)(ed),{state:{board:e,entry_type:"board_plus_button",boardSection:C}})},surface:C?"section":"board"})]}),eB&&(0,A.jsx)(F.Z,{actions:{completeCreateSectionAction:t=>{if(R)return void R();eI(null),eu(({hideToast:i})=>(0,A.jsx)(e5,{boardUrl:e.url,onHide:i,slug:t.slug??""}))},onBoardArchiveChange:()=>{N((0,E.K8)(K.isAuth?K.username:""))},onBoardDelete:()=>{S(),eF()},onBoardLeave:()=>{N((0,E.K8)(K.isAuth?K.username:"")),eF()},onBoardMerge:t=>{ej({board:e,targetBoard:t}),eF()},onBoardSectionDelete:()=>{if(eC(null),eI(null),C){let t=e.url??"";ep(`${t}${es}`,{replace:!0})}},onBoardSectionSave:({slug:t})=>{eC(null),eI(null),C&&ep(`${e.url??""}${t}/${es}`,{replace:!0})},onConfirmMergeSection:ew},board:e,boardSection:C||eZ,currentModal:eB,mergeConfirmationModalProps:ev,onClearModal:()=>eI(null)}),(0,A.jsx)(f.k6,{placementId:1000647}),(0,A.jsx)(f.RK,{placementId:18}),(0,A.jsx)(d.Z,{placementId:18}),(0,A.jsx)(f._f,{experience:t,placementId:18}),(0,A.jsx)(f.nj,{experience:t,placementId:18})]}),eP&&(0,A.jsx)(e2,{handleGoBack:()=>{L({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eS}}),eh&&ep("/",{replace:!0}),ep(-1)},hideSensitivityScreen:()=>{N((0,E.of)(e.id)),L({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eS}}),eA(!1)},sensitivityScreenAuxData:eS})]})})})})},433110:function(e,t,i){i.d(t,{Z:()=>m});var n=i(581722),l=i(821342),r=i(886981),a=i(448505),o=i(7872),s=i(33618),d=i(696323),c=i(930382),u=i(223700),p=i(185094),_=i(222719),f=i(785893);function h(e){let t=(0,l.Z)(),i=(0,a.Z)(),h=(0,o.lJ)(t,i),m=(0,r.Z)({name:"BoardSectionPinsResource",options:function(e,t,i,n=""){return{currentFilter:i,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:n}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,h)}),g=(0,r.Z)({name:"BoardsResource",options:(0,s.Z)(e.viewer.username,!0)}),y=(0,n.v9)(({feeds:t,desktopStories:i})=>(0,u.Z)(t[`${d.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],i));return(0,f.jsx)(c.Z,{...e,...y,boardsResource:g,renderFeaturedBoardsStory:t=>(0,f.jsx)(p.Z,{isOwnBoard:e.isOwnBoard,storyId:t}),renderMoreIdeas:t=>e.isOwnerOrCollaborator?null:(0,f.jsx)(_.default,{storyId:t}),resource:m})}h.displayName="BoardSectionPinGrid";let m=h},305434:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){let{url:i}=e,{slug:n}=t;return`${i??""}${n??""}/`}},147403:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)({showAbout:!1,setShowAbout:()=>{}})},512395:function(e,t,i){function n(){return{}}i.d(t,{kr:()=>n}),i.g.__AsyncLocalStorage__&&new i.g.__AsyncLocalStorage__},650422:function(e,t,i){function n(e){let[t,i]=e.split(/\/(.*)+/);return{filepath:i||"",site:t||""}}function l(e,t){return t?`${e||""}/${t}`:`/${e||""}`}i.d(t,{ac:()=>n,ke:()=>l})},183152:function(e,t,i){i.d(t,{Zv:()=>a,uo:()=>o,wH:()=>r});var n=i(729434),l=i(650422);let{Provider:r,get:a}=(0,n.Z)("HandlerId");function o(){let e=a();return(0,l.ac)(e).site}},666767:function(e,t,i){function n(){let e=void 0;return e?t=>e.addToBeLoaded(t):()=>{}}i.d(t,{N:()=>n}),(0,i(512395).kr)()},78762:function(e,t,i){i.d(t,{Z:()=>u});var n=i(667294),l=i(15667),r=i(782259),a=i(603316),o=i(160374),s=i(183152);function d(e){if(e&&i.m[e])return i(e).default}i(666767);var c=i(785893);function u(e,t,i,u,p){let _=t?.ssr??!0?n.Suspense:r.Z,f=new Map,h=new Map;function m(e){return u&&t?.dynamicRequestKey&&e?u.replace("[request]",e[t.dynamicRequestKey]):u}function g(e){return i?i(e):m(e)??"static"}function y({children:e,chunkName:t,earlyHydrationConfig:i}){let r=(0,s.Zv)(),d=(0,l.Ts)();return(0,n.useEffect)(()=>{(0,a.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:{...(0,o.M3)({earlyHydrationConfig:i,handlerId:r,requestContext:d}),chunkName:t}})},[]),e}function x(l){t?.dynamicRequestKey;let r=g(l),s=(0,o.DB)(),u=m(l);if(!h.has(r)){let t=i?.(l);h.set(r,function({chunkName:e,dynamicImport:t,earlyHydrationEnabled:i,getDependentChunkNames:l,moduleId:r,props:o}){let s,c=(0,n.lazy)(()=>t(o));if(i){var u;s=(u=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(l?.(),e))&&u.every(e=>(function(e){let t=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp;return t?.some(t=>t[0].includes(e))??!1})(e))?d(r):void 0}else s=d(r);let p=!!s;return(0,a.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:p,moduleId:r??"unknown"}}),s||c}({chunkName:u,dynamicImport:e,earlyHydrationEnabled:s.anyEnabled,getDependentChunkNames:p,moduleId:t,props:l}))}let f=h.get(r);return(0,c.jsx)(_,{fallback:(0,c.jsx)(y,{chunkName:u??"unknown",earlyHydrationConfig:s,children:l.fallback||t?.fallback}),children:(0,c.jsx)(f,{...l,ref:l.ref})})}return x.preload=t=>{let i=g(t),n=h.get(i);f.get(i)||n||f.set(i,(async()=>{if(!n){let n=await e(t);h.set(i,n.default),f.delete(i)}})())},x}},854737:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},84336:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294),l=i(160374),r=i(854737);function a(){return(0,n.use)(r.Z)??l.g5}},160374:function(e,t,i){i.d(t,{DB:()=>o,M3:()=>s,SS:()=>a,g5:()=>l});var n=i(650422);let l={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,instantLoadingIndicator:!0,isServiceWorkerExperiment:!1};function r(e,t=!1){let i={...l,anyEnabled:e.startsWith("enabled")||e.startsWith("employees"),group:e,optimizedClient:e.includes("optimized_client"),instantLoadingIndicator:!e.includes("no_app_shell"),isServiceWorkerExperiment:t};switch(e){case"enabled":case"enabled_no_app_shell":return{...i,scriptPlacement:"head"};case"enabled_preload":case"enabled_preload_no_app_shell":return{...i,scriptPlacement:"head",preloadScripts:"low"};case"enabled_preload_high":case"enabled_preload_high_no_app_shell":return{...i,scriptPlacement:"head",preloadScripts:"high"};case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_no_app_shell":return{...i,scriptPlacement:"body",preloadScripts:"low"};case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_no_app_shell":return{...i,scriptPlacement:"body",preloadScripts:"high"};case"control":case"control_no_app_shell":return i;default:return l}}function a({experimentsClient:e,handlerId:t,skipActivation:i=!1}){let{site:a}=(0,n.ac)(t??"");if("www"!==a)return l;if(function({experimentsClient:e,skipActivation:t}){let{group:i,anyEnabled:n}=e?.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:t})??{group:"",anyEnabled:!1};return"control_early_hydration_specify_hostname"===i||"control_early_hydration_reduce_precache"===i||"control_early_hydration_extend_precache"===i||"control_early_hydration"===i||n}({experimentsClient:e,skipActivation:i}))return r("enabled_preload_and_body_scripts",!0);let{group:o}=e?.checkExperiment("web_early_hydration",{dangerouslySkipActivation:i})??{group:""};return r(o,!1)}let o=i(84336).Z;function s({earlyHydrationConfig:e,handlerId:t,requestContext:i}){let{group:n,isServiceWorkerExperiment:l}=e,{isAuthenticated:r,isBot:a,userAgent:o}=i;return{earlyHydrationGroup:n||"unknown",environment:"client",handlerId:t,isAuthenticated:r,isBot:a,isDesktop:!o.isMobile&&!o.isTablet,isServiceWorkerExperiment:l,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},64834:function(e,t,i){i.d(t,{Z:()=>l,u:()=>n});let n="HIDDEN_ON_SERVER_ERROR",l=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(n)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/76347-5e7b3d24ffa4bec2.mjs.map