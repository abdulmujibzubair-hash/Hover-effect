(self.modernJsonp=self.modernJsonp||[]).push([["55287"],{208718:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardSectionPagePresentationFragment_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],storageKey:null}],type:"V3GetBoard",abstractKey:null};n.hash="fa4facdc9d982276eca3b5b8e81ee4c2";let r=n},789154:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null};n.hash="c6be2bfa9e282b6036307fb17958ce3d";let r=n},868391:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="1820448f293b4452fdd957a1b02dd23b";let r=n},760441:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"474x")'}],type:"ExploreArticle",abstractKey:null};r.hash="ee837caaba80f67c3ccb2223d20c7649";let a=r},737828:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PinSnippetList_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregatedStats",kind:"LinkedField",name:"aggregatedStats",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"saves",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cacheableId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null}],type:"Pin",abstractKey:null};n.hash="14db1bf28ca7f79c8f15c4b9c9d881f2";let r=n},674331:function(e,t,i){var n,r;i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedInterestsMultiColumnModule_story",selections:[{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:"imageSpec236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'image(spec:"236x")'},{alias:"imageSpec474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:r,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};a.hash="0f7082cb16415beacefe955d9b3cf766";let l=a},189039:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDynamicJustify",kind:"LinkedField",name:"dynamicJustifyContent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="89000b08539b2d49298d8c3af31ee2f4";let r=n},530070:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};n.hash="b5b71fb4390c1d3835e468a25f687669";let r=n},205529:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};n.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let r=n},530848:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),r=i(667294),a=i(20256),l=i(93966),o=i(785893);function s(){return(0,r.useEffect)(()=>{(0,n.Z)("EmptyItemRep","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRep.tsx")},[]),(0,o.jsx)(a.xu,{width:l.yF})}function d(){return(0,r.useEffect)(()=>{(0,n.Z)("EmptyItemRepList","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRepList.tsx")},[]),(0,o.jsx)(r.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,o.jsx)(s,{},t))})}},730378:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),r=i(667294),a=i(20256),l=i(452918),o=i(785893);let s=new Map([["pin",4],["explorearticle",2]]);function d({children:e,itemType:t,overrideMargin:i}){return(0,r.useEffect)(()=>{(0,n.Z)("StructuredFeedElementWrapper","/app/packages/StructuredFeed/ItemReps/utils/StructuredFeedElementWrapper.tsx")},[]),(0,o.jsx)(a.xu,{marginBottom:i||s.get(t)||l.mT,children:e})}},793760:function(e,t,i){i.r(t),i.d(t,{default:()=>el});var n,r=i(281098),a=i(667294);i(167912);var l=i(20256),o=i(761578),s=i(28427),d=i(351607),c=i(431870),u=i(932088),p=i(93966),h=i(385292),g=i(733029),m=i(774937),x=i(452918),f=i(207729),_=i(785893);let y=()=>(0,_.jsx)(l.xu,{color:"secondary",height:p.yF,width:p.yF}),w={1:{itemRep:g.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:h.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function b({auxData:e,componentFallback:t,showExpanded:i=!0,story:n,view:o,viewParameter:s}){(0,a.useEffect)(()=>{(0,r.Z)("FreeformModule","/app/packages/StructuredFeed/ModuleReps/FreeformModule/FreeformModule.tsx")},[]);let d=(w[(n.display_options?.content_display||{}).model_type]||x.g5).itemRep||y,c=n.display_options?.content_display?.component_type??t;return(0,_.jsx)(l.xu,{marginBottom:2,children:(0,_.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[n.title&&(0,_.jsx)(f.Z,{showExpanded:i,storyKey:{type:"Legacy",data:n}}),(0,_.jsx)(l.kC,{gap:2,justifyContent:"center",wrap:!0,children:n.objects?.map(function(t,i){return(0,_.jsx)(d,{auxData:e,component:c,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:i,item:t,story:n,view:o,viewParameter:s},i)})})]})})}var v=i(467925),j=i(757947),S=i(530848),I=i(730378),k=i(284660),C=i(342978),T=i(88828),P=i(647709);let Z="rgba(0, 0, 0, 0)",F={1:375},E=()=>(0,_.jsx)(l.xu,{color:"secondary",height:p.yF,width:p.yF}),A={1:{itemRep:g.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:h.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function z({auxData:e,componentFallback:t,dangerouslySetActionUrl:i,dangerouslySetContentVisibleItemCount:n,disableHeader:r,dynamicItemWidth:o,initialSlotIndex:s=0,showExpanded:d,story:c,surface:u,view:h,viewParameter:g,width:m}){let y=(0,P.HG)(),w=c.display_options?.content_display||{},b=A[w.model_type]||x.g5,z=b.itemRep||E,{action:B}=c,L=i||c.action?.url||"",R=w.component_type??t,D=w.grid_layout?.rows,M="number"==typeof D?D:1,K=w.grid_layout?.cols,O="number"==typeof K?K:-1,H=-1===O,U=w.dynamic_item_width||{},N=U.narrow_view?F[U.narrow_view]:"100%",W=n??w.content_visible_item_count?.web,G=W&&m&&o?(0,p.Wv)({defaultItemWidth:p.yF,contentVisibleItemCount:W,gap:p.oX,moduleWidth:"number"==typeof m?m:parseInt(m,10)}):p.yF,{containerRef:$,itemsToRender:X,actionItem:q}=(0,T.Z)({items:c.objects||[],itemWidth:(0,k.Z)()?p.tG:G,itemGap:p.oX,actionItemType:B?"one":void 0,numRows:M}),V=q&&b.deprecatedGetActionImage?b.deprecatedGetActionImage(q):void 0,Y=H?X:c.objects||[],{experimentalGutterBoints:J}=(0,v.Z)(),Q=Y.map((t,i)=>(0,_.jsx)(I.Z,{itemType:"string"==typeof t.type?t.type:null,children:(0,_.jsx)(z,{auxData:e,component:R,imagePlaceholderColor:Z,imageWidth:G,index:i,item:t,slotIndex:s+i,story:c,surface:u,view:h,viewParameter:g})},i)),ee=!!L&&!!B?.text&&V&&(0,_.jsx)(j.Z,{auxData:e,buttonText:B.text,component:R,contentIds:c.content_ids,element:179,imageWidth:G,previewImageSrc:V,shape:b.deprecatedActionShape,storyId:c.id,storyType:c.story_type,url:L,view:h,viewParameter:g});return(0,_.jsxs)(l.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",width:N,children:[c.title&&!r&&(0,_.jsx)(f.Z,{showExpanded:d,storyKey:{type:"Legacy",data:c}}),H?(0,_.jsxs)(C.Z,{containerRef:$,itemGap:p.oX,numRows:M,rowAlignment:"center",children:[Q,ee,M>1&&(0,_.jsx)(S.Z,{})]}):(0,_.jsxs)(a.Fragment,{children:[O>1?Array(M).fill(null).map((e,t)=>(0,_.jsx)(l.kC,{alignItems:"stretch",gap:J??(y?p.jC:p.D6),justifyContent:"start",width:"100%",wrap:O<=1,children:O>0&&Array(O).fill(null).map((e,i)=>{let n=Q[t*O+i];return(0,_.jsx)(l.kC.Item,{flex:"grow",children:n},i)})},Y[t].id)):(0,_.jsx)(l.kC,{direction:"column",children:Q}),ee]})]})}function B({auxData:e,componentFallback:t,showExpanded:i=!0,story:n,view:r,viewParameter:a}){let o=(A[(n.display_options?.content_display||{}).model_type]||x.g5).itemRep||E,s=n.display_options?.content_display?.component_type??t,d=(0,k.Z)()?p.tG:p.yF;return(0,_.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[n.title&&(0,_.jsx)(f.Z,{showExpanded:i,storyKey:{type:"Legacy",data:n}}),(0,_.jsx)(l.Rk,{columnWidth:d,gutterWidth:p.oX,items:n.objects||[],layout:"flexible",renderItem:({data:t,itemIdx:i})=>(0,_.jsx)(o,{auxData:e,component:s,imagePlaceholderColor:Z,index:i,item:t,story:n,view:r,viewParameter:a},i)})]})}function L(e){switch((0,a.useEffect)(()=>{(0,r.Z)("GridSectionModule","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridSectionModule.tsx")},[]),e.story.display_options?.content_display?.pins_display){case 3:case 1:case 2:return(0,_.jsx)(B,{...e});default:return(0,_.jsx)(z,{...e})}}var R=i(956077),D=i(461951);function M({auxData:e,component:t,onImageLoad:i,story:n,view:o,viewParameter:s}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageHero","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHero.tsx")},[]);let{id:c,story_type:u,title:p="",description:h=""}=n,{hero_display_options:g,attribution_display_options:m}=n.display_options?.header_display||{},{image_style:x,dominant_color:f,width_height_ratio:y=1,image_url:w}=g||{},{text:b,subspan_text:v,attribution_action:j,icon:S}=m||{},{subspan_only:I}=j||{},k=(0,d.ZP)({loggingId:c,objectIdStr:c,impressionType:"Story",contextLogData:(0,a.useMemo)(()=>({story_id:c,story_type:u,...e}),[c,u,e]),slotIndex:0,viewParameter:s,viewType:o,componentType:t}),C="string"==typeof p?p:p?.format??"",T="string"==typeof h?h:h?.format??"";return(0,_.jsx)(l.xu,{ref:k,"data-test-id":"sf-single-image-hero",children:(0,_.jsxs)(l.kC,{direction:"column",children:[(0,_.jsxs)(l.xu,{overflow:"hidden",position:"relative",children:[(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:1===x?{__style:{filter:"blur(4px)",transform:"scale(1.05)"}}:void 0,children:(0,_.jsx)(l.xu,{width:"100%",children:(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:`${y} / 1`}},children:(0,_.jsx)(l.Ee,{alt:"",color:f||"#fff",fit:"cover",naturalHeight:1,naturalWidth:y||1,onLoad:i,role:"presentation",src:w||void 0,children:3===x?(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:D.OHS}},"data-test-id":"single-image-hero-gradient-overlay-top",height:"50%",left:!0,position:"absolute",right:!0,top:!0}),(0,_.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:D.AEu}},"data-test-id":"single-image-hero-gradient-overlay-bottom",height:"50%",left:!0,position:"absolute",right:!0})]}):null})})})}),(0,_.jsx)(l.xu,{bottom:!0,"data-test-id":"bottom-title",padding:4,position:"absolute",children:(0,_.jsx)(l.X6,{accessibilityLevel:1,color:"light",size:"600",children:C})})]}),(0,_.jsx)(l.xu,{marginTop:4,paddingX:4,children:(0,_.jsxs)(l.kC,{direction:"column",children:[(0,_.jsx)(l.xu,{children:(0,_.jsx)(l.xv,{size:"300",children:T})}),m&&(0,_.jsx)(l.xu,{"data-test-id":"single-image-hero-attribution-container",marginTop:3,children:(0,_.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[1===S&&(0,_.jsx)(l.JO,{accessibilityLabel:"",color:"brandPrimary",dataTestId:"single-image-hero-pinterest-icon",icon:"pinterest",size:24}),2===S&&(0,_.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-info-circle-icon",icon:"info-circle",size:24}),3===S&&(0,_.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-arrow-up-right-icon",icon:"arrow-up-right",size:24}),(0,_.jsx)(l.xu,{marginStart:2*(0!==S),children:(()=>{if(!m||!b)return null;if(!j?.url)return(0,_.jsx)(l.xv,{size:"100",children:b});switch(I){case 1:{if(!v)return(0,_.jsx)(l.xv,{size:"100",children:b});let e=b.indexOf(v);if(-1===e)return(0,_.jsx)(l.xv,{size:"100",children:b});let t=b.substring(0,e),i=b.substring(e+v.length);return(0,_.jsxs)(l.xv,{size:"100",children:[t,(0,_.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(l.rU,{display:"inline",href:j.url,underline:"none",children:v})}),i]})}case 2:return(0,_.jsx)(l.xv,{size:"100",children:(0,_.jsx)(l.rU,{href:j.url,children:b})});default:return(0,_.jsx)(l.xv,{size:"100",children:b})}})()})]})})]})})]})})}var K=i(825332),O=i(980787),H=i(744862),U=i(821342),N=i(19585),W=i(361055);let G=({actionText:e,actionUrl:t,articleId:i,author:n,authorAvatar:o,auxData:s,component:c,contentIds:u,coverImage:p,debug:h,index:g,isFullWidth:m=!1,onImageLoad:x,storyId:f,storyType:y,subtitle:w,title:b,view:v,viewParameter:j,width:S,windowWidth:I})=>{(0,a.useEffect)(()=>{(0,r.Z)("Hero","/app/packages/StructuredFeed/ModuleReps/HeroModule/Hero.tsx")},[]);let k=(0,N.ZP)(),C=(0,K.s0)(),{logContextEvent:T}=(0,O.u)(),[P,Z]=(0,a.useState)(!1),F=(0,U.Z)(),E=F.isAuth?F?.avatar_color_index:void 0,A=(0,d.ZP)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:u,story_id:f,story_type:y,article_id:i,...s},slotIndex:g,viewParameter:j,viewType:v,componentType:c});return(0,_.jsx)(l.xu,{"data-test-id":"sf-hero",children:(0,_.jsxs)(l.xu,{ref:A,height:"auto",onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),width:S,children:[(0,_.jsx)(l.iP,{onTap:()=>{T({event_type:101,view_type:v,view_parameter:j,component:c,aux_data:{article_id:i,content_ids:u,story_id:f,story_type:y,...s}}),C(t)},children:(0,_.jsxs)(l.xu,{height:m?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:P?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,_.jsx)(l.Ee,{alt:k._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:x,src:p,children:(0,_.jsx)(l.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,_.jsx)(l.xu,{bottom:!0,marginBottom:12*!!m,padding:6,position:"absolute",width:"100%",children:(0,_.jsxs)(l.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:P?"translateY(-20px)":"translateY(20px)"}},children:(0,_.jsx)(l.X6,{color:"light",size:I<=822?"700":I<1e3?"400":I<1100?"600":"700",children:b})}),(0,_.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!P,transition:P?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:P?"auto":20,overflow:"hidden",children:[(0,_.jsx)(l.xv,{color:"inverse",children:w}),n&&(0,_.jsx)(l.xu,{marginTop:4,children:(0,_.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,_.jsx)(H.qE,{color:E,name:n,size:"md",src:o})," ",(0,_.jsx)(l.xv,{color:"inverse",children:n})]})})]}),(0,_.jsx)(l.xu,{marginTop:4,width:"74px",children:(0,_.jsx)(l.zx,{color:"white",onClick:()=>{C(t)},size:"lg",text:e})})]})})]})}),void 0!==h&&(0,_.jsx)(W.Z,{data:h})]})})};var $=i(300685),X=i(458684),q=i(828942);function V({auxData:e,onImageLoad:t,story:i,view:n,viewParameter:o,component:s,width:d}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageHeroCarousel","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroCarousel.tsx")},[]);let[c,u]=(0,a.useState)(0),p=(0,a.useRef)(null),h=i.objects?.slice(0,3)||[];return(0,_.jsxs)(l.xu,{ref:p,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:d,children:[(0,_.jsx)($.Z,{containerRef:p.current,id:i.id,index:c,slideWidth:d,children:h.map((r,a)=>(0,_.jsx)(G,{actionText:r.action?.text||"",actionUrl:r.action?.url||"",articleId:r.id,auxData:e,component:s,coverImage:r.cover_images&&r.cover_images[0].originals?.url||"",debug:r.debug,index:a,isFullWidth:!0,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:r.subtitle?.format||"",title:r.title?.format||"",view:n,viewParameter:o,width:d,windowWidth:d},r.id))}),(0,_.jsx)(l.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,_.jsx)(X.default,{addEllipsis:!0,backNode:(0,_.jsx)(q.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:c,entityId:"",carouselSlots:h.map(e=>({id:e.id,title:null}))},carouselIndex:c,forwardNode:(0,_.jsx)(q.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{u(e)},pinKey:null})})]})}function Y({auxData:e,onImageLoad:t,story:i,view:n,viewParameter:l,component:o,width:s}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroDisplay.tsx")},[]);let d=i.objects&&i.objects.length>0,c=i.display_options?.header_display?.hero_display_options?.image_url;return!d&&c?(0,_.jsx)(M,{auxData:e,component:o,onImageLoad:t,story:i,view:n,viewParameter:l}):(0,_.jsx)(V,{auxData:e,component:o,onImageLoad:t,story:i,view:n,viewParameter:l,width:s})}function J({auxData:e,component:t,onImageLoad:i,story:n,view:o,viewParameter:s,windowWidth:d}){(0,a.useEffect)(()=>{(0,r.Z)("TripleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/TripleImageHeroDisplay.tsx")},[]);let c=n.objects?.slice(0,3)||[];return c.length<3?null:(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c[0].dominant_colors[0]}},flex:"grow"}),c.map((r,a)=>(0,_.jsx)(G,{actionText:r.action?.text||"",actionUrl:r.action?.url||"",articleId:r.id,auxData:e,component:t,coverImage:r.cover_images&&r.cover_images[0].originals?.url||"",debug:r.debug,index:a,onImageLoad:i,storyId:n.id,storyType:n.story_type,subtitle:r.subtitle?.format||"",title:r.title?.format||"",view:o,viewParameter:s,width:500,windowWidth:d},r.id)),(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c[2].dominant_colors[0]}},flex:"grow"})]})}function Q({auxData:e,component:t,pwtSurfaceContext:i,story:n,view:s,viewParameter:d}){(0,a.useEffect)(()=>{(0,r.Z)("HeroModule","/app/packages/StructuredFeed/ModuleReps/HeroModule/HeroModule.tsx")},[]);let{width:c=0}=(0,o.Z)()||{},u=()=>{(0,R.Nx)("RenderHeroImages"),i&&i.markConstraintComplete("RenderHeroImages")},p=c>822&&(n.objects?.length??0)>=3?3:1;return(0,_.jsx)(a.Fragment,{children:(0,_.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:3===p?(0,_.jsx)(J,{auxData:e,component:t,onImageLoad:u,story:n,view:s,viewParameter:d,windowWidth:c}):(0,_.jsx)(Y,{auxData:e,component:t,onImageLoad:u,story:n,view:s,viewParameter:d,width:c})})})}function ee({story:e}){(0,a.useEffect)(()=>{(0,r.Z)("SingleImageUpsellModule","/app/packages/StructuredFeed/ModuleReps/SingleImageUpsellModule/SingleImageUpsellModule.tsx")},[]);let t=(0,K.s0)(),{user:i,custom_properties:n,action:o}=e||{},{full_name:s,username:d,image_medium_url:c,avatar_color_index:u}=i||{},h=s||e.title?.format||"",{url:g,text:m}=o||{},{image:x}=n||{};if(!g||!m)return null;let f=(0,_.jsxs)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[d&&c&&(0,_.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,_.jsx)(H.qE,{color:u||void 0,name:d,size:"sm",src:c})}),h&&(0,_.jsx)(l.xv,{color:"inverse",weight:"bold",children:h})]});return(0,_.jsxs)(l.xu,{marginBottom:4,width:p.yF,children:[(0,_.jsx)(l.iP,{onTap:()=>t(g),children:(0,_.jsx)(l.zd,{height:p.yF,rounding:2,wash:!0,children:"string"==typeof x&&x?(0,_.jsx)(l.Ee,{alt:h,fit:"contain",naturalHeight:p.yF,naturalWidth:p.yF,src:x,children:f}):(0,_.jsx)(l.xu,{height:p.yF,width:p.yF,children:f})})}),(0,_.jsx)(l.xu,{marginTop:3,children:(0,_.jsx)(l.ZP,{fullWidth:!0,href:g,text:m})})]})}let et=new Set([101]);var ei=i(598579);let en="UNKNOWN_CONTAINER_TYPE",er={2:"center",3:"end",1:"start"},ea=(void 0!==n||(n=i(189039)).hash&&"89000b08539b2d49298d8c3af31ee2f4"!==n.hash&&console.error("The definition of 'StructuredFeedStoryModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function el(e){var t;(0,a.useEffect)(()=>{(0,r.Z)("StructuredFeedStoryModule","/app/packages/StructuredFeed/ModuleReps/utils/StructuredFeedStoryModule.tsx")},[]);let{auxData:i,componentFallback:n,initialSlotIndex:p,view:h,viewParameter:g,width:m}=e,{story:x,storyKey:y,...w}=e,{width:v=0}=(0,o.Z)()||{},j=(0,s.Z)(ea,y),S=j?.displayOptions?.contentDisplay?.componentType??n,I={...w,component:S},k=(0,d.ZP)({clientTrackingParams:j?.trackingParams,componentType:S,contextLogData:{story_id:j?.storyId,story_type:j?.storyType,content_ids:j?.contentIds,...i},impressionType:"Story",loggingId:j?.storyId,slotIndex:p||0,viewParameter:g,viewType:h}),C=v<=ei.$R?j?.displayOptions?.contentDisplay?.dynamicJustifyContent?.narrowView?er[j.displayOptions.contentDisplay.dynamicJustifyContent.narrowView]:"start":j?.displayOptions?.contentDisplay?.dynamicJustifyContent?.wideView?er[j.displayOptions.contentDisplay.dynamicJustifyContent.wideView]:"start",T=(()=>{switch(j?.containerType){case 90:case 139:return(0,_.jsx)(c.default,{...I,story:x,storyKey:j,width:m});case 88:return(0,_.jsx)(f.Z,{...I,storyKey:j});case 89:let{location:e,text:t,url:i}=j?.action||{};return(0,_.jsx)(u.Z,{location:e,text:t,url:i});case 91:return!!x&&(0,_.jsx)(L,{...I,story:x});case 101:return!!x&&(0,_.jsx)(Q,{...I,story:x});case 92:return!!x&&(0,_.jsx)(ee,{...I,story:x});case 131:return!!x&&(0,_.jsx)(b,{...I,story:x});default:return en}})();return T===en?null:(0,_.jsxs)(l.xu,{ref:k,"data-test-id":j?.storyType??"structured-feed-story-module",display:"flex",justifyContent:C,width:(t=j?.containerType,et.has(t))?void 0:m,children:[T,(0,_.jsx)(l.xu,{})]})}},364188:function(e,t,i){i.d(t,{HI:()=>l,f8:()=>s,hm:()=>o,sH:()=>a});var n=i(20256),r=i(785893);let a=({children:e})=>(0,r.jsx)(n.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),l=({children:e})=>(0,r.jsx)(n.xu,{padding:2,children:e}),o=({children:e})=>(0,r.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),s=({children:e})=>(0,r.jsx)(n.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},56785:function(e,t,i){i.d(t,{Ec:()=>d,IA:()=>x,LX:()=>c,Mf:()=>m,SF:()=>o,_e:()=>s,h_:()=>v,l0:()=>l,ml:()=>a,pQ:()=>b,q4:()=>r,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,a=2/3,l=1/3,o="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24",3:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},h={1:"italics",0:"normal"},g={1:"bold",0:"normal"},m=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:r},a)=>({color:e,fontStyle:h[t??0],fontWeight:g[i??1],horizontalAlignment:u[n??0],fontSize:p[a][r??0]+"px"}),x=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d,f={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"shopping"},_=f[8],y={1:"red",2:"gray",3:"transparent",4:"blue",5:"light",6:"dark"},w=y[2],b=e=>{if(e){if(e.button_style&&e.button_style in y)return y[e.button_style]||w;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return y[1]||w;else if("#0074e8"===e.button_background_color.toLowerCase())return y[4]||w}}return w},v=(e,t)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in f)return f[e.title_text_customization?.text_color]||_;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return f[7]||_;else if("#ffffff"===e.title_text_customization.color)return f[8]||_}}if(t)if("white"===t)return f[8]||_;else return f[7]||_;return _}},374078:function(e,t,i){i.d(t,{Z:()=>s});var n=i(825332),r=i(821342),a=i(506662),l=i(461920),o=i(886981);function s(e){let t=(0,n.s0)(),i=(0,n.TH)(),{isAuth:s}=(0,r.Z)(),d=!s&&(0,a.L6)(i),c=(0,o.Z)(e),u=(0,l.Z)(c,d);return u&&t(u.pathname,{replace:!0,state:u.state}),c}},845329:function(e,t,i){i.d(t,{Z:()=>h});var n,r=i(281098),a=i(667294);i(167912);var l=i(28427),o=i(15667),s=i(254029),d=i(33569),c=i(761112),u=i(785893);let p=(void 0!==n||(n=i(737828)).hash&&"14db1bf28ca7f79c8f15c4b9c9d881f2"!==n.hash&&console.error("The definition of 'PinSnippetList_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function h({pinCount:e,pinKeys:t,testId:i="pin-snippet-list",feedType:n="defaultPins"}){(0,a.useEffect)(()=>{(0,r.Z)("PinSnippetList","/app/packages/rich-snippet/PinSnippetList.tsx")},[]);let{fullPath:h,origin:g}=(0,o.B)(),m=(0,l.Z)(p,t);if(null==m||0===m.length)return null;let x="bestIdeas"===n||"videoPins"===n,f="bestIdeas"===n,_="videoPins"===n;return(0,u.jsx)(c.Z,{testId:i,type:"application/ld+json",value:{"@context":"https://schema.org","@type":"ItemList",mainEntityOfPage:{"@type":"CollectionPage","@id":`${g}${h}`},itemListElement:m.map((e,t)=>((e,t)=>{let i=x?void 0:{"@type":"Person",name:e.pinner?.fullName||"",url:e.pinner?.username?`${g}/${e.pinner.username}`:void 0,image:e.pinner?.imageMediumUrl??e.pinner?.imageLargeUrl??void 0},n=(e=>{let t=f&&e.aggregatedPinData?.aggregatedStats?.saves||0;return t>0?{"@type":"InteractionCounter",interactionType:{"@type":s.U0.LIKE_ACTION},userInteractionCount:t}:void 0})(e),r=(e=>{if(_)return[];let t=e?.pinJoin?.annotationsWithLinksArray,i=t?.reduce((e,{name:t,url:i})=>t?{...e,[t]:{name:t,url:i||""}}:e,{}),n=(0,d.U)({pinId:e.entityId,dedupeVisualAnnotations:null,pinJoinVisualAnnotation:e.pinJoin?.visualAnnotation||[],pinJoinAnnotationsWithLinks:i})||[];return n.length>0?n?.map(e=>({"@type":"CollectionPage",name:e.name,url:e.url?`${g}${e.url}`:void 0})):[]})(e);return{"@type":"ListItem",position:t+1,url:(e=>{let{seoUrl:t}=e,i=_?e.cacheableId:e.entityId;return t?`${g}${t}`:`${g}/pin/${i}/`})(e),...i&&{author:i},...n&&{interactionStatistic:n},...r.length>0&&{isRelatedTo:r}}})(e,t)),numberOfItems:e||m.length}})}},254029:function(e,t,i){i.d(t,{QO:()=>s,U0:()=>a,V3:()=>l,cO:()=>u,dn:()=>d,fP:()=>c,zP:()=>o});var n=i(243099),r=i(941404);let a={FOLLOW_ACTION:"https://schema.org/FollowAction",LIKE_ACTION:"https://schema.org/LikeAction",SHARE_ACTION:"https://schema.org/ShareAction",WATCH_ACTION:"https://schema.org/WatchAction"},l=e=>{let{thumbnail:t,url:i,width:n,height:r,duration:a}=e||{};return t&&i&&n&&r&&{thumbnail:t,url:i,width:n,height:r,duration:a}||void 0},o=({isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:n})=>{(0,r.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:n})},s=(e,{userName:t,fullName:i})=>{let n=t||"";return{"@type":"Person",name:i||n,alternateName:n,url:e+"/"+n}};function d(e,t,i,r,a,l){i=i.trim();let o=(t=t.trim())||l||i||r;if(!e||!e.metatags)return{title:o,description:i||t||a};let{description:s=""}=e.metatags;return{title:o,description:(0,n.o)(s||"").trim()||t||a}}let c=(e,t,i)=>{let n=t;return i?{fallbackTitle:n="recipe"===e?i._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?i._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?i._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?i._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):i._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:n}:{fallbackTitle:n,fallbackDescription:n}},u=e=>{if(!e)return;let t=!!e.ratingCount||!!e.reviewCount,{ratingValue:i}=e;if(!t||!i||Number.isNaN(parseFloat(i)))return;let n=e.ratingCount||e.reviewCount;return{"@type":"AggregateRating",ratingValue:e.ratingValue,ratingCount:n,bestRating:5,worstRating:1}}},2761:function(e,t,i){function n(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}i.d(t,{Z:()=>n})},243099:function(e,t,i){function n(e,t){let i=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>i.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}i.d(t,{Z:()=>r,o:()=>n});let r=e=>e.replace(/(<([^>]+)>)/gi,"")},342978:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),r=i(667294),a=i(20256),l=i(785893);let o={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:t,containerRef:i,numRows:s=1,rowAlignment:d="center"}){(0,r.useEffect)(()=>{(0,n.Z)("StoryRow","/app/packages/ui/StoryRow.tsx")},[]);let c=o[d];return(0,l.jsx)(a.xu,{ref:i,width:"100%",children:(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:c.outer,children:(0,l.jsx)(a.kC,{dataTestId:"story-row-items-container",gap:{row:Math.floor(t/4),column:0},justifyContent:c.inner,wrap:s>1,children:e})})})}},88828:function(e,t,i){i.d(t,{Z:()=>r});var n=i(667294);function r({items:e,itemWidth:t,itemGap:i,numRows:r=1,actionItemType:a}){let l,[o,s]=function(){let[e,t]=(0,n.useState)(0),i=(0,n.useRef)(null),r=(0,n.useCallback)(()=>{i.current&&t(i.current.clientWidth)},[i]);return(0,n.useEffect)(()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[r]),(0,n.useEffect)(r),[e,i]}(),d=Math.floor((o+i)/(t+i))*r||r,c=e.slice(0,d),u=[];switch(a){case"nextFour":if(d>=e.length){let e=c.pop();u=e?[e]:[]}else c.pop(),u=e.slice(d-1,d+3);break;case"one":l=d>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:s,itemsToRender:c,actionItem:l,nextFourItems:u}}},698586:function(e,t,i){i.d(t,{Z:()=>l});var n=i(821342),r=i(274320),a=i(647709);let l=({dangerouslySkipActivation:e=!1})=>{let t,i=(0,a.HG)(),{checkExperiment:l}=(0,r.r)(),{isAuth:o}=(0,n.Z)();return!o&&l("advanced_bundle",{dangerouslySkipActivation:e}).anyEnabled&&(t=i?30:20),t}},331854:function(e,t,i){i.d(t,{Z:()=>o});var n=i(667294);let r=new Map,a=null,l=e=>{e.forEach(e=>{let t=r.get(e.target);t&&t(e)})};function o({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let o=(0,n.useRef)(null),s=!1,d=()=>{let t;o.current instanceof HTMLElement&&(t=o.current,r.has(t))&&s&&(e(!1),s=!1)},c=(0,n.useCallback)(i=>{o.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(l,n),r.set(e,i),a.observe(e)})(o.current,i,i=>{if(!r.has(o.current))return;let n=t?i.intersectionRatio>=1:i.intersectionRatio>=.5,a=t?0===i.intersectionRatio:!n;!s&&n?(s=i.intersectionRatio>0||i.isIntersecting)&&e(!0):s&&a&&d()})},[o.current]);return(0,n.useEffect)(()=>(c(i),()=>{if(o.current instanceof HTMLElement){var e;d(),e=o.current,a.unobserve(e),r.delete(e)}}),[c]),o}},93779:function(e,t,i){i.d(t,{Z:()=>m});var n=i(281098),r=i(667294),a=i(581722),l=i(20256),o=i(761578),s=i(980787),d=i(877956),c=i(56785),u=i(744862),p=i(821342),h=i(331854),g=i(785893);function m({isFullWidth:e,actionType:t,buttonAction:i,buttonText:m,experience:x,hideCompleteButton:f,imageAlt:_,imageUrl:y,openNewTab:w,avatarImageDetails:b,examplePinImage:v,titleText:j,titleTextColor:S,titleTextCustomization:I,descriptionText:k,descriptionTextCustomization:C}){(0,r.useEffect)(()=>{(0,n.Z)("AuthInFeedChecklistEdu","/app/www/AuthInFeedChecklistEdu.tsx")},[]);let{logContextEvent:T}=(0,s.u)(),P=(0,d.be)(),Z=(0,d.Ig)(),F=(0,p.Z)(),E=F.isAuth?F?.avatar_color_index:void 0,A=0===t?3833:1===t?3834:2===t?3835:null,z=(0,a.I0)(),{experience_id:B,placement_id:L}=x||{},R=(0,h.Z)({onVisibilityChanged:e=>{e&&x&&void 0!==L&&void 0!==B&&(x.status="viewed",T({event_type:13,view_type:612,view_parameter:A}),z(Z(L,B,!1,!0)))}}),{width:D}=(0,o.Z)()||{width:8},M=D-8,K=(0,c.IA)(D),O=M*K,H=K===c.LX||K===c.Ec,{url:U,full_name:N}=b||{},W=O*c.l0,{url:G}=v||{},$=G?O*c.l0:0,X=G?c.ml*$:0,{color:q,fontStyle:V,fontWeight:Y,horizontalAlignment:J,fontSize:Q}=(0,c.Mf)(I||{},"mweb"),{color:ee,fontStyle:et,fontWeight:ei,horizontalAlignment:en,fontSize:er}=(0,c.Mf)(C||{},"mweb");return(0,g.jsx)(l.xu,{ref:R,marginBottom:2,padding:1,position:"relative",children:(0,g.jsxs)(l.xu,{color:e?"default":"education",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&y&&U&&(0,g.jsx)(l.xu,{height:O,width:M,children:(0,g.jsx)(l.Ee,{alt:_||j||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:O,naturalWidth:M,src:y,children:(0,g.jsx)(l.xu,{paddingY:U?12:3,children:(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",width:"100%",children:[N&&U&&(0,g.jsx)(l.xu,{height:W,width:W,children:(0,g.jsx)(u.qE,{color:E,name:N,size:"fit",src:U})}),(0,g.jsx)(l.xv,{align:J,color:S,italic:"italics"===V,weight:Y,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:(q||S)??void 0,fontSize:H?c.SF:Q}},children:j})}),(0,g.jsx)(l.xv,{align:en,italic:"italics"===et,weight:ei,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:ee??void 0,fontSize:H?c._e:er}},paddingX:12,children:k})})]})})})}),(!e||e&&G)&&(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",children:[v&&G&&(0,g.jsx)(l.xu,{paddingY:4,children:(0,g.jsx)(l.zd,{height:$,rounding:4,width:X,children:(0,g.jsx)(l.Ee,{alt:"Your first saved Pin",fit:"cover",naturalHeight:$,naturalWidth:X,src:G})})}),(0,g.jsx)(l.xv,{align:J,color:S,italic:"italics"===V,weight:Y,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:(q||S)??void 0,fontSize:H&&e?c._e:Q}},children:j})}),k&&C&&(0,g.jsx)(l.xu,{paddingX:2*!!e,paddingY:0,children:(0,g.jsx)(l.xv,{align:en,italic:"italics"===et,weight:ei,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:ee??void 0,fontSize:H&&e?c._e:er}},children:k})})}),!f&&(0,g.jsx)(l.kC.Item,{alignSelf:"center",children:(0,g.jsx)(l.xu,{marginBottom:4*!!e,marginTop:2,children:(0,g.jsx)(l.ZP,{accessibilityLabel:m,color:"white",href:i,onClick:()=>{x&&(T({event_type:102,view_type:612,view_parameter:A}),z(P(L,B,!1,!0)))},size:"md",target:w?"blank":null,text:m})})})]})]})})}},981342:function(e,t,i){i.d(t,{Z:()=>_});var n=i(281098),r=i(667294),a=i(616550),l=i(980787),o=i(821342),s=i(825332),d=i(255957),c=i(378888),u=i(306274),p=i(975740),h=i(509579),g=i(266042),m=i(31987),x=i(785893);function f({boardData:e,refreshBoardData:t}){(0,r.useEffect)(()=>{(0,n.Z)("BoardPageContainer","/app/www/save/board/BoardPageContainer/BoardPageContainer.tsx")},[]);let i=e?.id,a=(0,p.gC)()(i??"")||null,{search:l,state:o}=(0,s.TH)();(0,g.Z)();let f=o?.newBoard,_=(0,u.Uz)(e?.sensitivity),y=f&&!_&&e?.should_show_more_ideas?h.s.jumpstartBoard:null,w=(0,c.mB)(l);return(0,x.jsx)(d.Z,{measureGridVisuallyComplete:!0,surface:"board",children:(0,x.jsx)(m.Z,{board:a??e,initialModalType:y,refreshBoardData:t,showPulsar:!!w.showPulsar})})}function _({boardData:e,refreshBoardData:t}){(0,r.useEffect)(()=>{(0,n.Z)("BoardPageAuthDesktop","/app/www/BoardPage/BoardPageAuthDesktop.tsx")},[]);let i=(0,o.Z)(),{username:s}=(0,a.UO)(),d=i.isAuth&&i.username===s?3069:3070,{logContextEvent:c}=(0,l.u)();return(0,r.useEffect)(()=>{e&&c({aux_data:{board_id:e.id,board_pin_count:e.pin_count},component:178,event_type:13,view_type:5,view_parameter:d})},[e,c,d]),(0,x.jsx)(f,{boardData:e,refreshBoardData:t})}},72821:function(e,t,i){i.d(t,{Z:()=>K});var n,r=i(281098),a=i(667294),l=i(581722),o=i(167912),s=i(825332),d=i(20256),c=i(19585),u=i(588367),p=i(914061),h=i(675973),g=i(886981),m=i(821806),x=i(123998),f=i(941404),_=i(551651),y=i(185191),w=i(191641),b=i(982166),v=i(785893);function j({boardSectionId:e,canEdit:t,isSecret:i,isSensitive:n,openShareModal:l}){(0,a.useEffect)(()=>{(0,r.Z)("BoardSectionHeaderOverflowMenu","/app/www/boardSection/BoardSectionHeaderOverflowMenu.tsx")},[]);let o=(0,c.ZP)(),u=(0,s.s0)(),[p,h]=(0,a.useState)(!1),g=()=>h(!1);return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(d.xu,{"data-test-id":"section-overflow-menu",children:(0,v.jsx)(d.hU,{accessibilityLabel:o._('More section options', 'boardSectionHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more section options overflow menu button'),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>h(!0),padding:2,size:"lg"})}),(0,v.jsx)(b.ZP,{accessibilityModalLabel:"",isOpen:p,mobileHideCloseIcon:!0,onDismiss:g,type:"block_button",children:(0,v.jsx)(d.xu,{paddingX:5,paddingY:6,children:(0,v.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[(0,v.jsx)(d.xv,{children:o._('Section options', 'boardSectionHeaderOverflowMenu.boardSectionOptions', 'Options heading on Modal on own section')}),t&&(0,v.jsx)(d.iP,{fullWidth:!1,onTap:()=>{u(`/boardsection/${e}/edit/`,{replace:!0})},rounding:"circle",children:(0,v.jsx)(d.xu,{"data-test-id":"editSection",children:(0,v.jsx)(d.X6,{size:"400",children:o._('Edit', 'boardSectionHeaderOverflowMenu.boardSectionOptions.editButton', 'Button to edit section')})})}),!i&&!n&&(0,v.jsx)(d.iP,{fullWidth:!1,onTap:l,rounding:"circle",children:(0,v.jsx)(d.xu,{"data-test-id":"sendBoard",children:(0,v.jsx)(d.X6,{size:"400",children:o._('Share', 'boardSectionHeaderOverflowMenu.boardSectionOptions.shareButton', 'Button to share board')})})}),(0,v.jsx)(d.xu,{"data-test-id":"closeBoardSectionOptions",display:"flex",justifyContent:"center",marginTop:3,children:(0,v.jsx)(d.zx,{color:"gray",onClick:g,size:"lg",text:o._('Close', 'boardSectionHeaderOverflowMenu.boardSectionOptions.closeModal', 'Accessibility label for close button on Modal on own section')})})]})})})]})}var S=i(532611),I=i(187440),k=i(751961),C=i(845421),T=i(258644),P=i(696323),Z=i(588836),F=i(223700),E=i(425140),A=i(718431);let z=(0,a.lazy)(()=>Promise.all([i.e("68281"),i.e("898")]).then(i.bind(i,826257))),B=({boardSectionId:e,isOwnBoard:t,viewParameter:i})=>{let n=`${P.Z.BOARD_SECTION_PINS}:${e??""}`,r=(0,l.v9)(({feeds:e,desktopStories:t})=>(0,F.Z)(e[n],t)),{fetchMore:a,isAtEnd:o,isFetching:s}=(0,g.Z)({name:"BoardSectionPinsResource",options:{page_size:25,prepend:t,section_id:e}});return(0,v.jsx)(E.Z,{feedItems:r.feed??[],pagination:{loadNext:a||(()=>void 0),hasNext:!o,isLoadingNext:s||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,v.jsx)(k.Z,{children:(0,v.jsx)(C.Z,{componentType:0,duploQueryRef:null,pinId:e.id??"",seoDrawerPinType:"board",shouldShowSeoDrawerOption:!0,slotIndex:t,trackingParams:e.tracking_params,trafficSource:"board",viewParameter:i,viewType:164})})})};function L({boardId:e,boardUrl:t,boardName:i,boardSection:n,isAuthenticated:r,isCollaborator:o,isOwnBoard:g,privacy:b,contentSeverity:k,sensitivity:C,access:P}){let F=(0,l.I0)(),E=(0,c.ZP)(),L=(0,s.TH)(),R=(0,s.s0)(),[D,M]=(0,a.useState)(!1),K=(0,S.Uz)({severity:k}),O="secret"===b,{checkExperiment:H}=(0,h.Z)(),[U,N]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{r?(0,f.My)("mweb.board_section.view.authenticated"):(0,f.My)("mweb.board_section.view.unauthenticated"),(0,f.NC)("view_board_section_page")},[]),(0,a.useEffect)(()=>(r&&F((0,T.FK)()),()=>{r&&F((0,T.Cp)())}),[F,r]),!n)return(0,v.jsx)(d.xu,{column:12,paddingY:2,children:(0,v.jsx)(d.xH,{accessibilityLabel:E._('Loading feed', ' - ', ' -- '),show:!0})});let{description:W,id:G,title:$,pin_count:X}=n,q=!!(P&&P.includes("write")),V=g?3069:3070;return(0,v.jsx)(_.Z,{objectIdStr:G,viewParameter:V,viewType:164,children:(0,v.jsx)(x.Z,{objectId:G,view:164,viewParameter:V,children:(0,v.jsxs)(p.default,{hasFixedHeader:!0,children:[(0,v.jsx)(u.default,{children:(0,v.jsxs)(d.xu,{alignItems:"center",column:12,display:"flex",height:"100%",justifyContent:"between",children:[(0,v.jsx)(d.kC,{alignItems:"center",children:(0,v.jsx)(Z.Z,{color:"darkGray",onTouch:()=>{r||(0,f.NC)("click_go_back_to_board")},padding:3,size:"sm",viewParameter:V,viewType:164})}),D&&(0,v.jsx)(d.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:2,marginStart:2,children:(0,v.jsx)(d.xv,{align:"center",lineClamp:1,weight:"bold",children:$})}),r&&(q||!O&&!K)&&(0,v.jsx)(d.xu,{paddingX:2,children:(0,v.jsx)(j,{boardSectionId:G??"",canEdit:q,isSecret:O,isSensitive:K,openShareModal:()=>N(!0)})})]})}),r&&(0,v.jsx)(m.Z,{children:(0,v.jsx)(z,{component:13216,element:10390,isOpen:U,objectId:String(e),objectType:2,onDismiss:()=>N(!1),viewParameter:V,viewType:164})}),(0,v.jsx)(d.X6,{align:"center",color:"subtle",id:"board-title",size:"700",children:(0,v.jsx)(d.rU,{href:t??"",onClick:()=>{r||((0,f.NC)("click_go_to_board"),R({pathname:L.pathname,search:L.search},{state:{...L.state,selectedSection:null}}))},tapStyle:"none",children:i})}),(0,v.jsxs)(d.xu,{marginBottom:2,paddingY:2,children:[(0,v.jsx)(A.Z,{checkExperiment:H,isAuth:r,onEnter:()=>{M(!1)},onExit:()=>{M(!0)},throttleTime:10,children:(0,v.jsx)(d.X6,{align:"center",id:"section-title",lineClamp:2,size:"700",children:$})}),H("ps_board_advisories_ui_refresh").anyEnabled&&C?.notices?.map(t=>(0,v.jsx)(I.Z,{boardId:e,boardName:i,boardSectionId:G,notice:t,objectType:164,sensitivity:C,viewParameter:g?4173:4174,viewType:164},t.id)),W&&(0,v.jsx)(d.xu,{marginTop:2,paddingX:2,children:(0,v.jsx)(d.xv,{align:"center",children:W})}),(g||o)&&(0,v.jsx)(d.xu,{paddingY:3,children:(0,v.jsx)(y.Z,{isBoardEmpty:!X,sectionId:G})})]}),!X&&(0,v.jsx)(d.xu,{marginTop:8,paddingY:8,children:(0,v.jsx)(d.xv,{align:"center",weight:"normal",children:E._('There aren\'t any Pins on this section yet.', 'Message for empty board section state', 'Message for empty board section state')})}),(0,v.jsx)(B,{boardSectionId:G??"",isOwnBoard:g,viewParameter:V}),(g||o)&&(0,v.jsx)(w.Z,{boardId:e,surface:"section"})]})})})}function R({board:e,boardSection:t,isAuthenticated:i,isCollaborator:n,isOwnBoard:r}){let{access:a,name:l,id:o,url:s}=e,{sensitivity:d,privacy:c}=e;return(0,v.jsx)(L,{access:a,boardId:o,boardName:l??"",boardSection:t,boardUrl:s,contentSeverity:d?.severity,isAuthenticated:i,isCollaborator:n,isOwnBoard:r,privacy:c,sensitivity:d})}let D=(void 0!==n||(n=i(208718)).hash&&"fa4facdc9d982276eca3b5b8e81ee4c2"!==n.hash&&console.error("The definition of 'BoardSectionPagePresentationFragment_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),M=({boardRef:e,boardSection:t,isAuthenticated:i,isCollaborator:n,isOwnBoard:r})=>{let{data:a,sensitivity:l}=(0,o.useFragment)(D,e);return(0,v.jsx)(L,{access:a?.access??[],boardId:a?.entityId??"",boardName:a?.name??"",boardSection:t,boardUrl:a?.url,contentSeverity:l?.severity,isAuthenticated:i,isCollaborator:n,isOwnBoard:r,privacy:a?.privacy,sensitivity:l})};function K({boardSection:e,isAuthenticated:t,isCollaborator:i,isOwnBoard:n,...l}){return(0,a.useEffect)(()=>{(0,r.Z)("BoardSectionPagePresentation","/app/www/BoardSectionPage/BoardSectionPagePresentation.tsx")},[]),l.boardRef?(0,v.jsx)(M,{boardRef:l.boardRef,boardSection:e,isAuthenticated:t,isCollaborator:i,isOwnBoard:n}):(0,v.jsx)(R,{board:l.board,boardSection:e,isAuthenticated:t,isCollaborator:i,isOwnBoard:n})}},676296:function(e,t,i){i.d(t,{Z:()=>o});var n=i(281098),r=i(667294),a=i(20256),l=i(785893);let o=({icon:e,iconLabel:t,message:i,url:o,onTouch:s})=>{(0,r.useEffect)(()=>{(0,n.Z)("EmptyState","/app/www/EmptyState.tsx")},[]);let d=(0,l.jsxs)(a.xu,{alignItems:e?"center":void 0,color:"selected",display:e?"flex":"inlineBlock",justifyContent:e?"between":void 0,padding:2,rounding:2,children:[(0,l.jsx)(a.xu,{marginEnd:2*!!e,children:(0,l.jsx)(a.xv,{color:"inverse",overflow:"normal",weight:"bold",children:i})}),e&&t&&(0,l.jsx)(a.xu,{flex:"none",children:(0,l.jsx)(a.JO,{accessibilityLabel:t,color:"inverse",icon:e,size:32})})]});return(0,l.jsx)(a.xu,{paddingX:2,children:o?(0,l.jsx)(a.Tg,{href:o,onTap:({event:e})=>s?.(e),rounding:2,tapStyle:"none",children:d}):d})}},522678:function(e,t,i){i.d(t,{Zt:()=>O,iK:()=>U,ZP:()=>G});var n=i(281098),r=i(667294),a=i(581722),l=i(825332),o=i(20256),s=i(469167),d=i(467925),c=i(93966),u=i(19585),p=i(355363),h=i(15667),g=i(900675),m=i(886981),x=i(62937),f=i(647709),_=i(222401);let y=new Map;var w=i(559143),b=i(751961),v=i(348268),j=i(357823),S=i(130858),I=i(469817),k=i(79293),C=i(845421),T=i(258644),P=i(975740),Z=i(223700),F=i(92529),E=i(676049),A=i(648200),z=i(923377),B=i(78762),L=i(785893);function R(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let D=(0,B.Z)(()=>i.e("65300").then(i.bind(i,348583)),void 0,e=>348583,"app-www-businessNux-BizNuxHomefeedLoader",e=>["65300"]),M=(0,B.Z)(()=>i.e("68443").then(i.bind(i,222719)),void 0,e=>222719,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["68443"]);class K extends r.PureComponent{constructor(...e){super(...e),R(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,I.HW)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),R(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),R(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),R(this,"gridContainerRef",(0,r.createRef)()),R(this,"renderFeedPin",(e,t)=>{let{feedItemProps:i,location:n,performanceOptimization:r,showSeoMetadata:a,surface:l,trafficSource:o}=this.props,{auxData:s,componentType:d,feedback:c,imageOnly:u,impressionData:p,objectIdStr:h,oneTapSave:g,onFeedItemClick:m,onPinLinkClick:x,shouldAllowProductPriceIndicator:f,showSeoMetadata:_,viewData:y,viewParameter:w,viewType:b}=i||{},v=(n.search||"").includes("force_seo"),j=!!r?.lazyLoadBelowFoldIndex&&t>r.lazyLoadBelowFoldIndex,S=!!r?.priorityFetchAboveFoldIndex&&t<=r.priorityFetchAboveFoldIndex;return(0,L.jsx)(C.Z,{auxData:s,componentType:d||0,duploFeedItemProps:{onPinClick:m,onPinLinkClick:x,showSeoMetadata:a||v||_},duploLazyLoadImage:j,duploOneTapSave:g,duploPriorityFetchImage:S,duploQueryRef:null,duploShouldAllowProductPriceIndicator:f,feedback:c,imageOnlyOption:u?"image-only":"default",impressionData:p,isUnauthBoardUpsellWithOverlay:this.props.isUnauthBoardUpsellWithOverlay,objectIdStr:h,pinId:e.id,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:l,trackingParams:e.trackingParams,trafficSource:o,unauthBoardUpsellsEnabled:this.props.unauthBoardUpsellsEnabled,viewData:y,viewParameter:w,viewType:b||1})}),R(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),R(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:i}=this.props,n=this.getBoardId(),r="board"===i&&"BaseBoardPinGrid"===t&&n?e(n):null;return r?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,w.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,w.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:r}=this.props,a=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(a&&this.setState({refreshing:!1}),r&&i){let t=r({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:i,experimentalGutter:n,feedItemProps:a,feedItems:l,feedItemsAdjustment:d,feedKey:u,feedStoryId:h,getColumnSpanConfig:g,gridConfig:m,i18n:f,pageSize:y,pagination:w,pullToRefresh:I,renderFeedItem:C,serverRender:T,showBizNuxHomefeedLoader:P,trafficSource:Z,visuallyCompleteProfilerOptions:B,isLoadingStateEnabled:R,initialLoadingStatePinCount:K,isLoadingAccessibilityLabel:O,isLoadedAccessibilityLabel:H}=this.props,{unauthLandingPinStateForAuthHomefeed:U}=this.state,N=U?.feedItem&&l.length?[U.feedItem,...l]:l,{viewParameter:W,viewType:G}=a||{},{gridMeasurementKey:$}=m||{},X=u+($?`|${$}`:""),q="user_search"===Z,V=q?window.innerWidth-16:void 0,Y=N.some(e=>"board"===e.type),J={columnWidth:(0,v.SY)({deviceType:e,customMWebColumnWidth:V,experimentalColumnWidth:Y?236:i}),renderItem:({data:e,itemIdx:t})=>{if(C){let i=C(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,L.jsx)(b.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,L.jsx)(z.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:q,viewParameter:W,viewType:G});case"board":let i=this.props.getReduxBoard(e.id);return(0,L.jsx)(_.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:W,viewType:G});case"topic":return(0,L.jsx)(E.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:W,viewType:G});case"story":if("number"==typeof W)return(0,L.jsx)(F.Z,{slotIndex:t,storyId:e.id,viewParameter:W,viewType:G||1});return null;case"FEED_BREAK_IN":return d&&"breakIn"===d.type&&d.value.content;default:return null}},gutterWidth:(0,v.s)({experimentalGutter:n,trafficSource:Z,deviceType:e}),loadItems:w.loadNext,minCols:q?1:2,...m},Q=!P&&w.isLoadingNext&&0===N.length&&!this.state.refreshing&&!R,ee=y&&25>parseInt(y,10),et=d?.type==="fullWidthBreakIn"?[{type:"feed",id:`${X}_feed_0`,item:N.slice(0,d.value.index)},{type:"fullWidthBreakIn",id:`${X}_break_in_0`,item:d.value.content},{type:"feed",id:`${X}_feed_1`,item:N.slice(d.value.index)}]:[{type:"feed",id:X,item:N}],ei="desktop"===e&&"flashlight"===Z,en=ei?0:c.qG;return(0,L.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,L.jsx)(j.Z,{auxData:a?.auxData||null,enabled:!!I,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:a?.viewParameter||null}),(0,L.jsxs)(o.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:en,marginStart:en,opacity:this.state.refreshing?.5:1,children:[(0,L.jsxs)(p.Z,{includeBackgroundImages:B?.includeBackgroundImages,includeVideos:B?.includeVideos,isAtEndOfFeed:!w.hasNext,isPlaceholderGrid:R&&w.isLoadingNext&&!N.length,itemCount:N.length,pinData:B?.pins,children:[N.length||R&&w.isLoadingNext?(0,L.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,v.kk)({isDesktop:"desktop"===e}),children:(0,L.jsx)(x.Z.Consumer,{children:e=>(0,L.jsx)(r.Fragment,{children:(0,L.jsx)(A.Z,{children:et.map(t=>"feed"===t.type?(0,L.jsx)(s.default,{cacheKey:X,getColumnSpanConfig:g,id:T?u:void 0,initialLoadingStatePinCount:K,isFetching:w.isLoadingNext,isLoadedAccessibilityLabel:H??"",isLoadingAccessibilityLabel:O??"",isLoadingStateEnabled:!!R,items:t.item,scrollContainerRef:e,serverRender:T,...J},t.id):"fullWidthBreakIn"===t.type?(0,L.jsx)(o.xu,{children:t.item},t.id):null)})})})}):w.isLoadingNext?(0,L.jsx)(S.Z,{}):t??null,w.isLoadingNext&&"board"===Z&&ee&&!R&&(0,L.jsx)(o.xH,{accessibilityLabel:f._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),Q&&(0,L.jsx)(o.xu,{column:12,paddingY:2,children:(0,L.jsx)(k.Z,{partialViewportWidth:ei})}),P&&(0,L.jsx)(D,{gridContainerRef:this.gridContainerRef,homefeedLoading:w.isLoadingNext}),h&&!this.hideMoreIdeas()&&(0,L.jsx)(o.xu,{marginBottom:6,children:(0,L.jsx)(M,{storyId:h})})]})]})}}function O({feedItems:e,pagination:t,...i}){(0,r.useEffect)(()=>{(0,n.Z)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:o}=i,s=(0,l.TH)(),c=(0,f.ZP)(),p=(0,u.ZP)(),{isAuthenticated:g,isBot:m}=(0,h.B)(),{isBizNuxHomefeedLoadShown:x}=(0,a.v9)(({session:e})=>e),_=e;o?.type==="breakIn"&&(_=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=y.get(e);if(t)return t;let i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return y.set(e,i),i})(e),...t.slice(e)])({items:e,breakIn:o.value}));let{experimentalColumnWidth:w,experimentalGutter:b}=(0,d.Z)(),v=(0,P.gC)();return(0,L.jsx)(K,{...i,deviceType:c,experimentalColumnWidth:w,experimentalGutter:b,feedItems:_,getReduxBoard:v,i18n:p,isAuthenticated:g,location:s,pagination:t,showBizNuxHomefeedLoader:!!x,showSeoMetadata:m||!g})}function H({isAtEnd:e,isFetching:t,fetchMore:i,refresh:n,...r}){let l=(0,a.v9)(({feeds:e})=>e[r.feedKey]??[]),o=(0,a.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,Z.Z)(l,o),c=(0,a.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),u=(0,a.I0)();return(0,L.jsx)(O,{...r,featuredBoardStoryId:s,feedItems:l,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>{c?u((0,T.H5)(!1)):n()}}})}function U({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:a},...l}){return(0,r.useEffect)(()=>{(0,n.Z)("Feed","/app/www/Feed.tsx")},[]),(0,L.jsx)(H,{...l,fetchMore:i,isAtEnd:e,isFetching:t,refresh:a})}function N({resourceConfig:e,...t}){let i=(0,m.Z)(e);return(0,L.jsx)(U,{...t,resource:i})}function W({resourceRef:e,fetchMore:t,refresh:i,...n}){let{isAtEnd:r}=(0,g.Z)(e);return(0,L.jsx)(H,{...n,fetchMore:t,isAtEnd:r,isFetching:!1,refresh:i})}function G({resourceConfig:e,resourceRef:t,fetchMore:i,refresh:a,...l}){return((0,r.useEffect)(()=>{(0,n.Z)("Feed","/app/www/Feed.tsx")},[]),t)?(0,L.jsx)(W,{...l,fetchMore:i??(()=>{}),refresh:a??(()=>{}),resourceRef:t}):(0,L.jsx)(N,{...l,resourceConfig:e})}},559143:function(e,t,i){i.d(t,{IA:()=>a,cV:()=>r,do:()=>l});let n={},r=e=>{n[e]&&n[e].handlePullToRefresh()},a=(e,t)=>{n[e]=t},l=e=>{delete n[e]}},718431:function(e,t,i){i.d(t,{Z:()=>h});var n=i(281098),r=i(667294),a=i(20256),l=i(516114),o=i(274320),s=i(15667),d=i(159527),c=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends r.PureComponent{constructor(...e){super(...e),u(this,"onScroll",(0,d.Z)(()=>{if(!this.anchorElement)return;let e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());let{isOnView:t}=this;t()&&this.props.onView?.()},this.props.throttleTime||100)),u(this,"wasViewed",()=>{let e=this.anchorElement?.getBoundingClientRect();return!!e&&e.top<=l.R$}),u(this,"isOnView",()=>{let e=this.anchorElement?.getBoundingClientRect();return!!e&&e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||window.height||0)-150&&e.right<=(window.innerWidth||window.width||0)}),u(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){let{children:e}=this.props;return(0,c.jsx)(a.xu,{ref:e=>{this.anchorElement=e,this.anchorElement&&this.wasViewed()&&this.props.onView?.()},children:e})}}function h({children:e,onView:t,onEnter:i,onExit:a,throttleTime:l}){(0,r.useEffect)(()=>{(0,n.Z)("StickyAnchor","/app/www/StickyAnchor.tsx")},[]);let{checkExperiment:d}=(0,o.r)(),{isAuthenticated:u}=(0,s.B)();return(0,c.jsx)(p,{checkExperiment:d,isAuth:u,onEnter:i,onExit:a,onView:t,throttleTime:l,children:e})}},31552:function(e,t,i){i.d(t,{Z:()=>_,w:()=>x});var n,r=i(281098),a=i(667294);i(422578);var l=i(825332),o=i(20256),s=i(521009),d=i(28427),c=i(572227),u=i(647709),p=i(171889),h=i(119297),g=i(993689),m=i(785893);let x="related-interests-multi-column-module",f=(void 0!==n||(n=i(674331)).hash&&"0f7082cb16415beacefe955d9b3cf766"!==n.hash&&console.error("The definition of 'RelatedInterestsMultiColumnModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({storyKey:e,viewType:t,isReducedModuleHeightExp:i,isPinPage:n=!1}){(0,a.useEffect)(()=>{(0,r.Z)("RelatedInterestsMultiColumnModule","/app/www/closeup/duplo/RelatedInterestsMultiColumnModule.tsx")},[]);let _=(0,u.ml)(),y=(0,d.Z)(f,e),w=(0,s.Z)(),{pathname:b}=(0,l.TH)(),v=(0,c.Z)(),[j,S]=(0,a.useState)(!1),I=(0,u.HG)(),k=_?12:6;return y&&(0,m.jsx)(o.xu,{borderStyle:_?void 0:"lg","data-test-id":x,overflow:"auto",rounding:4,children:(0,m.jsxs)(o.xu,{marginBottom:i?6:3,marginTop:i?6:4,paddingX:_?1:3,children:[y.storyTitle?.format&&(0,m.jsxs)(o.xu,{marginStart:1,children:[y.subtitle?.format&&(0,m.jsx)(o.xu,{marginBottom:1,children:(0,m.jsx)(o.xv,{size:_?"100":"200",children:y.subtitle.format})}),(0,m.jsx)(o.xu,{marginBottom:3,children:(0,m.jsx)(o.X6,{size:_?"300":"600",children:y.storyTitle.format})})]}),(0,m.jsxs)(o.kC,{height:"100%",justifyContent:"between",width:"100%",wrap:!0,children:[y.objects?.slice(0,j||I?6:4).map((e,i)=>"SeoRelatedInterestsData"===e.__typename&&e.name&&e.klpUrl&&(0,m.jsx)(o.sg,{span:k,children:(0,m.jsx)(o.xu,{marginBottom:1,paddingX:.5,paddingY:_?void 0:1,children:_?(0,m.jsx)(p.Z,{height:72,images:e.imageSpec236x||e.imageSpec474x?[{[e.imageSpec236x?"236x":"474x"]:{url:e.imageSpec236x?e.imageSpec236x?.[0]?.url:e.imageSpec474x?.[0]?.url}}]:[],isPinPage:n,lineClamp:2,onTap:()=>{w({event_type:102,component:39,element:216,object_id_str:e.klpUrl,view_type:t,view_parameter:4161,aux_data:{unauth_related_interest_position:i,current_page_url:b}}),v({action:"click",item:"related-interests"})},title:e.name,url:e.klpUrl,viewParameter:4161,viewType:t}):(0,m.jsx)(h.Z,{backgroundColor:"secondary",flexible:!0,handleClick:()=>{w({event_type:102,component:39,element:216,object_id_str:e.klpUrl,view_type:t,view_parameter:4161,aux_data:{unauth_related_interest_position:i,current_page_url:b}}),v({action:"click",item:"related-interests"})},imageHeight:1,imageUrl:e.imageSpec236x?.[0]?.url||e.imageSpec474x?.[0]?.url||"",testId:"ideaRep",topicTitle:e.name,url:e.klpUrl})})},e.name)),!j&&!I&&(0,m.jsx)(g.Z,{handleClick:()=>{S(!0)},size:_?"md":"lg",testId:"show-more-pin-page-related-interests"})]})]})})}},469817:function(e,t,i){i.d(t,{Es:()=>d,HW:()=>s,er:()=>u,rQ:()=>c});var n=i(111330),r=i(753143),a=i(603316);let l=e=>e>=Date.now()-72e5,o=(e,t)=>{let i=[];if(e)for(let n of e)(!t||n.is_shared)&&l(n.ts)&&i.push(n);return i},s=()=>{let e=(0,r.M0)().getItem(n.uc)??[],t=o(e,!1),i=o(e,!0),a=t.map(e=>e.first_pin_image_signature),s=i.map(e=>e.first_pin_image_signature),d=(e=>{let t={};if(e)for(let i of e)i.is_shared&&l(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(e);return{extraPlpImages:a,plpImageRenderData:t,extraBlpImages:o((0,r.M0)().getItem(n.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:s,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(e[i].id!==t[i].id)return!1;return!0},c=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),u=(e,t,i,n)=>{let r={};return e.forEach(e=>{let l=e.id,o=e.pins.length??0;r[l]=o,(0,a.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:i,age:n,use_case_display_name:e.display_name}}),(0,a.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:i,age:n,use_case_display_name:e.display_name}})}),r}},326113:function(e,t,i){i.d(t,{$K:()=>l,Hg:()=>r,g6:()=>a,w6:()=>n});let n=(e,t)=>Array.from({length:t-e},(t,i)=>i+e),r=508,a=600;function l(e){return null!=e}},624883:function(e,t,i){i.d(t,{Z:()=>h});var n=i(281098),r=i(667294),a=i(825332),l=i(20256),o=i(417162),s=i(19585),d=i(941404),c=i(647709),u=i(341742),p=i(785893);function h({attributionLabel:e,container:t}){(0,r.useEffect)(()=>{(0,n.Z)("LoginSeeMoreButton","/app/www/login/LoginSeeMoreButton.tsx")},[]);let i=(0,s.ZP)(),h=(0,o.g)(),g=(0,c.HG)(),m=(0,a.s0)(),x=(0,a.TH)();return(0,u.Z)(()=>{(0,d.My)(`${g?"dweb":"mweb"}.login.see_more.button.mounted.${t}`)}),(0,p.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,p.jsx)(l.xu,{marginBottom:6,marginTop:6,children:(0,p.jsx)(l.zx,{color:"red",onClick:()=>{(0,d.My)(`${g?"dweb":"mweb"}.login.see_more.button.clicked.${t}`),h&&g?h.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:e,source:"login",container:t,reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",isWashBlocking:!0}):m("/login",{state:{attributionLabel:e,next:x.pathname,..."object"==typeof x.state?x.state:{}}})},size:"lg",text:i._('See more', 'unauth.login.see_more.button', 'Button text to see more pins in the feed')})})})}},629749:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),r=i(667294),a=i(20256),l=i(667835),o=i(785893);function s({color:e,image:t,isSelected:i,title:s}){(0,r.useEffect)(()=>{(0,n.Z)("PillRep","/app/www/nux/PillRep.tsx")},[]);let d=(0,l.vs)();return(0,o.jsxs)(a.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:d?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(a.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,o.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,o.jsx)(a.xu,{marginEnd:3,marginStart:2,children:(0,o.jsx)(a.xv,{color:i?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},431015:function(e,t,i){i.d(t,{ZN:()=>l,fv:()=>o,hr:()=>a,lD:()=>s});var n=i(575108);function r(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let a=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),l=(e,t,i)=>async n=>{n(a(e,!0));try{await r(e,i).callCreate(),t({event_type:601,object_id_str:e})}catch(t){n(a(e,!1))}},o=(e,t,i)=>async n=>{n(a(e,!1));try{await r(e,i).callDelete(),t({event_type:602,object_id_str:e})}catch(t){n(a(e,!0))}},s=(e,t="")=>i=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let n=e[t];i(a(t,n))})})},458707:function(e,t,i){function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function r(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}i.d(t,{L:()=>r,m:()=>n})},266042:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),r=i(581722),a=i(825332),l=i(278533),o=i(458707);function s(){let e=(0,r.I0)(),t=(0,a.s0)(),{pathname:i}=(0,a.TH)(),s=(0,r.v9)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,n.useEffect)(()=>{(0,l.Z)();let n=i.split("/"),r=`/${n[1]}/`;s[i]&&(e((0,o.m)(r,s[i])),t(r,{replace:!0}))},[])}},790199:function(e,t,i){i.d(t,{Z:()=>f,e:()=>g});var n=i(281098),r=i(667294),a=i(581722),l=i(20256),o=i(877956),s=i(364188),d=i(56785),c=i(331854),u=i(78762),p=i(785893);let h=(0,u.Z)(()=>Promise.all([i.e("22244"),i.e("23593")]).then(i.bind(i,433485)),void 0,e=>433485,"app-www-storyPins-duplo-HlsVideoContainer",e=>["22244","23593"]),g=Object.freeze({white:"inverse",black:"default"}),m={backgroundColor:"rgba(0, 0, 0, 0.4)"};function x({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,p.jsx)(h,{aspectRatio:d.q4,controls:!1,fallback:(0,p.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),poster:i||t.metadata.thumbnail,src:t.url})}function f({buttonAction:e,buttonCustomization:t,buttonText:i,experience:u,hideCompleteButton:h,imageAlt:g,imageUrl:f,openNewTab:_,storyType:y,titleText:w,titleTextColor:b,titleTextCustomization:v,videoPin:j,videoPlaceholderImage:S}){(0,r.useEffect)(()=>{(0,n.Z)("FeedCard","/app/www/stories/FeedCard.tsx")},[]);let I=(0,a.I0)(),k=(0,o.be)(),C=(0,o.Ig)(),{experience_id:T,placement_id:P}=u||{},Z=(0,c.Z)({onVisibilityChanged:e=>{e&&u&&"viewed"!==u.status&&void 0!==P&&void 0!==T&&(u.status="viewed",I(C(P,T,!1,!0)))}}),F=(0,d.zn)(y),E=F?s.f8:s.hm,A=F?s.sH:s.HI,{color:z,fontStyle:B,fontWeight:L,horizontalAlignment:R,fontSize:D}=(0,d.Mf)(v||{},"mweb");return(0,p.jsx)(l.xu,{ref:Z,marginBottom:2,padding:1,position:"relative",children:(0,p.jsxs)(l.rU,{accessibilityLabel:w,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),u&&I(k(P,T,!1,!0))},target:_?"blank":null,children:[(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,p.jsxs)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:[(0,p.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:"feed_card_video"===y&&j?(0,p.jsx)(x,{titleText:w,videoPin:j,videoPlaceholderImage:S}):f&&(0,p.jsx)(l.Ee,{alt:g||w||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:4,naturalWidth:3,src:f})}),!F&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:m},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,p.jsx)(E,{children:(0,p.jsx)(l.xv,{align:R,color:b,italic:"italics"===B,weight:L,children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:(z||b)??void 0,fontSize:D}},children:w})})})]})}),!h&&(0,p.jsx)(A,{children:(0,p.jsx)(l.zx,{color:(0,d.pQ)(t),text:i})})]})})}},92529:function(e,t,i){i.d(t,{Z:()=>T});var n=i(581722),r=i(20256),a=i(56785),l=i(93779),o=i(719685),s=i(94207),d=i(790199),c=i(281098),u=i(667294),p=i(825332),h=i(521009),g=i(547585),m=i(169053),x=i(785893);function f({pin:e,width:t,height:i,showDivider:n}){let a=e.images?.["236x"];return(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,x.jsx)(r.GH,{contentAspectRatio:(a?.width??1)/(a?.height??1),height:i,width:t,children:a?.url&&(0,x.jsx)(r.Ee,{alt:e.description??"",naturalHeight:a?.height??1,naturalWidth:a?.width??1,src:a.url})})})}function _({storyId:e,slotIndex:t}){(0,u.useEffect)(()=>{(0,c.Z)("FlashlightProductStory","/app/www/stories/FlashlightProductStory.tsx")},[]);let i=(0,p.s0)(),a=(0,p.TH)(),[l,o]=(0,u.useState)(0),s=(0,u.useRef)(null),d=(0,h.Z)(),_=(0,m.S6)();(0,u.useLayoutEffect)(()=>{let e=s.current;e&&o(e.offsetWidth)},[]);let y=(0,n.v9)(({stories:t})=>t[e]),w=y?.objects?.map(e=>_(e?.id)).filter(Boolean).slice(0,2),{story_type:b,action:v}=y,j=`${a.pathname}products/${a.search}`,S=()=>{d({component:200,event_type:102,view_parameter:3050,view_type:72}),i(j)};return(0,x.jsx)(g.qS,{auxData:{story_type:b,content_ids:w?.map(e=>e?.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,x.jsx)(r.xu,{ref:e,padding:2,children:(0,x.jsx)(r.zd,{rounding:2,children:(0,x.jsxs)(r.iP,{onTap:S,children:[(0,x.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",children:w?.map((e,t)=>(0,x.jsx)(f,{height:l-16,pin:e,showDivider:!t,width:(l-16)/2-1},e?.id))}),(0,x.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,x.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,x.jsx)(r.xu,{alignItems:"center",color:"secondary","data-test-id":"flashlight-story-action-pill",display:"flex",justifyContent:"center",paddingX:4,paddingY:2,rounding:"pill",children:(0,x.jsx)(r.xv,{weight:"bold",children:v?.text})})})})]})})}):(0,x.jsx)(r.xu,{ref:s,dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})})}var y=i(436171),w=i(793760);function b({storyId:e,viewType:t,viewParameter:i}){(0,u.useEffect)(()=>{(0,c.Z)("SearchBubbleStructuredFeedWrapper","/app/www/stories/SearchBubbleStructuredFeedWrapper.tsx")},[]);let a=(0,n.v9)(({stories:t})=>t[e]),l=(0,n.v9)(({articles:e})=>a.objects?.map(t=>{let i=e[t.id||""];return{action:{url:i.action?.url},cover_images:[{"236x":{url:i.cover_images?.[0]["236x"]?.url??""}}],title:{format:i.title.format},type:"explorearticle"}})),o=a.display_options,s=o?.content_display,d=o?.header_display,p={container_type:a.container_type,display_options:{num_columns_requested:o?.num_columns_requested,content_display:{grid_layout:s?.grid_layout,model_type:s?.model_type},header_display:{text_alignment:d?.text_alignment,header_size:d?.header_size},item_view_rep_style:o?.item_view_rep_style},id:e,objects:l,story_type:a.story_type,title:{format:a.title?.format}};return(0,x.jsx)(r.xu,{padding:1,children:(0,x.jsx)(w.default,{story:p,storyKey:{type:"Legacy",data:p},view:t,viewParameter:i,width:"100%"})})}var v=i(378888),j=i(940280);function S({guides:e,query:t}){return(0,u.useEffect)(()=>{(0,c.Z)("SearchGuides","/app/www/search/SearchGuides.tsx")},[]),(0,x.jsx)(r.xu,{padding:2,children:(0,x.jsx)(r.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},width:"100%",children:e.map(({display:e,position:i,term:n,color:a})=>{let l;return(0,x.jsx)(r.mB,{color:a,href:(l=-1===i?n:0===i?`${n} ${t}`:`${t} ${n}`,`/search/pins/?rs=${j.i.VANILLA_GUIDE}&q=${encodeURIComponent(l)}`),text:e},e)})})})}let I=["02","01","10","06","09","08","07"];function k({guides:e,storyId:t,slotIndex:i,titleFormat:n}){(0,u.useEffect)(()=>{(0,c.Z)("SearchGuidesStory","/app/www/stories/SearchGuidesStory.tsx")},[]);let a=(0,v.mB)((0,p.TH)().search).q??"";return(0,x.jsx)(g.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,x.jsxs)(r.xu,{ref:t,children:[n&&(0,x.jsx)(r.xu,{marginTop:2,paddingY:1,children:(0,x.jsx)(r.xv,{align:"center",children:n})}),(0,x.jsx)(S,{guides:e.map(({display:e,term:t})=>({display:e,color:I[e.charCodeAt(0)%I.length],position:-1,term:t})),query:a})]})})}var C=i(69558);let T=function({slotIndex:e,storyId:t,viewParameter:i,viewType:c}){let u=(0,n.v9)(({stories:e})=>e[t]);if(!u||!u.story_type)return null;let p=(0,C.Z)({containerTypeIsItemGrid:u?.container_type===56,storyType:u?.story_type??""})?"BUBBLE_ONE_COL":u?.story_type,h=u.objects,g=h?.filter(e=>"contextual_search"===e.schema||"contextual_search"===e.type).map(e=>({schema:"contextual_search",display:e.display??"",term:e.term??""})),m=u.action?.text,f=u.action?.url,w=u.display_options?{numColumnsRequested:u.display_options.num_columns_requested||1,titleTextColor:u.display_options.title_text_color||""}:null,v=u.experience,j=u.title&&u.title.format,S=u.description?.format,I=u.custom_properties;switch(p){case s.q:{if(!I||!w)return null;let{numColumnsRequested:e,titleTextColor:t}=w;if(2===e)return null;return(0,x.jsx)(l.Z,{actionType:I.actionType,avatarImageDetails:I.avatar_image_details??{},buttonAction:f??"",buttonText:m??"",descriptionText:S??"",descriptionTextCustomization:I.description_text_customization,examplePinImage:I.example_pin_image_details?.originals??{},experience:v??void 0,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,isFullWidth:!1,openNewTab:I.open_new_tab,titleText:j??"",titleTextColor:TITLE_COLORS[t],titleTextCustomization:I.title_text_customization})}case"feed_card_default":case"feed_card_video":return(0,x.jsx)(d.Z,{buttonAction:f??"",buttonCustomization:I.button_customization,buttonText:m??"",experience:v??void 0,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,openNewTab:I.open_new_tab,storyType:p,titleText:j??"",titleTextColor:(0,a.h_)(I,w?.titleTextColor),titleTextCustomization:I.title_text_customization,videoPin:I.video_pin,videoPlaceholderImage:I.video_placeholder_image});case"general_shopping_upsell":return(0,x.jsx)(d.Z,{buttonAction:f??"",buttonText:m??"",imageAlt:I?.image_alt,imageUrl:I?.image,storyType:p,titleText:j??"",titleTextColor:w?.titleTextColor?(0,a.h_)(void 0,w.titleTextColor):"black"});case"BUBBLE_ONE_COL":return(0,x.jsx)(r.xu,{padding:2,children:(0,x.jsx)(o.Z,{slotIndex:e,storyKey:{type:"Legacy",data:u},viewParameter:i,viewType:c})});case"pinner_authority":case"pinner_authority_unified":return(0,x.jsx)(y.Z,{slotIndex:e,storyId:t});case"stela_in_flashlight_onecol":return(0,x.jsx)(_,{slotIndex:e,storyId:t});case"search_guides":return(0,x.jsx)(k,{guides:g??[],slotIndex:e,storyId:t,titleFormat:j??""});case"related_searches_organic":case"related_searches":return(0,x.jsx)(b,{storyId:t,viewParameter:i,viewType:c});default:return null}}},436171:function(e,t,i){i.d(t,{Z:()=>u});var n=i(281098),r=i(667294),a=i(581722),l=i(20256),o=i(547585),s=i(169053),d=i(923377),c=i(785893);function u({slotIndex:e,storyId:t,exactMatch:i=!1}){(0,r.useEffect)(()=>{(0,n.Z)("PinnerAuthority","/app/www/stories/PinnerAuthority.tsx")},[]);let u=(0,s.S6)(),{action:p,aux_fields:h,objects:g,story_type:m,title:x}=(0,a.v9)(({stories:e})=>e[t]),f=(g?.[0]).id,_=g?.slice(1,3).map(({id:e})=>u(e||""))||[];return!i&&_.length<2?null:(0,c.jsx)(o.qS,{auxData:{content_ids:_.map(e=>e?.id),story_id:t,story_type:m,...h},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,c.jsxs)(l.xu,{ref:e,children:[x&&(0,c.jsx)(l.xu,{marginTop:2,paddingY:1,children:(0,c.jsx)(l.xv,{align:"center",children:x.format})}),(0,c.jsx)(d.Z,{action:p,auxData:h,isPinnerAuthorityHero:i,userId:f||"",userPinsImages236x:i?void 0:_.map(e=>e?.images?.["236x"]),userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}},500959:function(e,t,i){i.d(t,{UG:()=>m,ZP:()=>f,aG:()=>x});var n=i(281098),r=i(667294),a=i(20256),l=i(744862),o=i(821342),s=i(19585),d=i(956077),c=i(902293),u=i(572227),p=i(647709),h=i(102267),g=i(785893);let m={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest",responsive:"responsive"},x={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},bubbleOverlayHovered:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}}};function f({backgroundColor:e,bubbleId:t,bubbleUrl:i,coverImageUrl:f,curator:_,font:y,format:w,height:b,identifierIconType:v,onTap:j,pwtSurfaceContext:S,referringSource:I,subtitle:k,title:C,buttonFormat:T,contentAlign:P="center",textAlign:Z="center",width:F="100%"}){(0,r.useEffect)(()=>{(0,n.Z)("Bubble","/app/www/stories/bubbles/Bubble.tsx")},[]);let E=(0,s.ZP)(),A=(0,u.Z)(),z=(0,p.HG)(),[B,L]=(0,r.useState)(!1),R=(0,o.Z)(),D=R.isAuth?R?.avatar_color_index:void 0,[M,K]=(0,r.useState)("string"==typeof b?void 0:b);if(!M)return(0,g.jsx)(a.xu,{ref:e=>{e&&K(e.offsetWidth*("string"==typeof b?Number.parseFloat(b):100)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof b?Number.parseFloat(b)+"%":"100%",width:F}}});let O=w===m.article,H=w===m.interest,U=y||M>250&&"lg"||M>140&&w&&[m.medium,m.small,m.article].includes(w)&&"md"||M<120&&w&&w===m.small&&"xs"||"sm",N=!!v&&(0,c.Z)(v);return(0,g.jsx)(a.xu,{"data-test-id":"search-suggestion","data-test-type":I,onMouseEnter:()=>z?L(!0):void 0,onMouseLeave:()=>z?L(!1):void 0,position:"relative",children:(0,g.jsx)(h.M,{isAppUpsellDisabled:!0,onTouch:()=>{j&&(A({action:"click",item:"search-suggestion"}),j(t))},rounding:4,to:i,children:(0,g.jsxs)(a.zd,{rounding:4,children:[(0,g.jsx)(a.xu,{height:M,width:F,children:f&&(0,g.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{(0,d.Nx)("RenderSearchLandingPageBubbles"),S&&S.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:f})}),(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:B?x.bubbleOverlayHovered:x.bubbleOverlay,height:M,left:!0,position:"absolute",top:!0,width:F}),_&&!O&&(0,g.jsx)(a.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,g.jsx)(l.qE,{color:D,name:_.full_name,outline:!0,size:"xs",src:_.image_small_url})}),N&&(0,g.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,g.jsx)(a.JO,{accessibilityLabel:E._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:N,size:12})}),(0,g.jsx)(a.xu,{alignItems:O||H?"end":"center",display:"flex",height:M,justifyContent:P,padding:O||H?6:M>100?3:1,position:"absolute",top:!0,width:F,children:(0,g.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[k&&(0,g.jsx)(a.xv,{align:Z,color:"light",overflow:"normal",size:"lg"===U?"300":"100",children:k}),["lg","md"].includes(U)?(0,g.jsx)(a.X6,{align:Z,color:"light",overflow:"normal",size:"md"===U&&H?"600":"lg"===U?"700":"400",children:C}):(0,g.jsx)(a.xv,{align:Z,color:"light",overflow:"normal",size:"sm"===U?"300":"100",weight:"bold",children:C}),_&&O&&(0,g.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,g.jsx)(a.xu,{marginEnd:2,children:(0,g.jsx)(l.qE,{name:_.full_name,outline:!0,size:"xs",src:_.image_small_url})}),(0,g.jsx)(a.xv,{color:"light",size:"100",weight:"bold",children:_.full_name})]}),T&&(0,g.jsx)(a.xu,{marginTop:4,children:(0,g.jsx)(a.ZP,{accessibilityLabel:T.accessibilityLabel,href:T.href,size:T.size,text:T.text})})]})})]})})})}},719685:function(e,t,i){i.d(t,{Z:()=>m});var n,r=i(281098),a=i(667294);i(167912);var l=i(20256),o=i(521009),s=i(28427),d=i(902293),c=i(47426),u=i(547585),p=i(934357),h=i(785893);let g=(void 0!==n||(n=i(789154)).hash&&"c6be2bfa9e282b6036307fb17958ce3d"!==n.hash&&console.error("The definition of 'BubbleStory_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function m({auxData:e,pattern:t,slotIndex:i,viewType:n,viewParameter:m,storyKey:x,titleAlignment:f="center",omitTitle:_=!1,titleMarginBottom:y=2,titleMarginStart:w=0,titleSize:b="300"}){(0,a.useEffect)(()=>{(0,r.Z)("BubbleStory","/app/www/stories/bubbles/BubbleStory.tsx")},[]);let v=(0,s.Z)(g,x),j=(0,o.Z)();if(null==v)return null;let S=!!v.storyTitle,I=v.storyTitle?.format,k=v.displayOptions?.identifierIconName,C=v.action?.url,T=v.action?.text||void 0,P=(v.objects?.filter(e=>"ExploreArticle"===e.__typename)??[]).map(({type:e,entityId:t})=>e+":"+t).join("|"),Z={story_type:v.storyType,story_id:v.storyId,content_ids:P,...e},F=!!k&&"number"==typeof k&&(0,d.Z)(k);return(0,h.jsx)(u.qS,{auxData:Z,component:200,loggingId:v.storyId??"",objectIdStr:v.storyId??"",slotIndex:i,viewParameter:m,viewType:n,children:({impressionTrackerRef:e})=>(0,h.jsxs)(l.xu,{ref:e,children:[S&&!_&&(0,h.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:f,marginBottom:y,marginStart:w,children:[F&&k!==d.J&&(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,h.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:F,size:14})}),(0,h.jsx)(l.xv,{size:b,weight:"bold",children:I})]}),(0,h.jsx)(p.Z,{pattern:t,referringSource:v.referringSource,storyKey:v,viewParameter:m,viewType:n}),C&&T&&(0,h.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:1,width:"100%",children:(0,h.jsx)(l.ZP,{accessibilityLabel:T,color:"gray",href:C,onClick:()=>{j({view_type:n,view_parameter:m,aux_data:Z,event_type:102})},rel:(0,c.Z)({url:C})?"nofollow":void 0,size:"md",target:(0,c.Z)({url:C})?"blank":void 0,text:T})})]})})}},934357:function(e,t,i){i.d(t,{Z:()=>m});var n,r=i(281098),a=i(667294);i(167912);var l=i(20256),o=i(469167),s=i(28427),d=i(500959),c=i(793548),u=i(785893);let p=(void 0!==n||(n=i(868391)).hash&&"1820448f293b4452fdd957a1b02dd23b"!==n.hash&&console.error("The definition of 'BubblesGridRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function h({storyData:e,onTouch:t,pattern:i=[d.UG.medium],pwtSurfaceContext:n,referringSource:r,viewParameter:a,viewType:o}){let s=e.objects?.filter(e=>"ExploreArticle"===e.__typename)??[],p=s.map(({type:e,entityId:t})=>e+":"+t).join("|");return(0,u.jsx)(l.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:s.map((s,h)=>{let g=i[h%i.length];return(0,u.jsx)(l.xu,{"data-test-id":`bubble-${h}`,paddingY:1,width:[d.UG.small,d.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%",children:(0,u.jsx)(c.Z,{auxData:{content_ids:p,story_type:e.storyType,grid_index:h},bubbleKey:s,format:g,height:[d.UG.medium,d.UG.extra_small].includes(g)&&"50%"||g===d.UG.article&&"73%"||"100%",onTouch:t,pwtSurfaceContext:n,referringSource:r,slotIndex:h,storyId:e.storyId??"",viewParameter:a,viewType:o})},`bubble-${h}`)})})}function g({storyData:e,onTouch:t,pwtSurfaceContext:i,referringSource:n,viewParameter:r,viewType:a}){let s=e.objects?.filter(e=>"ExploreArticle"===e.__typename)??[],d=s.map(({type:e,entityId:t})=>e+":"+t).join("|");return(0,u.jsx)(l.xu,{"data-test-id":"masonry-bubbles-grid-rep-responsive-wrapper",margin:"auto",width:"100%",children:(0,u.jsx)(o.default,{columnWidth:236,gutterWidth:16,items:s,minCols:1,renderItem:({data:o,itemIdx:s})=>(0,u.jsx)(l.xu,{"data-test-id":`bubble-${o.entityId}`,children:(0,u.jsx)(c.Z,{auxData:{content_ids:d,story_type:e.storyType,grid_index:s},bubbleKey:o,height:118,onTouch:t,pwtSurfaceContext:i,referringSource:n,slotIndex:s,storyId:e.storyId??"",viewParameter:r,viewType:a,width:236})})})})}function m({storyKey:e,...t}){(0,a.useEffect)(()=>{(0,r.Z)("BubblesGridRep","/app/www/stories/bubbles/BubblesGridRep.tsx")},[]);let i=(0,s.Z)(p,e);return i&&(t.pattern?.includes(d.UG.responsive)?(0,u.jsx)(g,{...t,storyData:i}):(0,u.jsx)(h,{...t,storyData:i}))}},793548:function(e,t,i){i.d(t,{Z:()=>m});var n,r=i(281098),a=i(667294);i(167912);var l=i(20256),o=i(512712),s=i(521009),d=i(28427),c=i(378888),u=i(547585),p=i(500959),h=i(785893);let g=(void 0!==n||(n=i(760441)).hash&&"ee837caaba80f67c3ccb2223d20c7649"!==n.hash&&console.error("The definition of 'ExploreBubble_exploreArticle' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function m({auxData:e,bubbleKey:t,font:i,format:n,height:m,onTouch:x,pwtSurfaceContext:f,referringSource:_,slotIndex:y,storyId:w,viewParameter:b,viewType:v,width:j="100%"}){(0,a.useEffect)(()=>{(0,r.Z)("ExploreBubble","/app/www/stories/bubbles/ExploreBubble.tsx")},[]);let S=(0,d.Z)(g,t),I=(0,s.Z)();if(null==S||!S.coverImage236x?.[0]?.url&&!S.coverImage474x?.[0]?.url||!S.articleTitle?.format)return null;let k=S.curator?.fullName&&S.curator.imageSmallUrl?{full_name:S.curator.fullName,image_small_url:S.curator.imageSmallUrl}:void 0,C=S.coverImage474x?.[0]?.url||S.coverImage236x?.[0]?.url,T=S.action?.url||(({storyCategory:e,query:t,referringSource:i,bubbleId:n,storyId:r,title:a})=>{let l=null!=e&&(0,o.y)(e),s=(0,c.XP)({q:t,rs:i||void 0,b_id:n,source_id:r}),d=l&&a?(0,o.x)({title:a,id:n,articleType:"discover"}):`/discover/article/${n}/`;return l?d:`/search/pins/${s?"?"+s:""}`})({storyCategory:S.storyCategory,query:S.articleTitle?.format,referringSource:_,bubbleId:S.entityId,storyId:w,title:S.articleTitle?.format}),P=n===p.UG.article?13865:200,Z=n===p.UG.article?102:6940,F=t=>{I({component:P,event_type:Z,object_id_str:t,view_parameter:b,view_type:v,aux_data:{article_id:t,grid_index:y,...e}}),x&&x({query:S.articleTitle?.format??""})},E=S.dominantColors&&S.dominantColors.length?S.dominantColors[0]:void 0;return(0,h.jsx)(u.fv,{auxData:{story_id:w,...e},impressionData:{storyCategory:S.storyCategory,storyIdStr:w},loggingId:w,slotIndex:y,viewParameter:b,viewType:v,children:({impressionTrackerRef:e})=>(0,h.jsx)(l.xu,{ref:e,children:(0,h.jsx)(p.ZP,{backgroundColor:E,bubbleId:S.entityId,bubbleUrl:T,coverImageUrl:C,curator:k,font:i,format:n,height:m,identifierIconType:S.identifierIconType,onTap:F,pwtSurfaceContext:f,referringSource:_,title:S.articleTitle?.format??"",width:j})})})}},94207:function(e,t,i){i.d(t,{Nu:()=>a,q:()=>r,r:()=>l,z5:()=>n});let n=["board_shop_tool_module","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator","search_story_landing_page_header"],r="checklist_education_feed_card",a=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],l={"#d7edff":"01","#002966":"01","#cfffca":"02","#ffe0e0":"04","#800000":"04","#dafff6":"06","#fffd92":"07","#c3f9c2":"07","#005f3e":"07","#ffe4c1":"08","#842000":"08","#ffe2eb":"09","#e9e4ff":"10","#400387":"10","#dad4ff":"10","#efefef":"11"}},69558:function(e,t,i){i.d(t,{Z:()=>r});var n=i(963999);let r=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,n.Z)({storyType:t})},963999:function(e,t,i){i.d(t,{Z:()=>r});var n=i(94207);let r=({storyType:e})=>n.z5.includes(e)},82920:function(e,t,i){i.d(t,{Z:()=>f});var n=i(281098),r=i(667294),a=i(825332),l=i(20256),o=i(521009),s=i(19585),d=i(15667),c=i(572227),u=i(647709),p=i(288926),h=i(75313),g=i(301856),m=i(785893);let x=["#EEF5D8","#FEB5A9","#A3DCD4","#FFDB80","#78F1C0"];function f({ideas:e,viewType:t,headingOverride:i,limit:f}){(0,r.useEffect)(()=>{(0,n.Z)("RelatedIdeas","/app/www/topic/RelatedIdeas.tsx")},[]);let _=(0,s.ZP)(),{isBot:y}=(0,d.B)(),w=(0,u.HG)(),b=(0,u.Wb)(),v=(0,c.Z)(),j=(0,o.Z)(),{pathname:S}=(0,a.TH)();if(0===e.length)return null;let I=5===t,k=f||(0,h.q)(y,w,b,e.length,625===t||442===t||I),C=e.slice(0,e.length).map((e,i)=>{let{image:n,name:r,url:a}=e;if(!r||!a)return null;let{url:l,width:o}=(I?n?.["170x"]:n?.["236x"])||n?.["474x"]||{};return e.url&&e.name&&{url:e.url,name:e.name,imageUrl:l||"",imageWidth:o,imageHeight:1,imageLoading:I?"lazy":void 0,handleClick:()=>{j({event_type:102,component:39,element:216,object_id_str:(0,h.D0)(a),view_type:t,view_parameter:3897,aux_data:{unauth_related_interest_position:i,current_page_url:S}}),v({action:"click",item:"related-interests"})},backgroundColor:x[i],testId:"ideaRep",topicTitle:e.name}}).filter(Boolean);return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(l.xu,{marginStart:w?void 0:2,children:i?(0,m.jsx)(g.Z,{sectionHeader:i}):(0,m.jsx)(g.Z,{headerMarginTopOverride:9,sectionHeader:_._('Related interests', 'idea_page.related_interests', 'Title for related interests section')})}),(0,m.jsx)("div",{className:"idea-row",children:(0,m.jsx)(l.xu,{"data-test-id":"relatedIdeasContainer",children:(0,m.jsx)(l.xu,{"data-test-id":"idea-page-related-interests",children:(0,m.jsx)(p.Z,{data:C,expandButtonProps:{testId:"interest-rep-more-button",handleClick:()=>{v({action:"click",item:"interest-rep-more-button"})}},flexible:!0,maxInitialItemCount:k,viewType:t})})})})]})}},676049:function(e,t,i){i.d(t,{Z:()=>k});var n,r,a=i(281098),l=i(667294),o=i(581722),s=i(167912),d=i(20256),c=i(521009),u=i(15667),p=i(38817),h=i(431015),g=i(19585),m=i(906553),x=i(629749),f=i(785893);let _=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:r,locale:a,nameTextSize:l,renderAsPill:o,showFollowerCount:s,topicName:c,followerCount:u,image:p})=>{let h=(0,g.ZP)(),_=(0,m.Z)(),y=(0,f.jsx)(d.JO,{accessibilityLabel:h._('Selected', ' - ', ' -- '),color:"light",icon:n?"check":"check-circle",size:n?12:24});return o?(0,f.jsx)(x.Z,{color:e||"#767676",image:p,isSelected:r??!1,title:c}):(0,f.jsxs)(d.xu,{"aria-selected":r,position:"relative",children:[(0,f.jsx)(d.zd,{rounding:n||i?4:2,children:(0,f.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,f.jsx)(d.xu,{bottom:!0,left:!0,padding:n&&r?1:0,position:"absolute",right:!0,rounding:n&&r?4:0,top:!0,children:p.url&&(0,f.jsx)(d.Ee,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,f.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:r?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&r?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:n?4:void 0,top:!0}),n&&r&&(0,f.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,f.jsx)(d.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(d.xv,{align:"center",color:"light",size:l,weight:"bold",children:c})}):(0,f.jsxs)(d.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,f.jsx)(d.xv,{color:"light",size:l,weight:"bold",children:c}),s&&u>=0&&(0,f.jsx)(d.xu,{paddingY:1,children:(0,f.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,f.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:_(a,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),h._('followers', ' - ', ' -- ')]})})]}),r&&(0,f.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,f.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:y}):y})]})},y=(void 0!==n||(n=i(530070)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==n.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=({topicRef:e,...t})=>{(0,l.useEffect)(()=>{(0,a.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=(0,s.useFragment)(y,e),n=i.images?{url:i.images.url??"",width:i.images.width??0,height:i.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,f.jsx)(_,{backgroundColor:i.background_color??"",followerCount:i.follower_count??0,image:n,topicName:i.name??"",...t})},b=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...n})=>{(0,l.useEffect)(()=>{(0,a.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let r=i||e||t,o=r?.images?.["236x"]||r?.images?.["400x"]||r?.images?.["474x"]||r?.images?.orig||{height:1,url:"",width:1},s=r&&"follower_count"in r&&void 0!==r.follower_count?r.follower_count:-1;return(0,f.jsx)(_,{backgroundColor:r?.background_color||"",followerCount:s,image:o,topicName:r?.name||"",...n})},v=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:r="lg",onTouch:a,padding:l=2,renderAsPill:s,showFollowButton:g=!1,showFollowerCount:m=!1,shouldClickthrough:x=!1,topic:_,viewParameter:y,viewType:v})=>{let j=(0,o.I0)(),S=(0,c.Z)(),{locale:I}=(0,u.B)(),k=(0,f.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==_.type?(0,f.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:I,nameTextSize:r,renderAsPill:s,showFollowerCount:m,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp}):(0,f.jsx)(w,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:I,nameTextSize:r,renderAsPill:s,showFollowerCount:m,topicRef:_.topicRef}),!!_&&g&&(0,f.jsx)(d.xu,{paddingY:2,children:(0,f.jsx)(p.Z,{followEventType:601,id:_.id,inline:t,invertColors:t,isFollowed:_.is_followed,onFollow:e=>j((0,h.ZN)(e,S)),onUnfollow:e=>j((0,h.fv)(e,S)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:y||void 0,viewType:v||void 0})})]}),C="/";return _&&(C=`/topics/${_.id}`),x&&_.slug?(0,f.jsx)(d.Tg,{href:C,onTap:({event:e})=>{a?.(e)},rounding:2,tapStyle:"compress",children:(0,f.jsx)(d.xu,{padding:l,children:k})}):k},j=(void 0!==r||(r=i(205529)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==r.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),S=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:n,isSelected:r=!1,nameTextSize:a="lg",onTouch:l,padding:o=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:h,viewType:g})=>{let m=(0,s.useFragment)(j,e);return(0,f.jsx)(v,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:r,nameTextSize:a,onTouch:l,padding:o,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topic:{id:m.entityId??"",type:"graphql",is_followed:m.is_followed??!1,topicRef:m},viewParameter:h,viewType:g})},I=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:n,decreaseNamePadding:r=!1,isHomefeedTuner:a,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:h=!1,showFollowerCount:g=!1,shouldClickthrough:m=!1,viewParameter:x,viewType:_})=>{let y=(0,o.v9)(({topics:t})=>t[e]),w=t??y;return(0,f.jsx)(v,{decreaseNamePadding:r,isHomefeedTuner:a,isLego:l,isSelected:s,nameTextSize:d,onTouch:c,padding:u,renderAsPill:p,shouldClickthrough:m,showFollowButton:h,showFollowerCount:g,topic:{id:e,is_followed:!!w?.is_followed,topic:w,topicBlob:i,topicInfoForContextualExp:n,type:"resource"},viewParameter:x,viewType:_})},k=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:r="lg",onTouch:o,padding:s=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:h,viewType:g,...m})=>((0,l.useEffect)(()=>{(0,a.Z)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),m.topicRef?(0,f.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:r,onTouch:o,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topicRef:m.topicRef,viewParameter:h,viewType:g}):(0,f.jsx)(I,{decreaseNamePadding:e,id:m.id,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:r,onTouch:o,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:h,viewType:g}))},288926:function(e,t,i){i.d(t,{Z:()=>p});var n=i(281098),r=i(667294),a=i(20256),l=i(647709),o=i(171889),s=i(119297),d=i(993689),c=i(439538),u=i(785893);let p=({expandButtonProps:e,data:t,maxInitialItemCount:i,viewType:p})=>{(0,r.useEffect)(()=>{(0,n.Z)("TopicRepLayout","/app/www/unauth/unified/TopicRepLayout.tsx")},[]);let h=(0,l.ml)(),[g,m]=(0,r.useState)(!1),x=!!e&&t.length>i&&!g,f=625===p;return(0,u.jsxs)(r.Fragment,{children:[h&&!f?(0,u.jsx)(a.xu,{display:"flex",justifyContent:h?"start":void 0,marginBottom:h?void 0:-4,marginEnd:h?void 0:-4,width:h?"100%":void 0,wrap:!0,children:t.slice(0,g?t.length:i).map(e=>(0,u.jsx)(a.xu,{marginBottom:1,marginEnd:h?1:void 0,width:"100%",children:(0,u.jsx)(o.Z,{height:72,images:e.imageWidth&&e.imageUrl?[{[`${e.imageWidth}x`]:{url:e.imageUrl}}]:[],isKlpPage:!0,lineClamp:2,onTap:e.handleClick,testId:e.testId,title:e.topicTitle,url:e.url,viewParameter:3897,viewType:p})},e.url))}):(0,u.jsx)(c.Z,{cacheKey:`topic-rep-layout-${t[0]?.topicTitle}`,id:`topic-rep-layout-${t[0]?.topicTitle}`,items:t.slice(0,g?t.length:i),renderItem:e=>(0,r.createElement)(s.Z,{...e,key:e.url}),serverRender:!0}),x&&(0,u.jsx)(d.Z,{handleClick:t=>{e?.handleClick?.(t),m(!0)},size:h?"md":"lg",testId:e.testId})]})}},119297:function(e,t,i){i.d(t,{Z:()=>c});var n=i(281098),r=i(667294),a=i(20256),l=i(647709),o=i(500959),s=i(785893);let d=({children:e})=>(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"50%"}},position:"relative",top:!0,children:(0,s.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:e})}),c=({url:e,handleClick:t,testId:i,imageHeight:c=1,imageWidth:u=1,imageUrl:p,imageLoading:h,topicTitle:g,backgroundColor:m})=>{(0,r.useEffect)(()=>{(0,n.Z)("TopicRepMask","/app/www/unauth/unified/TopicRepMask.tsx")},[]);let[x,f]=(0,r.useState)(!1),_=(0,l.HG)(),y=(0,l.ml)();return(0,s.jsx)(a.xu,{"data-test-id":i,children:(0,s.jsx)(a.rU,{href:e,onClick:t,children:(0,s.jsx)(d,{children:(0,s.jsx)(a.xu,{height:"100%",onMouseEnter:()=>_?f(!0):void 0,onMouseLeave:()=>_?f(!1):void 0,children:(0,s.jsx)(a.zd,{height:"100%",rounding:4,width:"100%",children:(0,s.jsx)(a.Ee,{alt:"",color:m,fit:"cover",loading:h,naturalHeight:c,naturalWidth:u,role:"presentation",src:p,children:(0,s.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:x?o.aG.bubbleOverlayHovered:o.aG.bubbleOverlay,display:"flex",height:"100%",justifyContent:"center",padding:4,children:(0,s.jsx)(a.xv,{align:"center",color:"inverse",dataTestId:"topic-rep-title",lineClamp:3,size:y?"300":"400",weight:"bold",children:g})})})})})})})})}},75313:function(e,t,i){function n(e,t,i,n,r,a){return e?n:t?r?5:10:i?r?4:8:a?6:4}i.d(t,{D0:()=>r,q:()=>n});let r=e=>{let t=e.split("/").filter(Boolean),i=t[t.length-1];return i&&/^\d+$/.test(i)?i:e}},807431:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),r=i(667294),a=i(20256),l=i(467925),o=i(647709),s=i(785893);let d=({children:e,...t})=>{(0,r.useEffect)(()=>{(0,n.Z)("UnauthFixedColumnMasonryWrapper","/app/www/unauth/unified/UnauthFixedColumnMasonryWrapper.tsx")},[]);let i=(0,o.HG)(),{experimentalGutter:d}=(0,l.Z)(),c=i&&d?-(d/2/4):void 0;return(0,s.jsx)(a.xu,{...t,marginEnd:c,marginStart:c,children:e})}},993689:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),r=i(667294),a=i(20256),l=i(19585),o=i(785893);let s=({testId:e,handleClick:t,buttonTextOverride:i,size:s="lg"})=>{(0,r.useEffect)(()=>{(0,n.Z)("UnauthModuleExpandButton","/app/www/unauth/unified/UnauthModuleExpandButton.tsx")},[]);let d=(0,l.ZP)();return(0,o.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:4,width:"100%",children:(0,o.jsx)(a.zx,{"data-test-id":e,onClick:t,size:s,text:i||d._('See more', 'unauth.module_expand.button', 'Button text for more topicRep tiles')})})}},439538:function(e,t,i){i.d(t,{Z:()=>c});var n=i(20256),r=i(469167),a=i(467925),l=i(93966),o=i(647709),s=i(807431),d=i(785893);let c=function({renderItem:e,items:t,cacheKey:i,id:c,serverRender:u,testId:p}){let h=(0,o.ml)(),{experimentalColumnWidth:g,experimentalGutter:m}=(0,a.Z)(),x=h?l.tG:g??l.yF,f=h?l.yt:m??4*l.jC;return(0,d.jsx)(s.Z,{children:(0,d.jsx)(n.xu,{"data-test-id":p,marginEnd:-(f/4),children:(0,d.jsx)(r.default,{align:"start",cacheKey:i,columnWidth:x,gutterWidth:f,id:c,items:t,layout:"uniformRow",minCols:2,renderItem:({data:t,itemIdx:i})=>e(t,i),serverRender:u})})})}},301856:function(e,t,i){i.d(t,{Z:()=>u});var n=i(281098),r=i(667294),a=i(20256),l=i(19585),o=i(647709),s=i(785893);let d=({isPhone:e,url:t,handleClick:i})=>{let n=(0,l.ZP)(),r=n._('See more arrow', 'unauth_section_header.see_more_a11y', 'See more link button accessibility label');return e?(0,s.jsx)(a.I_,{accessibilityLabel:r,bgColor:"transparent",href:t,icon:"arrow-forward",iconColor:"darkGray",onClick:i,padding:1,size:"xs"}):(0,s.jsx)(a.ZP,{accessibilityLabel:r,color:"transparent",href:t,iconEnd:"arrow-forward",onClick:i,size:"md",text:n._('See more', 'unauth_section_header.see_more', 'See more link button for unauth section header')})},c=({children:e,linkProps:t})=>t?(0,s.jsx)(a.Tg,{fullWidth:!1,href:t.url,mouseCursor:"pointer",onTap:t.handleClickHeader||t.handleClick,children:e}):(0,s.jsx)(a.xu,{children:e}),u=({sectionHeader:e,sectionHeaderA11yLevel:t,pretext:i,pretextA11yLevel:l,linkProps:u,headerMarginTopOverride:p,smallHeader:h=!1})=>{(0,r.useEffect)(()=>{(0,n.Z)("UnauthSectionHeader","/app/www/unauth/unified/UnauthSectionHeader.tsx")},[]);let g=(0,o.ml)(),m=p??(g?12:16),x=h||g?"100":"300",f=h||g?"300":"600";return(0,s.jsxs)(a.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:m,width:"100%",children:[(0,s.jsxs)(c,{linkProps:u,children:[!!i&&(0,s.jsx)(a.xu,{marginBottom:1,children:l?(0,s.jsx)(a.X6,{accessibilityLevel:l,size:x,children:(0,s.jsx)(a.xv,{size:x,children:i})}):(0,s.jsx)(a.xv,{lineClamp:2,size:x,children:i})}),(0,s.jsx)(a.X6,{accessibilityLevel:t||2,size:f,children:e})]}),!!u&&(0,s.jsx)(d,{...u,isPhone:g})]})}},923377:function(e,t,i){i.d(t,{Z:()=>I});var n=i(281098),r=i(667294),a=i(581722),l=i(20256),o=i(521009),s=i(744862),d=i(19585),c=i(906553),u=i(302148),p=i(15667),h=i(47426),g=i(102267),m=i(38817),x=i(547585),f=i(676244),_=i(793698),y=i(785893);let w={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},b=({height:e,image:t,width:i})=>{(0,r.useEffect)(()=>{(0,n.Z)("FeedUserRepContextualPinImage","/app/www/user/duplo/FeedUserRepContextualPinImage.tsx")},[]);let a=(0,d.ZP)();return(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,y.jsxs)(l.xu,{position:"relative",children:[(0,y.jsx)(l.GH,{contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,height:e,width:i,children:t.url&&(0,y.jsx)(l.Ee,{alt:a._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:w,height:e,left:!0,position:"absolute",top:!0,width:i})]}):(0,y.jsx)(l.xu,{color:"secondary",height:e,width:i})})};var v=i(647709),j=i(732690);let S=function({badgeSize:e,badgeSpacing:t,fullName:i,verifiedType:n,truncate:a=!1}){let o=i.split(" "),s=o.slice(0,o.length-1).join(" "),d=" ".concat(o[o.length-1]),c=!(0,v.HG)(),u=(0,y.jsx)(j.Z,{isVerifiedMerchant:"verifiedMerchant"===n,showVerifiedIdentity:"verifiedIdentity"===n,size:e});return a?(0,y.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,y.jsx)(l.xv,{lineClamp:1,weight:"bold",children:i}),(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:c&&u})]}):(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)("span",{children:s}),(0,y.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[d," ",(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:c&&u})]})]})};function I({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:w=!1,onFollowUser:v,onUnfollowUser:j,userId:I,userPinsImages236x:k,viewParameter:C,viewType:T,truncateName:P=!1}){(0,r.useEffect)(()=>{(0,n.Z)("FeedUserRep","/app/www/user/duplo/FeedUserRep.tsx")},[]);let Z=(0,d.ZP)(),F=(0,c.Z)(),E=(0,a.I0)(),{locale:A}=(0,p.B)(),z=(0,o.Z)(),[B,L]=(0,r.useState)(w?window.innerWidth-16:null),R=(0,_.mN)()(I);if(!R)return null;let{contextual_pin_image_urls:D,explicitly_followed_by_me:M,follower_count:K=0,full_name:O,image_medium_url:H,is_verified_merchant:U,recent_pin_images:N,username:W,verified_identity:G}=R,$=e=>B?(B-(e-1))/e:0,X=w?1.6*$(4):117,q=N?.["222x"]||N?.["192x"]||[],V=D?.["222x"]||D?.["192x"]||[];i&&0===V.length&&(V=q);let Y=w&&V.length<=0,J=w?V.concat(q).slice(0,4):(k||[]).concat(q).slice(0,2);0===J.length&&(J=[void 0,void 0]);let Q=!Y&&(B?(0,y.jsx)(l.zd,{rounding:4,children:(0,y.jsx)(l.kC,{children:J.map((e,t)=>(0,y.jsx)(b,{height:X,image:e,width:$(J.length)},`pinImage-${t}`))})}):(0,y.jsx)(l.xu,{ref:e=>{e&&L(e.offsetWidth)},height:X,width:"100%"})),ee=e=>(0,y.jsx)(l.kC,{justifyContent:"center",children:(0,y.jsx)(l.xu,{height:60,marginTop:e,width:60,children:(0,y.jsx)(s.qE,{color:R.avatar_color_index,name:O??"",outline:!0,src:H??""})})}),et=e=>(0,y.jsxs)(l.kC,{alignItems:e,direction:"column",gap:{row:0,column:1},children:[(0,y.jsx)(l.kC,{alignItems:"stretch",maxWidth:(w?(B||0)/2:B)||void 0,children:(0,y.jsx)(l.xv,{align:e,lineClamp:P?1:void 0,weight:"bold",children:U||G?.verified?(0,y.jsx)(S,{badgeSize:"md",badgeSpacing:2,fullName:O??"",truncate:P,verifiedType:U?"verifiedMerchant":"verifiedIdentity"}):O})}),(0,y.jsx)(l.xv,{align:e,inline:!0,size:"100",children:(0,u.nk)(Z.ngettext('{{followers}} follower', '{{followers}} followers', K, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:F(A,K,{shortform:!0})})})]}),ei=(0,y.jsx)(l.kC,{justifyContent:"center",children:e&&e.url?(0,y.jsx)(l.ZP,{accessibilityLabel:e.text,color:"gray",href:e.url,onClick:()=>{z({event_type:9029,object_id_str:I,view_type:T,view_parameter:C,aux_data:t})},rel:(0,h.Z)({url:e.url})?"nofollow":void 0,size:"lg",target:(0,h.Z)({url:e.url})?"blank":void 0,text:e.text||""}):(0,y.jsx)(m.Z,{followEventType:45,id:I,isFollowed:M,isSecondaryButton:!0,onFollow:e=>{v&&v(),E((0,f.ZN)(e))},onUnfollow:e=>{j&&j(),E((0,f.fv)(e))},pinKey:null,size:"lg",unfollowEventType:46,viewParameter:C,viewType:T})});return(0,y.jsx)(x.Cy,{loggingId:I,objectIdStr:I,slotIndex:0,viewParameter:C,viewType:T,children:({impressionTrackerRef:e})=>(0,y.jsx)(l.xu,{ref:e,"data-test-id":"user-rep",marginBottom:6,padding:1,children:(0,y.jsx)(g.M,{onTouch:()=>{z({event_type:43,object_id_str:I,view_parameter:C,view_type:T})},to:`/${W}/`,children:(0,y.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,w?(0,y.jsx)(l.xu,{width:"100%",children:(0,y.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,y.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),et("start")]}),ei]})}):(0,y.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),et("center"),ei]})]})})})})}},118363:function(e,t,i){i.d(t,{Z:()=>eP});var n=i(667294),r=i(281098),a=i(616550),l=i(825332),o=i(355940),s=i(821342),d=i(900675),c=i(444185),u=i(647709),p=i(981342),h=i(581722),g=i(20256),m=i(980787),x=i(19585),f=i(274320),_=i(15667),y=i(886981),w=i(2761),b=i(123998),v=i(941404),j=i(698586),S=i(378888),I=i(341742),k=i(664897),C=i(802504),T=i(476785),P=i(250787),Z=i(319227),F=i(788743),E=i(521009),A=i(302148),z=i(675973),B=i(845329),L=i(940280),R=i(572227),D=i(31552),M=i(676296),K=i(522678),O=i(94207),H=i(785893);function U({color:e,referringSource:t,term:i,termId:a,viewParameter:l,viewType:o,feedObjectId:s}){(0,n.useEffect)(()=>{(0,r.Z)("RainbowSearchPill","/app/www/LoggedOutProduct/duplo/search/RainbowSearchPill.tsx")},[]);let d=`/search/pins/?q=${encodeURIComponent(i)}&rs=${t}`,{logContextEvent:c}=(0,m.u)(),u=(0,R.Z)();return(0,H.jsx)(g.Tg,{fullHeight:!0,fullWidth:!0,href:d,onTap:()=>{c({event_type:102,component:32,element:191,object_id_str:a||i,view_parameter:l,view_type:o,aux_data:{feed_object_id:s}}),u({action:"click",item:"search-rep"})},rel:"nofollow",tapStyle:"compress",children:(0,H.jsx)(g.BF,{color:e?O.r[e]:void 0,text:i})},i)}function N({referringSource:e,searchTerms:t,title:i,viewParameter:a,viewType:l,shouldReduceModuleSpacingBoardPage:o=!1,feedObjectId:s}){(0,n.useEffect)(()=>{(0,r.Z)("RainbowSearchPills","/app/www/LoggedOutProduct/duplo/search/RainbowSearchPills.tsx")},[]);let d=(0,u.ml)();return(0,H.jsxs)(g.xu,{direction:"column",display:"flex",paddingX:+!!d,paddingY:d?o?6:12:4,children:[(0,H.jsx)(g.xu,{marginBottom:4,paddingX:2*!!d,children:(0,H.jsx)(g.xv,{size:d?"300":"400",weight:"bold",children:i})}),(0,H.jsx)(g.kC,{gap:{row:1,column:1},wrap:!0,children:t&&t.map((t,i)=>{let{term:n,termId:r}=t;return(0,H.jsx)(U,{color:O.Nu[i%O.Nu.length].toLowerCase(),feedObjectId:s,referringSource:e,term:n,termId:String(r),viewParameter:a,viewType:l},n)})})]})}var W=i(169053),G=i(119297),$=i(75313),X=i(881207);let q=({relatedInterests:e})=>{(0,n.useEffect)(()=>{(0,r.Z)("BoardFeed","/app/www/boardSection/BoardFeed.tsx")},[]);let t=(0,u.ml)(),i=(0,x.ZP)(),a=(0,E.Z)(),l=(0,R.Z)();return(0,H.jsx)(g.xu,{borderStyle:t?void 0:"lg","data-test-id":D.w,rounding:4,children:(0,H.jsxs)(g.xu,{marginBottom:3,marginTop:4,paddingX:t?1:3,children:[(0,H.jsxs)(g.xu,{marginStart:1,children:[(0,H.jsx)(g.xu,{marginBottom:1,children:(0,H.jsx)(g.xv,{size:t?"100":"200",children:i._('We think you\u2019ll love these', 'related_ideas_module.subtitle', 'Subtitle for related interests section')})}),(0,H.jsx)(g.xu,{marginBottom:3,children:(0,H.jsx)(g.X6,{size:t?"300":"600",children:i._('Related Interests', 'related_ideas_module.title', 'Title for related interests section')})})]}),(0,H.jsx)(g.kC,{height:"100%",justifyContent:"between",width:"100%",wrap:!0,children:e?.slice(0,6).map((e,t)=>(0,H.jsx)(g.sg,{span:6,children:(0,H.jsx)(g.xu,{paddingX:1,paddingY:1,children:(0,H.jsx)(G.Z,{backgroundColor:"secondary",flexible:!0,handleClick:()=>{a({event_type:102,component:39,element:216,object_id_str:(0,$.D0)(e.url||""),view_type:5,view_parameter:3897,aux_data:{unauth_related_interest_position:t,current_page_url:X.cU}}),l({action:"click",item:"related-interests"})},imageHeight:1,imageUrl:e.image?.["70x"]?.url||e.image?.["474x"]?.url||"",testId:"ideaRep",topicTitle:e.name||"",url:e.url||""})})},e.name))})]})})},V=({boardName:e,hasSections:t=!1,isOwnBoard:i,isSensitive:a,ownerId:l})=>{(0,n.useEffect)(()=>{(0,r.Z)("BoardFeed","/app/www/boardSection/BoardFeed.tsx")},[]);let o=(0,x.ZP)(),s=(0,h.v9)(({users:e})=>e[l]?.full_name);return i?!a&&(0,H.jsx)(M.Z,{icon:"arrow-circle-forward",iconLabel:"Go to search",message:o._('Let\'s find some ideas for your board...', 'empty state message when your board has no pins', 'empty state message when your board has no pins'),url:e?`/search/pins/?rs=${L.i.TYPED}&q=${encodeURIComponent(e)}`:""}):t?null:(0,H.jsx)(M.Z,{message:(0,A.Wc)(o._('{{ user }} hasn\'t saved any Pins to this board yet', ' - ', ' -- '),{user:s||o._('This Pinner', ' - ', ' -- ')})})};function Y({boardId:e,boardName:t,hasSections:i,isOwnBoard:a,isSensitive:l,ownerId:o,pinCount:s,pageSize:d,resource:c,relatedSearchTerms:p,surface:m,relatedInterests:f,boardNColInterestsGroup:y,boardNColInterestsGroupShort:w,isUnauthBoardUpsellSaveMwebEnabled:b,isUnauthBoardUpsellWithOverlay:v}){(0,n.useEffect)(()=>{(0,r.Z)("BoardFeed","/app/www/boardSection/BoardFeed.tsx")},[]);let{isAuthenticated:j,isBot:S}=(0,_.B)(),I=(0,h.v9)(({feeds:t})=>t[`boardfeed:${e}`])||[],C=(0,u.ml)(),T=(0,u.HG)(),P=(0,x.ZP)(),Z=(0,k.Z)(),F=(0,W.JC)(),E=I?.filter(e=>"pin"===e.type).slice(0,20)||[],A=null!=F?Object.values(F).filter(e=>E.some(t=>t.id===e.id)):[],R=(0,u.ml)(),{checkExperiment:D}=(0,z.Z)(),M=!j&&R&&!D("lop_ucan_mau_ui_holdout").anyEnabled,O="breakIn",U="enabled_interest_first_10"===y?25:10;C&&(O="fullWidthBreakIn",U=6);let G=`boardfeed:${e}`,$="enabled_interest_only_10"!==y&&"enabled_primary_only"!==w&&("breakIn"===O||S||!Z)&&I.length>U&&p.length>0?{type:O,value:{content:(0,H.jsx)(N,{feedObjectId:e,referringSource:L.i.BOARD,searchTerms:p,shouldReduceModuleSpacingBoardPage:M,title:P._('Related searches', 'BoardFeed.RelatedSearchModule', 'Title for related search module on board feed'),viewParameter:a?3069:3070,viewType:5}),index:U}}:void 0,X=0,Y=0;return j||(X=C?1:5,Y=+!!C),(0,H.jsxs)(g.kC,{dataTestId:"board-feed",direction:"column",children:[(0,H.jsx)(K.iK,{emptyState:(0,H.jsx)(V,{boardName:t,hasSections:i,isOwnBoard:a,isSensitive:l,ownerId:o}),feedItemProps:{viewType:5,viewParameter:a?3069:3070,viewData:{view_object_id_str:e}},feedItemsAdjustment:$,feedKey:G,getColumnSpanConfig:e=>"story"===e.type&&(y?.startsWith("enabled")||w?.startsWith("enabled_primary"))?2:1,initialLoadingStatePinCount:25,isLoadedAccessibilityLabel:P._('Loaded Pins for board', 'board.feed.results', 'Accessibility label for loaded Pins for board'),isLoadingAccessibilityLabel:P._('Loading Pins for board', 'board.feed.loading', 'Accessibility label for loading Pins for board'),isLoadingStateEnabled:!j&&T,isUnauthBoardUpsellWithOverlay:v,pageSize:d,performanceOptimization:{lazyLoadBelowFoldIndex:X,priorityFetchAboveFoldIndex:Y},renderFeedItem:e=>"story"===e.type&&(y?.startsWith("enabled")||w?.startsWith("enabled_primary"))&&f?.length?(0,H.jsx)(q,{relatedInterests:f},e.id):"FALLBACK_TO_DEFAULT",resource:c,seoDrawerPinType:"board",serverRender:!0,shouldShowSeoDrawerOption:!0,surface:m,trafficSource:"board",unauthBoardUpsellsEnabled:b}),!j&&(0,H.jsx)(B.Z,{pinCount:s,pinKeys:{type:"Legacy",data:A},testId:"board-feed-item-list"})]})}var J=i(469167),Q=i(467925),ee=i(906553),et=i(667835);function ei({description:e,itemImageUrl:t,imageSizes:i,mediumItemImageUrl:a,mediumImageSizes:l}){(0,n.useEffect)(()=>{(0,r.Z)("PreviewPin","/app/www/boardSection/PreviewPin.tsx")},[]);let o=(0,u.ZP)();return(0,H.jsx)(g.xu,{color:(0,et.vs)()?"lightWash":void 0,column:6,dangerouslySetInlineStyle:{__style:{marginLeft:1}},marginEnd:0,children:(0,H.jsx)(g.zd,{height:"phone"===o?117:141,wash:!0,children:t&&i&&(0,H.jsx)(g.Ee,{alt:e??"",fit:"cover",naturalHeight:(l?l.height:i.height)??1,naturalWidth:(l?l.width:i.width)??1,src:a??t})})})}var en=i(326113);let er=({children:e,url:t})=>{let{isAuthenticated:i}=(0,_.B)();return(0,H.jsx)(g.Tg,{href:t,rel:"nofollow",rounding:2,tapStyle:"compress",children:e})};function ea({boardUrl:e,boardSectionId:t}){(0,n.useEffect)(()=>{(0,r.Z)("BoardSection","/app/www/boardSection/BoardSection.tsx")},[]);let i=(0,x.ZP)(),a=(0,ee.Z)(),l=(0,u.ZP)(),{locale:o}=(0,_.B)(),s=(0,h.v9)(({boardsections:e})=>e[t]),[d,c]=(0,n.useState)(!1);if(!s)return null;let{title:p,preview_pins:m=[],pin_count:f,slug:y}=s;return(0,H.jsx)(er,{url:`${e}${y??""}/`,children:(0,H.jsxs)(g.xu,{marginBottom:-2,onMouseEnter:"desktop"===l?()=>c(!0):void 0,onMouseLeave:"desktop"===l?()=>c(!1):void 0,paddingY:4,children:[(0,H.jsx)(g.zd,{rounding:4,children:(0,H.jsx)(g.xu,{color:d?"darkWash":void 0,display:"flex",marginEnd:-1,marginStart:-1,opacity:d?.9:void 0,children:(0,en.w6)(0,"phone"===l?2:3).map(e=>(0,H.jsx)(ei,{description:m?.[e]?m[e].description:"",imageSizes:m?.[e]?m[e].image_large_size_pixels:null,itemImageUrl:m?.[e]?m[e].image_large_url:"",mediumImageSizes:m?.[e]?m[e].image_medium_size_pixels:null,mediumItemImageUrl:m?.[e]?m[e].image_medium_url:""},e))})}),(0,H.jsxs)(g.xu,{direction:"column",display:"flex",marginStart:2,marginTop:2,children:[(0,H.jsx)(g.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:p}),(0,H.jsx)(g.xu,{marginBottom:-1,marginTop:-1,paddingY:2,children:(0,H.jsx)(g.xv,{size:"100",weight:"normal",children:(0,A.nk)(i.ngettext('{{ count }} Pin', '{{ count }} Pins', f || 0, 'BoardSection.Pincount', 'label for n amount of pins'),{count:a(o,f||0,{shortform:!0,shortform_maximum_fraction_digits:1})})})})]})]})})}function el({boardId:e,boardUrl:t,fetchState:i,onLoadedAll:a=()=>{}}){(0,n.useEffect)(()=>{(0,r.Z)("BoardSections","/app/www/boardSection/BoardSections.tsx")},[]);let l=(0,x.ZP)(),o=(0,h.v9)(({feeds:t})=>t[`board-sections:${e}`]),{experimentalGutter:s}=(0,Q.Z)();return((0,I.Z)(()=>{a()}),o)?(0,H.jsx)(g.xu,{marginEnd:-1,marginStart:-1,children:(0,H.jsx)(J.default,{cacheKey:`board-sections:${e}`,columnWidth:320,gutterWidth:s,items:o,loadItems:i?.fetchMore,minCols:2,renderItem:({data:e})=>(0,H.jsx)(g.xu,{"data-test-id":"board-section",children:(0,H.jsx)(ea,{boardSectionId:e.id,boardUrl:t})},e.id)})}):(0,H.jsx)(g.xu,{column:12,paddingY:2,children:(0,H.jsx)(g.xH,{accessibilityLabel:l._('Loading feed', ' - ', ' -- '),show:!0})})}var eo=i(72821),es=i(374078);let ed=({children:e,config:t})=>{let{isFetching:i,fetchMore:n,error:r,isAtEnd:a}=(0,es.Z)(t),l=!a&&!r;return e(l?{fetching:i,fetchMore:n,hasMore:l}:{hasMore:l})};function ec({children:e,resourceConfig:t}){return((0,n.useEffect)(()=>{(0,r.Z)("ConditionalResource","/app/www/ConditionalResource.tsx")},[]),t)?(0,H.jsx)(ed,{config:t,children:e}):e({hasMore:!1})}var eu=i(532611),ep=i(624883),eh=i(845421),eg=i(702226),em=i(770158),ex=i(340323),ef=i(425140),e_=i(92529),ey=i(82920);let ew=({interests:e,shouldReduceModuleSpacingBoardPage:t})=>{(0,n.useEffect)(()=>{(0,r.Z)("UnauthBoardRelatedInterests","/app/www/unauth/UnauthBoardRelatedInterests.tsx")},[]);let i=(0,u.ml)(),a=i?6:5;return e&&e.length>=(i?2:3)&&(0,H.jsx)(g.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:"1244px",children:(0,H.jsx)(g.kC,{direction:"column",children:(0,H.jsx)(ey.Z,{ideas:e.slice(0,a),limit:a,shouldReduceModuleSpacingBoardPage:t,viewType:5})})})};var eb=i(301856);let ev=(0,i(78762).Z)(()=>i.e("30854").then(i.bind(i,498458)),void 0,e=>498458,"app-www-SeoDebugModule-SeoDebugModuleBoard",e=>["30854"]),ej=()=>{},eS=({boardId:e,isOwnBoard:t,relatedInterests:i,isUnauthBoardUpsellSaveEnabled:n})=>{let r=(0,l.TH)(),{logContextEvent:a}=(0,m.u)(),{data:o,fetchMore:s,isAtEnd:d,isFetching:c}=(0,y.Z)({name:"BoardContentRecommendationResource",options:{add_vase:!0,id:e,type:"board",__track__from_news_id:(0,S.mB)(r.search).from_news_id,__track__referrer:20}}),u=(0,j.Z)({dangerouslySkipActivation:!1}),p=u&&o&&o.length>=u;return(0,I.Z)(()=>{a({event_type:13,view_type:5,view_parameter:t?3069:3070,component:14082})}),(0,H.jsxs)(g.xu,{children:[(0,H.jsx)(ef.Z,{feedItems:p?o?.slice(0,u):o??[],feedKey:`recommendation-feed:${e}`,getColumnSpanConfig:e=>"story"===e.type&&"related_interests_module"===e.story_type?2:1,minColumns:2,pagination:{loadNext:p?()=>{}:s,hasNext:d,isLoadingNext:c,refetch:()=>void 0},renderFeedItem:(e,r)=>"pin"===e.type?(0,H.jsx)(eh.Z,{componentType:0,duploFeedItemProps:{showSeoMetadata:!0},duploQueryRef:null,pinId:e.id,seoDrawerPinType:"feed",shouldShowSeoDrawerOption:!0,slotIndex:r,trackingParams:e.trackingParams,trafficSource:"board",unauthBoardUpsellsEnabled:n,viewParameter:t?3069:3070,viewType:5}):"story"===e.type&&"related_interests_module"===e.story_type&&!!i&&(0,H.jsx)(q,{relatedInterests:i})||(0,H.jsx)(e_.Z,{slotIndex:r,storyId:e.id??"",viewParameter:t?3069:3070,viewType:5})}),p&&(0,H.jsx)(ep.Z,{attributionLabel:"click_see_more_board_ideas",container:"board_page"})]})};function eI({board:e,isBoardPreviewMode:t,isCollaborator:i,isOwnBoard:r}){let a=(0,x.ZP)(),{isAuth:l}=(0,s.Z)(),{isBot:o,country:d}=(0,_.B)(),c=(0,u.ml)(),p=(0,u.HG)(),{checkExperiment:h}=(0,f.r)(),m="repin";if(!l){let e=h("seo_gulp_board_feed",{dangerouslySkipActivation:!0}).group||"",t=!!e,i=e.startsWith("enabled"),n=!t&&!o&&h("unauth_gulp_board_feed",{dangerouslySkipActivation:!0}).anyEnabled;(i||n)&&(m="gulp")}let v=c?6:5,j=(e.seo_related_interests||[]).filter(e=>e.name&&(e.image?.["70x"]||e.image?.["474x"])),S=j.slice(0,v),I=(e.seo_related_interests&&e.seo_related_interests.map(e=>{let t=e.image?.["70x"],i=e.image?.["474x"];return{name:e.name,url:e.url,image70x:t?{url:t.url,height:t.height,width:t.width}:void 0,image474x:i?{url:i.url,height:i.height,width:i.width}:void 0}}).filter(e=>e.name&&(e.image70x||e.image474x))||[]).slice(v,v+5).map(e=>({term:(0,w.Z)(e.name||""),termId:(0,$.D0)(e.url||"")})),{pin_count:P,owner:Z,section_count:F=0,sensitivity:E,featured_board_metadata:A}=e,{has_expanded_sections:z,more_ideas:B}=A||{},L=z&&(!r||t),[R,D]=(0,n.useState)(0===F),M=!1===B,K=(0,y.Z)(r||i?{name:"BoardToolsFeedResource",options:{boardId:e.id}}:null),O=(0,y.Z)({name:"BoardFeedResource",options:(({boardId:e,isAuthenticated:t,pageSize:i,bookmarks:n,fieldSetKey:r,rerankMethod:a,expandedSectionsDisplayed:l})=>({add_vase:!t,board_id:e,field_set_key:r||"react_grid_pin",filter_section_pins:t||!!l,is_react:!0,prepend:!1,page_size:i??null,bookmarks:n??null,rerankMethod:a??null}))({boardId:e.id,isAuthenticated:l,pageSize:ex.Jk,rerankMethod:m,expandedSectionsDisplayed:!o&&!!F&&L})});o&&(O.fetchMore=ej);let U=(0,k.Z)(),{anyEnabled:N,group:W}=!l&&!o&&p&&(P??0)>ex.Jk?h("unauth_board_n_col_interests_dweb"):{anyEnabled:!1,group:""},{group:G}=!l&&!o&&p&&(P??0)<=ex.Jk?h("unauth_board_n_col_interests_dweb_short"):{group:""},X=(0,u.ml)(),q=!l&&X&&!h("lop_ucan_mau_ui_holdout").anyEnabled,V=N||G.startsWith("enabled_primary"),J=G.startsWith("enabled_secondary"),{group:Q,anyEnabled:ee}="US"===d&&!l&&!o&&X&&h("unauth_board_upsell_save_mweb_profile")||{group:"",anyEnabled:!1},et=ee&&"enabled_v3"===Q,ei=r?3069:3070,en={componentType:178,contextLogData:{board_id:e.id},slotIndex:0,viewParameter:r?3069:3070,viewType:5};return(0,H.jsx)(ec,{resourceConfig:!o&&F?{name:"BoardSectionsResource",options:{board_id:e.id}}:null,children:t=>(0,H.jsxs)(g.xu,{children:[!o&&!!F&&(0,H.jsxs)(n.Fragment,{children:[!L&&(0,H.jsx)(el,{boardId:e.id,boardUrl:e.url??"",fetchState:t.hasMore?{fetching:t.fetching,fetchMore:t.fetchMore}:void 0,onLoadedAll:()=>D(!0)}),L&&(0,H.jsx)(em.Z,{board:e,onLoadedAll:()=>D(!0),viewParameter:ei})]}),!((r||i)&&!K.isAtEnd)&&!t.hasMore&&(o||R)&&(0,H.jsxs)(g.xu,{children:[(0,H.jsx)(g.xu,{marginBottom:4*!q,marginTop:4,children:P?(0,H.jsx)(b.Z,{auxData:{board_id:e.id,board_pin_count:P},component:178,objectId:e.id,view:5,viewParameter:ei,children:(0,H.jsx)(C.B,{value:en,children:(0,H.jsx)(Y,{boardId:e.id,boardName:e.name,boardNColInterestsGroup:W,boardNColInterestsGroupShort:G,hasSections:(F||0)>0,isOwnBoard:r,isSensitive:(0,eu.Uz)(E),isUnauthBoardUpsellSaveMwebEnabled:ee,isUnauthBoardUpsellWithOverlay:et,ownerId:Z,pageSize:String(ex.Jk),pinCount:P??0,relatedInterests:V?j:void 0,relatedSearchTerms:!l&&I?I:[],resource:O,surface:"BaseBoardPinGrid"})})}):(0,H.jsx)(g.xu,{paddingY:12,children:(0,H.jsx)(g.xv,{align:"center",weight:"normal",children:a._('There aren\'t any Pins on this board yet.', 'BoardSections.EmptyBoard', 'Message for empty board state')})})}),!(V||J)&&(!U||o)&&!l&&(0,H.jsx)(ew,{interests:S,shouldReduceModuleSpacingBoardPage:q}),!U&&O.isAtEnd&&(0,H.jsx)(g.xu,{"data-test-id":"more-ideas-container",marginTop:12*!!N,children:!l&&!o&&!M&&(0,H.jsxs)(g.kC,{direction:"column",children:[(0,H.jsx)("div",{className:T.q,style:{margin:"auto",width:"100%"},children:(0,H.jsx)(g.xu,{paddingX:p?void 0:2,children:(0,H.jsx)(eb.Z,{headerMarginTopOverride:q?6:void 0,sectionHeader:a._('More like this', 'On mobile web pin page, title for related pins beneath board pins', 'On mobile web pin page, title for related pins beneath board pins')})})}),(0,H.jsx)(b.Z,{component:14082,view:5,viewParameter:r?3069:3070,children:(0,H.jsx)(eS,{boardId:e.id,isOwnBoard:r,isUnauthBoardUpsellSaveEnabled:ee,relatedInterests:J?j:void 0})})]})})]})]})})}function ek(){(0,n.useEffect)(()=>{(0,r.Z)("BoardPageDefault","/app/www/BoardPage/BoardPageDefault.tsx")},[]);let{isAuth:e}=(0,s.Z)(),t=(0,l.TH)(),{params:{slug:i,username:o}}=(0,a.$B)(),d=(0,h.v9)(e=>o&&i?(0,eg.Z)(e)[`/${o}/${encodeURIComponent(decodeURIComponent(i))}/`]:null),[c,u]=(0,n.useState)(!0),p=(0,h.v9)(e=>e.session.seoDebug);(0,n.useEffect)(()=>{e||(0,v.NC)("view_board_page")},[e]);let g=t.state?.selectedSection,m=(0,F.Z)(!!d?.collaborated_by_me),x=(0,Z.Z)(d?.owner?.id),[f,_]=(0,n.useState)(!1);return(0,H.jsxs)(P.i0,{children:[d&&p&&c&&(0,H.jsx)(ev,{entityId:d.id,setShowSeoDebugModule:u}),!!d&&(g?(0,H.jsx)(eo.Z,{board:d,boardSection:g,isAuthenticated:e,isCollaborator:m,isOwnBoard:x}):(0,H.jsx)(P.x0,{isBoardPreviewMode:f,setIsBoardPreviewMode:_,children:(0,H.jsx)(eI,{board:d,isBoardPreviewMode:f,isCollaborator:m,isOwnBoard:x})}))]})}var eC=i(984126);function eT({boardResourceRef:e,refreshBoardData:t}){let i=(0,u.HG)(),n=(0,s.Z)(),r=(0,l.s0)(),a=n&&n.isAuth,{data:o,error:c}=(0,d.Z)(e);return c?(r("/?show_error=true&from=board",{replace:!0}),null):i&&a?(0,H.jsx)(p.Z,{boardData:o,refreshBoardData:t}):(0,H.jsx)(ek,{})}let eP=function(){(0,n.useEffect)(()=>{(0,r.Z)("BoardPage","/app/www/pages/BoardPage.tsx")},[]);let{username:e,slug:t}=(0,a.UO)(),i=(0,s.Z)(),d=(0,u.HG)(),p=new URLSearchParams((0,l.TH)().search).get("orbac_subject_id"),{ref:h,refresh:g}=(0,c.Z)(i.isAuth&&d?{name:"BoardResource",options:{username:decodeURIComponent(e||""),slug:decodeURIComponent(t||""),field_set_key:"detailed",orbac_subject_id:p??""}}:null);return(0,H.jsx)(o.Z,{name:"BoardPage_ResourceError",children:(0,H.jsx)(n.Suspense,{fallback:(0,H.jsx)(eC.Z,{}),children:(0,H.jsx)(eT,{boardResourceRef:h,refreshBoardData:g})})})}},761112:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),r=i(667294);let a={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},l=/[&><\u2028\u2029]/g;var o=i(785893);function s({id:e,isRelayResponseScript:t,testId:i,type:s="application/json",value:d}){(0,r.useEffect)(()=>{(0,n.Z)("JsonScript","/pws/react/JsonScript.tsx")},[]);let c=JSON.stringify(d).replace(l,e=>a[e]);return(0,o.jsx)("script",{"data-test-id":i,id:e,...t?{"data-relay-response":!0}:{},dangerouslySetInnerHTML:{__html:c},type:s})}},526523:function(e,t,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/[username]/[slug]",function(){return i(118363).Z}])}},function(e){e.O(0,["15604","1887","25418","29752","30724","33171","34323","36849","38340","39176","41642","42985","47342","48146","51226","53547","58967","59138","60471","67069","67243","75581","75830","76347","85724","91780","92911","97403","97740"],function(){return e(e.s=526523)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/[slug]-8a79f5ad2e35921f.mjs.map