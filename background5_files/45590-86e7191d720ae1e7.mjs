(self.modernJsonp=self.modernJsonp||[]).push([["45590"],{51581:function(e,t,o){o.d(t,{Z:()=>l});var n=o(825332),i=o(599472),a=o(647709);function l(){let e=(0,n.s0)(),t=(0,a.HG)();return o=>{t?(0,i.Z)(o,{disableOriginCheck:!0}):e(o)}}},17619:function(e,t,o){o.d(t,{Z:()=>n});let n=(e,t)=>{let o=new Date;return new Date(1e3*e)<=new Date(o.getFullYear()-(t||18),o.getMonth(),o.getDate())}},189381:function(e,t,o){o.d(t,{Z:()=>n});let n=e=>Math.floor(new Date(e).getTime()/1e3)},673877:function(e,t,o){o.d(t,{Z:()=>l});var n=o(281098),i=o(667294),a=o(785893);let l=({size:e=56})=>((0,i.useEffect)(()=>{(0,n.Z)("Google","/app/packages/gestalt-custom-svg/dynamicSVGs/Google.tsx")},[]),(0,a.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,a.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,a.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,a.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,a.jsx)("path",{d:"M20 20h472v472H20V20z"})]}))},696968:function(e,t,o){o.d(t,{Z:()=>i});var n=o(785893);let i=(0,n.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,n.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:"ï£¿"})})})},482698:function(e,t,o){o.d(t,{Di:()=>l,E2:()=>c,Eh:()=>u,Jl:()=>n,R:()=>i,aU:()=>s,iu:()=>r,j2:()=>a,pN:()=>d});let n=1e4,i="permanent_account_closure",a="account_deletion_email_sent",l="account_deactivated",s="unlink_successful",r="lba_deprecation_personal_convert_account_message",c="lba_deprecation_business_convert_account_message",d="account_switch_to_settings",u="lba_deprecation_delete_account"},16503:function(e,t,o){o.d(t,{Z:()=>n});let n={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9,QR_CODE:10,OTP:11}},177119:function(e,t,o){o.d(t,{Z:()=>_});var n=o(255581),i=o(111330),a=o(464332),l=o(753143),s=o(694955),r=o(378888),c=o(403135);let d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"";function _(e,t){let o;if(!d)return void t.error?.({message:"Window is undefined"});let _=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),p=async e=>{if(!e.isTrusted)return;let s=e instanceof MessageEvent?(({origin:e,data:t})=>t&&e===window.location.origin?String(t):null)(e):(({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==i.MM)return null;let o=(0,l.M0)().getItem(i.MM);return(0,l.M0)().removeItem(i.MM),o})(e),d=(0,r.mB)(s);if(d.state&&d.code&&d.state===_){t.fetching?.(),o&&!o.closed&&o.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(a.U2(n.fS))}`},method:"POST",body:(0,c.Z)({code:d.code,redirect_uri:u})}),{id_token:o,access_token:i}=await e.json();o&&i?t.success({line_id_token:o,line_access_token:i}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{o&&!o.closed&&o.close(),window.removeEventListener("message",p),window.removeEventListener("storage",p),t.complete?.()}}};window.addEventListener("message",p),window.addEventListener("storage",p),o=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${s.zal}&redirect_uri=${encodeURIComponent(u)}&state=${_}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},438534:function(e,t,o){o.d(t,{Z:()=>n});let n=e=>JSON.parse(decodeURIComponent(atob((e.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},467221:function(e,t,o){o.d(t,{GH:()=>r,JF:()=>h,Jb:()=>p,MI:()=>g,_V:()=>c,fi:()=>m,sl:()=>u,we:()=>_});var n=o(189381),i=o(686319),a=o(55543),l=o(6179),s=o(941404);let r="274266067164",c=()=>["public_profile","email","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:r,status:!0,xfbml:!0,version:"v2.7"})):e?(0,s.dy)({event:"global_object_not_found",provider:"facebook"}):(0,s.My)("pcons.non_autologin.fb.global_object_not_found")},_=(e,t)=>(t&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,l.Z)(e),"FACEBOOK").then(()=>u(t))),p=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)});async function g(e){let t=(await (0,i.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:d}})).resource_response.data||{};return(0,s.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let h=()=>new Promise(e=>{window.FB.login(e,{scope:c().join(",")})}).then(e=>new Promise((t,o)=>{if("connected"!==e.status)return void o({status:e.status||"unknown"});let{userID:i,accessToken:a}=e.authResponse;g(a).then(e=>{t({creds:{facebook_id:i,facebook_token:a,facebook_autologin:!1},signupOptions:(({userID:e,accessToken:t,data:{birthday:o,email:i,first_name:a,gender:l,last_name:s,picture:r}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:o?(0,n.Z)(o):void 0,email:i,first_name:a,gender:l,image_url:r&&!r.data.is_silhouette?r.data.url:void 0,last_name:s}))({userID:i,accessToken:a,data:e})})},o)})),m=async(e,t)=>{await _(e,!1);let o=await p(),n=t?"dweb":"mweb";if("connected"===o.status){(0,s.My)(`${n}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=o.authResponse;try{let o=await (0,i.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(o?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:i}=o.resource_response.data,a=e||t;return(0,s.My)(`${n}.login_data_from_fb_token.success`),{isGoogleConnected:a,hasPassword:i,isFBAuthOnly:!a&&!i}}(0,s.My)(`${n}.login_data_from_fb_token.no_data`)}catch{(0,s.My)(`${n}.login_data_from_fb_token.error`)}}return null}},984126:function(e,t,o){o.d(t,{Z:()=>r});var n=o(281098),i=o(667294),a=o(20256),l=o(19585),s=o(785893);let r=({isInModal:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,l.ZP)();return(0,s.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),children:(0,s.jsx)(a.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},278566:function(e,t,o){o.d(t,{Z:()=>m});var n=o(281098),i=o(667294),a=o(825332),l=o(980787),s=o(346955),r=o(15667),c=o(941404),d=o(572227),u=o(155328),_=o(634405),p=o(815861),g=o(603316),h=o(785893);function m({children:e,componentType:t,app_upsell_type:o,isShown:m=!0}){(0,i.useEffect)(()=>{(0,n.Z)("AppUpsellController","/app/www/appupsell/AppUpsellController.tsx")},[]);let f=(0,a.TH)(),{flushContextEvents:b,logContextEvent:x}=(0,l.u)(),{viewType:w,viewParameter:y}=(0,s.SU)(),v=(0,d.Z)(),{userAgent:{platform:k}}=(0,r.B)();(0,i.useEffect)(()=>{v({action:"view",item:"download-button",within:o})},[f,o,v]);let j=(0,i.useRef)(!1);(0,i.useEffect)(()=>{m&&w&&202!==w?(x({component:t||13106,element:10308,event_type:9976,view_type:w,view_parameter:y,aux_data:{app_upsell_type:o,app_upsell_is_dupe:j.current}}),j.current=!0):(0,g.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:w,view_parameter:y,app_upsell_type:o,app_upsell_is_dupe:j.current}})},[w,y,t,o,x,m]);let C=(0,_.Z)();return(0,i.useEffect)(()=>{C||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${o}`)},[C,o]),(0,h.jsx)(p.Z,{children:n=>e({handleOpenApp:e=>{v({action:"click",item:"download-button",within:o}),(0,c.NC)("press_open_app",!0),x({component:t||13106,element:10308,event_type:102,view_type:w||202,view_parameter:y,aux_data:{app_upsell_type:o}}),x({component:t||13106,element:10308,event_type:9977,view_type:w||202,view_parameter:y,aux_data:{app_upsell_type:o}}),b(),n&&(x({component:t||13106,element:10308,event_type:1701,view_type:w||202,view_parameter:y,aux_data:{app_upsell_type:o}}),n(e?.deepLinkUri??(0,u.Z)(f,"android"===k),o))}})})}},508632:function(e,t,o){o.d(t,{Z:()=>a});var n=o(38787),i=o(941404);async function a(e){let t=await (0,n.Kw)(),o=t?{user_ids:Object.keys(t)}:{};(0,i.tj)(`mweb_multiple_accounts_${e}`,o)}},258397:function(e,t,o){o.d(t,{kB:()=>d,eN:()=>c,_:()=>u});var n=o(694955),i=o(378888),a=o(909816),l=o(512599);let s=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var r=o(603316);let c=e=>e&&(0,i.Qg)(e)&&n.lfe!==e?(0,i.Qc)(e).relative:"/",d=(e,t)=>{let o=(0,i.Jx)(e);return((e,t)=>{let o=new URL(e,t);return s.some(e=>!!(0,l.LX)({path:e,end:!0},o.pathname))})(o,t)||(0,a.Z)(o)===i.vx.TRUSTED_DIFFERENT_ORIGIN},u=({forceFullPageNavigation:e,navigate:t,next:o,noLocationReplace:n,origin:a})=>{let l=(0,i.Jx)(o);d(o,a)||!t||e?(e&&(0,r.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(l)):n?t(c(l)):t(c(l),{replace:!0})}},316133:function(e,t,o){o.d(t,{Z:()=>n});function n(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},879016:function(e,t,o){o.d(t,{Z:()=>d});var n=o(281098),i=o(667294),a=o(20256),l=o(982166),s=o(19585),r=o(941404),c=o(785893);function d({onDismiss:e}){(0,i.useEffect)(()=>{(0,n.Z)("LoginRateLimitedModal","/app/www/login/duplo/LoginRateLimitedModal.tsx")},[]);let t=(0,s.ZP)();(0,i.useEffect)(()=>{(0,r.My)("unauth_mweb.login_rate_limited.view")},[]);let o=t._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times');return(0,c.jsxs)(l.ZP,{accessibilityModalLabel:o,heading:(0,c.jsxs)(a.xu,{"data-test-id":"login-rate-limited-header",children:[(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,c.jsx)(a.JO,{accessibilityLabel:t._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:40})}),(0,c.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"600",children:o})]}),isOpen:!0,onDismiss:e,children:[(0,c.jsx)(a.xu,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,c.jsx)(a.xv,{align:"center",children:t._('You have reached the maximum number of login attempts. Try again in 30 minutes.', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})}),(0,c.jsx)(a.xu,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,c.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:e,text:t._('Okay', 'LoginRateLimitedModal.Modal.OkButton', 'Okay button used to close modal')})})]})}},418631:function(e,t,o){o.d(t,{Z:()=>w});var n=o(281098),i=o(667294),a=o(20256),l=o(438534),s=o(324845),r=o(240402),c=o(274320),d=o(15667),u=o(941404),_=o(572227),p=o(673877),g=o(19585),h=o(903760),m=o(779724),f=o(785893);function b(){(0,i.useEffect)(()=>{(0,n.Z)("MobileGoogleConnectButtonWithDisabledSDK","/app/www/login/duplo/MobileGoogleConnectButtonWithDisabledSDK.tsx")},[]);let e=(0,g.ZP)(),[t,o]=(0,i.useState)();return(0,h.q)()?null:(0,f.jsxs)(a.xu,{position:"relative",children:[(0,f.jsx)(a.iP,{onTap:()=>o(!0),children:(0,f.jsxs)(a.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,f.jsx)(a.xu,{height:24,marginTop:1,width:24,children:(0,f.jsx)(p.Z,{size:20})}),(0,f.jsx)(a.xu,{marginStart:2,children:(0,f.jsx)(a.xv,{weight:"bold",children:e._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),t&&(0,f.jsx)(m.Z,{onDismiss:()=>o(!1),type:"google"})]})}function x({onGoogleConnectSuccess:e,onTouch:t}){let{locale:o}=(0,d.B)(),n=(0,i.useRef)(null),c=(0,r.l)(),p=(0,i.useRef)(e),g=(0,_.Z)();return(0,i.useEffect)(()=>{p.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,u.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,u.NC)("press_google_connect_button");let o=(0,l.Z)(e);p.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:o.given_name,last_name:o.family_name,image_url:o.picture})};return(async()=>{await c?.ensureInit("button",e),(0,s.ru)({buttonRef:n,isDesktop:!1,locale:o,onTouch:t})})(),()=>{c?.removeButtonCallback(e)}},[c,o]),(0,f.jsx)(a.xu,{position:"relative",children:(0,f.jsx)(a.iP,{onTap:()=>{g({action:"click",item:"google-connect-button"}),(0,u.EX)({event:"start",provider:"google"})},children:(0,f.jsx)(a.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,f.jsx)(a.xu,{ref:n,width:"100%"})})})})}function w({onGoogleConnectSuccess:e,onTouch:t}){(0,i.useEffect)(()=>{(0,n.Z)("MobileGoogleConnectButton","/app/www/login/duplo/MobileGoogleConnectButton.tsx")},[]);let{checkExperiment:o}=(0,c.r)(),{anyEnabled:a}=o("mweb_google_disabled");return a?(0,f.jsx)(b,{}):(0,f.jsx)(x,{onGoogleConnectSuccess:e,onTouch:t})}},796437:function(e,t,o){o.d(t,{Z:()=>h});var n=o(667294),i=o(20256),a=o(450808),l=o(369416);let s={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},r="DelightfulBubbles__",c=[`${r}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${r}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${r}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(()=>{let e=Object.keys(s);return e.map(t=>{let o=((e,t)=>{let o=e.length,n=e.indexOf(t)+1>=o?0:e.indexOf(t)+1;return e[n]})(e,t);return`${r}colorChange_${t} {
      0% {
        background-color: ${s[t]};
      }
      50% {
        background-color: ${s[o]};
      }
    }
    `})})()],d=(0,a.Ll)(c);var u=o(785893);function _(e,t,o){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let p=e=>{let{delay:t,diameter:o,height:n,initialColor:a,width:l,xOffset:c,yOffset:d}=e,_=Math.floor(o/2),p={bubblePositionStyles:{position:"absolute",marginLeft:`${l/2-_}px`,marginTop:`${n/2-_}px`,left:`${c}px`,top:`${d}px`},bubbleSwirlStyles:{animation:`${r}swirl 6s ease-in-out ${t}s infinite forwards`,WebkitAnimation:`${r}swirl 6s ease-in-out ${t}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${r}growShrink 6s ease-in-out ${t}s infinite alternate`,WebkitAnimation:`${r}growShrink 6s ease-in-out ${t}s infinite alternate`},bubbleShapeStyles:{height:`${o}px`,width:`${o}px`,borderRadius:"50%",backgroundColor:s[a],opacity:0,animation:`${r}colorChange_${a} 12s steps(1, start) ${t}s infinite forwards,
      ${r}fadeIn 3s linear ${t}s 1 forwards`,WebkitAnimation:`${r}colorChange_${a} 12s steps(1, start) ${t}s infinite forwards,
      ${r}fadeIn 3s linear ${t}s 1 forwards`}};return(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubblePositionStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubbleSwirlStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubbleGrowShrinkStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubbleShapeStyles}})})})})};class g extends n.Component{constructor(...e){super(...e),_(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:o,delayOffset:n,numBubbles:i,xRadiusAdjustment:l,yRadiusAdjustment:r}=this.props,c=e+2*r,d=t+2*l,_=[],g=Object.keys(s);for(let l=0;l<i;l+=1){let i=16+(0,a.XF)(-4,4),s=g[l%g.length],{x:r,y:h}=(0,a.CC)(c,d);_.push((0,u.jsx)(p,{delay:l*o+n,diameter:i,height:e,initialColor:s,width:t,xOffset:r,yOffset:h},l))}return _}render(){let{isDesktop:e}=this.props,{height:t,width:o}=this.getSize();return(0,u.jsxs)(i.xu,{height:t,position:"relative",width:o,children:[(0,u.jsx)(l.Z,{unsafeCSS:d}),(0,u.jsxs)(i.xu,{ref:e=>{this.containerElement=e},position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,o||0),(0,u.jsx)(i.xu,{position:"relative",children:this.props.children})]})]})}}_(g,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let h=g},948128:function(e,t,o){o.d(t,{Z:()=>g});var n=o(281098),i=o(667294),a=o(20256),l=o(47244),s=o(140725),r=o(19585),c=o(15667),d=o(984126),u=o(796437),_=o(487937),p=o(785893);function g({isReducedHeader:e,progressBarAnimationDuration:t,showConsistentSteps:o}){(0,i.useEffect)(()=>{(0,n.Z)("WelcomeScreen","/app/www/nux/WelcomeScreen.tsx")},[]);let g=(0,r.ZP)(),{country:h}=(0,c.B)(),m=(0,_.Z)(h);return(0,p.jsx)(i.Fragment,{children:m?(0,p.jsx)(s.Z,{log:{view_type:10,view_parameter:259},children:(0,p.jsxs)(a.xu,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,p.jsx)(l.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,p.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,p.jsxs)(a.xu,{"data-test-id":"account-creation-heading",margin:10*!o,marginStart:4*!!o,marginTop:16*!!o,children:[(0,p.jsx)(a.X6,{overflow:"normal",size:e||o?"600":"700",children:g._('Your account is being created!', 'account created heading', 'account created heading')}),(0,p.jsx)(a.xu,{marginTop:+!!o,children:(0,p.jsx)(a.xv,{overflow:"normal",children:g._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})})]}),(0,p.jsx)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,p.jsx)(u.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,p.jsx)(a.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,p.jsx)(a.JO,{accessibilityLabel:g._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,p.jsx)(d.Z,{})})}},487937:function(e,t,o){o.d(t,{Z:()=>i});var n=o(500908);let i=e=>new Set([...n.EU,...n.rT,...n.IO]).has(e)},743865:function(e,t,o){o.d(t,{f:()=>L,l:()=>M});var n=o(667294),i=o(581722),a=o(255581),l=o(575108),s=o(111330),r=o(521009),c=o(464332),d=o(930293),u=o(9139),_=o(855872),p=o(801406),g=o(981636),h=o(482698),m=o(829121),f=o(274320),b=o(154796),x=o(450978),w=o(15667),y=o(843466),v=o(753143),k=o(941404),j=o(79077),C=o(428267),P=o(508632),A=o(258397),Z=o(547362),E=o(902391),S=o(831373),z=o(112114),T=o(603316);let I=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),L=()=>{let e=(0,r.Z)(),t=(0,f.r)(),o=(0,i.I0)(),{country:L,countryFromHostName:M,countryFromIp:B,regionFromIp:R,userAgent:{isTablet:O,isMobile:F}}=(0,w.B)(),D=(0,b.Z)(),$=(0,j.Z)();return(0,n.useCallback)(async(n,i,r="/",f={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},b)=>{D();let w=!O&&!F,{isAutologin:j,isSwitchAccount:U,noLocationReplace:G,recaptchaV3Token:H,noImmediateRedirect:N,useAlternativeResourceCall:W,trigger:X,accountUnlinked:K,fingerprintData:Y}=f;(0,v.M0)().setItem(s.V6,(0,m.nY)(n));let J=t=>{e({...b,event_type:t,aux_data:{...b.aux_data,upsell_reason:b.aux_data?.upsell_reason||(j?"autologin":(0,v.M0)().getItem(s.bg)),upsell_view_count:(0,v.M0)().getItem(s.w0)??0}}),7536===t&&(0,v.M0)().setItem(s.w0,0)},q={get_user:!0,...n,app_type_from_client:w?5:6,recaptchaV3Token:H,fingerprintData:Y,autologin:j},V=(0,S.t_)();V&&(q={...q,visited_pages_before_login:V});let Q=(0,Z.O)();if(Q&&(q={...q,referrer:Q}),await (0,p.Lq)({fingerprintData:Y,source:_.E.LOGIN,logContextEvent:e}))return Promise.reject({isArkoseChallengeRequired:!0});q=(0,p.NW)(q);let ee=l.Z.create("UserSessionResource",q).callCreate();if(W&&n.username_or_email&&n.password){let e=new FormData;e.append("username",n.username_or_email),e.append("password",n.password),H&&e.append("recaptchaV3Token",H),Y?.current&&(Y.current.sardineSessionKey&&e.append("sardineSessionKey",Y.current.sardineSessionKey),Y.current.arkoseSessionToken&&e.append("arkoseSessionToken",Y.current.arkoseSessionToken)),ee=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,d._V)()||"","X-Requested-With":"XMLHttpRequest","X-Pinterest-PWS-Handler":(0,z.H)()||""}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>((0,k.dy)({event:"login_api_call_failure",provider:"email"}),Promise.reject(e)))}try{j?(0,k.dy)({event:"login_api_call_start",provider:n.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_start",provider:(0,m.nY)(n)}),J(7534),$({action:j?"autologin":"login",event:"attempt",type:(0,m.lp)(n),trigger:X});let e=await ee;j?(0,k.dy)({event:"login_api_call_success",provider:n.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_success",provider:(0,m.nY)(n)}),o(I(e.resource_response.data.user));let l=e.client_context,d=e.resource_response.data.user.gatekeeper_experiments;if(d){let{active:e,triggerable:o}=d;e&&o||(0,T.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!o)}}),t.updateExperiments(e,o)}else(0,T.nP)("webapp.authentication.updateExperimentsFailed");l&&l.placed_experiences&&o((0,u.OD)(l.placed_experiences)),(0,P.Z)("authentication.login_success"),m.ZP.storeLoginCredentialsToBrowser(n),J(7536),$({action:j?"autologin":"login",event:"success",type:(0,m.lp)(n),trigger:X}),(0,g.Z)(),c.zN(a.e7.name),c.zN(a.x3.name),(0,v.M0)().setItem(s.xs,1),"/"!==r&&(0,E.E)(!0),U?(0,y.Z)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(K?`?message=${h.aU}`:"");window.location.href=t}):j&&!w||N||(!n.google_open_id_token&&w&&t.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,C.I9)(),(0,A._)({forceFullPageNavigation:w,navigate:i,next:r,noLocationReplace:G,origin:window.location.toString()})),"facebook"===(0,m.nY)(n)&&!w&&t.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,C.I9)(),(0,x.ko)({country:L,countryFromHostName:M,countryFromIp:B,regionFromIp:R,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(j?(0,k.dy)({event:"login_api_call_failure",provider:n.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_failure",provider:(0,m.nY)(n)}),1201!==e.api_error_code||j||w)throw J(7535),$({action:j?"autologin":"login",event:"fail",type:(0,m.lp)(n),trigger:X}),U&&(0,P.Z)("authentication.login_error"),e;i&&i("/login/mfa/",{state:{creds:n,next:r,phoneNumber:e?.data?.phone_number_end}})}},[o,L,M,B,D,t,F,O,e,R,$])},M=()=>{let e=(0,f.r)(),t=(0,i.I0)(),o=(0,b.Z)();return({client_context:n,resource_response:i})=>{let{data:a}=i;a&&(o(),t(I(a.user)));let l=a.user.gatekeeper_experiments;if(l){let{active:t,triggerable:o}=l;t&&o||(0,T.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!o)}}),e.updateExperiments(t,o)}else(0,T.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");n&&t((0,u.OD)(n.placed_experiences))}}},386656:function(e,t,o){o.d(t,{m:()=>T});var n=o(581722),i=o(255581),a=o(575108),l=o(111330),s=o(296086),r=o(521009),c=o(464332),d=o(657043),u=o(9139),_=o(855872),p=o(801406),g=o(981636),h=o(638957),m=o(2420),f=o(947667),b=o(274320),x=o(154796),w=o(450978),y=o(15667),v=o(843466),k=o(753143),j=o(941404),C=o(79077),P=o(707353),A=o(508632),Z=o(547362),E=o(487937),S=o(831373),z=o(603316);let T=()=>{let e=(0,b.r)(),t=(0,n.I0)(),{country:o,countryFromHostName:T,countryFromIp:I,regionFromIp:L,isAuthenticated:M}=(0,y.B)(),B=(0,x.Z)(),R=(0,r.Z)(),O=(0,C.Z)(),{isRequirementEnabled:F}=(0,P.yp)();return(n,{signupAttemptContextEvent:r})=>{let b=(0,f.yV)(n),x=(0,k.M0)(),y=e=>{R({...r,event_type:e,aux_data:{...r.aux_data,upsell_reason:r.aux_data?.upsell_reason||x.getItem(l.bg)||null,upsell_view_count:x.getItem(l.w0)||0}}),7487===e&&x.setItem(l.w0,0)};y(7537),O({action:"signup",event:"attempt",type:b}),B();let C=0,P=(0,E.Z)(o),D=new Promise(e=>{P?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((l,r)=>{let x=async()=>{let k=(0,S.t_)(),P=(0,Z.O)(),E={...n,user_behavior_data:JSON.stringify({}),visited_pages:k},B=(0,h.Z)({isComplianceFeatureRequired:F,viewType:10});return(B.length>0&&(E={...E,privacy_disclaimer_acknowledge:B}),P&&(E={...E,referrer:P}),(0,z.nP)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,f.Eh)(E,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,f.Eh)(E,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,f.Eh)(E,"DEPRECATED_CHECK_TRUTHY")}}),"email"===b&&!("business_name"in E&&E.business_name)&&await (0,p.Lq)({fingerprintData:E.fingerprintData,source:_.E.SIGNUP,logContextEvent:R}))?r({isArkoseChallengeRequired:!0}):(E=(0,p.NW)(E),a.Z.create("UserRegisterResource",{...E,get_user:!0}).callCreate().then(i=>D.then(()=>{let a=i.client_context;t({type:"REGISTER_USER",payload:{user:i.resource_response.data.user}});let r=i.resource_response.data.user.gatekeeper_experiments;if(r){let{active:t,triggerable:o}=r;t&&o||(0,z.nP)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!o)}}),e.updateExperiments(t,o)}else(0,z.nP)("webapp.registration.updateExperimentsFailed");a&&a.placed_experiences&&t((0,u.OD)(a.placed_experiences)),M&&(0,A.Z)("registration.signup_success");let{email:c,username:d,password:_}=n,p=c||d||null,h=_||null,{credentials:m}=navigator;if(m&&p&&h)try{let e=new window.PasswordCredential({id:p,password:h});(0,j.My)("unauth_mweb.navigatorCredentials.store.attempt"),m.store(e).then(()=>{(0,j.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,j.My)("unauth_mweb.navigatorCredentials.store.error")}y(7487),O({action:"signup",event:"success",type:b}),(0,s.Z)(),(0,g.Z)(!0),M&&(0,v.Z)(),(0,w.ko)({country:o,countryFromHostName:T,countryFromIp:I,regionFromIp:L,deviceType:"Mobile",eventCategory:"NewUsers"}),l()})).catch(e=>{let t=(0,d.Z)(e,"api_error_code");t===m.tz&&((0,j.My)("multi_step_set_age_restrict_cookie"),c.t8(i.It,"1",(0,c.kZ)(i.It))),C<3&&[m.dO,m.cZ].includes(t??0)?(C+=1,x()):(y(7488),O({action:"signup",event:"fail",type:b}),M&&(0,A.Z)("registration.signup_error"),r(e))}))};x()})}}},779724:function(e,t,o){o.d(t,{Z:()=>c});var n=o(281098),i=o(667294),a=o(20256),l=o(982166),s=o(19585),r=o(785893);function c({type:e,onDismiss:t}){(0,i.useEffect)(()=>{(0,n.Z)("SocialAuthDisabledModal","/app/www/settings/duplo/SocialAuthDisabledModal.tsx")},[]);let o=(0,s.ZP)(),c="facebook"===e?o._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):o._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),d="facebook"===e?o._(`Looks like Facebook isn't available right now.

Give another option a try or refresh the page and try again later.`, 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):o._(`Looks like Google isn't available right now.

Give another option a try or refresh the page and try again later.`, 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,r.jsx)(l.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,r.jsxs)(a.xu,{padding:5,children:[(0,r.jsx)(a.xu,{marginBottom:3,children:(0,r.jsx)(a.X6,{accessibilityLevel:1,size:"600",children:c})}),(0,r.jsx)(a.xu,{marginBottom:3,children:(0,r.jsx)(a.xv,{children:d})}),(0,r.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,r.jsx)(a.xu,{paddingY:1,children:(0,r.jsx)(a.zx,{accessibilityLabel:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),color:"red",onClick:t,size:"lg",text:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})})]})})}},524393:function(e,t,o){o.d(t,{Z:()=>q});var n=o(281098),i=o(667294),a=o(581722),l=o(825332),s=o(20256),r=o(121836),c=o(51581),d=o(521009),u=o(17619),_=o(657043),p=o(475498),g=o(821342),h=o(19585),m=o(2420),f=o(425102),b=o(947667),x=o(16503),w=o(675973),y=o(15667),v=o(238589),k=o(941404),j=o(572227),C=o(349188),P=o(87853),A=o(984126),Z=o(111330),E=o(785873),S=o(696968),z=o(753143),T=o(316133),I=o(743865),L=o(785893);let M="id_token=";function B(){(0,i.useEffect)(()=>{(0,n.Z)("AppleConnectButton","/app/www/login/duplo/AppleConnectButton.tsx")},[]);let e=(0,h.ZP)(),t=(0,l.TH)(),o=(0,I.f)(),a=(0,l.s0)(),{showToast:r}=(0,P.dI)(),[c,d]=(0,i.useState)(!1),u=(0,j.Z)(),_=t.hash.indexOf(M),g=_>=0?t.hash.substring(_+M.length):null,m=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let n=async n=>{(0,k.My)("in_app_oauth.login.siwa.returned_with_token"),d(!0),o({apple_token:n},a,t.pathname,{noImmediateRedirect:!0},{event_type:7534,view_type:10}).then(()=>{d(!1),(0,k.My)("in_app_oauth.login.siwa.login_success");let e=(0,z.M0)().getItem(Z.TB);(0,z.M0)().removeItem(Z.TB),(0,E.Z)(e||"/")}).catch(()=>{d(!1),(0,k.My)("in_app_oauth.login.siwa.login_failure"),r(({hideToast:t})=>(0,L.jsx)(p.Z,{onHide:t,text:e._('Oops! You do not have an account connected with Apple. Please try another method.', 'mweb.unauth.oauth_apple_login.login_failure_toast', 'Toast to alert user they failed to login with Apple'),type:"error"}))})};m.current!==g&&g&&n(g),m.current=g},[a,e,g,t,o,r]),c?(0,L.jsx)(s.xH,{accessibilityLabel:e._('Loading...', 'Loading', 'Loading'),show:!0}):(0,L.jsx)(s.iP,{onTap:()=>{u({action:"click",item:"apple-connect-button"});let e=t.state?.next||(0,T.Z)(t),o=e?decodeURIComponent(e):null;(0,z.M0)().setItem(Z.TB,o),(0,E.Z)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,L.jsxs)(s.xu,{alignItems:"center",color:"dark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,L.jsx)(s.xu,{marginStart:-3,marginTop:-2,children:S.Z}),(0,L.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",children:(0,L.jsx)(s.xv,{color:"light",weight:"bold",children:e._('Continue with Apple', 'mweb.unauth.oauth_apple_login.login_button', 'Text on button allowing users to login with their Apple account')})})]})})}var R=o(467221),O=o(779724);let F="rgb(0, 116, 232)";function D(e){(0,i.useEffect)(()=>{(0,n.Z)("FacebookConnectButton","/app/www/login/duplo/FacebookConnectButton.tsx")},[]);let t=(0,i.useRef)(null),o=(0,h.ZP)(),{locale:a}=(0,y.B)(),{checkExperiment:l}=(0,w.Z)(),{anyEnabled:r}=l("mweb_facebook_disabled"),c=l("mweb_unauth_turn_on_personalized_fb_button").anyEnabled?"true":void 0,[d,u]=(0,i.useState)(!1),[_,p]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r||(t.current&&(t.current.style.backgroundColor=F),(async()=>{await (0,R.we)(a),u(!0)})(),(0,k.My)("pcons.facebook_connect_button_renderd"))},[a,r]),(0,L.jsxs)(s.xu,{"data-test-id":"FacebookConnectContainer",position:"relative",width:"100%",children:[(0,L.jsx)(()=>(0,L.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,rounding:5,top:!0,children:(0,L.jsx)("div",{className:"fb-login-button","data-auth-type":e.isRerequest?"rerequest":void 0,"data-auto-logout-link":"false","data-button-type":"continue_with","data-layout":"default","data-max-rows":"1","data-scope":(0,R._V)().join(","),"data-show-faces":"false","data-size":"large","data-use-continue-as":c,"data-width":"100%"})}),{}),(0,L.jsx)(s.iP,{"data-test-id":"FacebookConnectButton",fullWidth:!0,onTap:()=>void((0,k.EX)({event:"start",provider:"facebook"}),e.onTouch(),r?p(!0):d&&(async()=>{try{let{creds:t,signupOptions:o}=await (0,R.JF)();e.onConnectSuccess(t,o)}catch(t){e.onConnectError()}})()),children:(0,L.jsx)(s.xu,{ref:t,height:40,paddingX:3,rounding:1,width:"100%",children:(0,L.jsxs)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,L.jsx)(()=>{let e=(0,i.useRef)(null),t="facebook";return(0,i.useEffect)(()=>{if(e.current){let o=e.current.children||[],n=Array.prototype.find.call(o,e=>e.ariaLabel===t);n&&(n.style.color=F)}}),(0,L.jsx)(s.xu,{ref:e,color:"light",dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px"}},marginEnd:1,rounding:"circle",children:(0,L.jsx)(s.JO,{accessibilityLabel:o._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),icon:t,size:19})})},{}),(0,L.jsx)(s.xv,{color:"light",size:"300",weight:"bold",children:o._('Continue with Facebook', 'Login page button', 'Login page button')})]})})}),_&&(0,L.jsx)(O.Z,{onDismiss:()=>p(!1),type:"facebook"})]})}var $=o(177119);function U(e){(0,i.useEffect)(()=>{(0,n.Z)("LineConnectButton","/app/www/login/duplo/LineConnectButton.tsx")},[]);let t=(0,h.ZP)(),{locale:o}=(0,y.B)();return(0,L.jsx)(s.iP,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,$.Z)(o,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,L.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,L.jsxs)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,L.jsx)(s.xu,{height:32,width:32,children:(0,L.jsx)(s.Ee,{alt:t._('line', 'accessible label for line icon', 'accessible label for line icon'),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-a34b3f23.png"})}),(0,L.jsx)(s.xv,{color:"light",size:"300",weight:"bold",children:t._('Continue with LINE', 'Login page button', 'Login page button')})]})})})}var G=o(879016),H=o(418631),N=o(948128),W=o(386656),X=o(258644),K=o(591714),Y=o(650422),J=o(81580);function q({apple:e,facebook:t,fbConnectHandler:o,footer:Z,from:E,google:S,isBusiness:z,isRerequest:T,line:M,next:R="/",noImmediateRedirect:O,disableFBSignup:F,onFacebookTouch:$,onLoginTouch:q,onSignupTouch:V,showAppInstallButton:Q,showEmailButton:ee,showTextDivider:et,viewParameter:eo,app_upsell_type:en,attributionLabel:ei,disableGoogleSignup:ea,redirectEmailButtonTouchToLogin:el,isNavigationUpsellExperiment:es}){(0,i.useEffect)(()=>{(0,n.Z)("LoginButtons","/app/www/signup/LoginButtons.tsx")},[]);let er=(0,l.s0)(),ec=(0,l.TH)(),{country:ed}=(0,y.B)(),eu=(0,h.ZP)(),{showToast:e_}=(0,P.dI)(),ep=(0,d.Z)(),eg=(0,j.Z)(),eh=(0,a.I0)(),em=(0,I.f)(),ef=(0,J.U)(),{flush:eb}=(0,w.Z)(),ex=(0,W.m)(),ew=(0,c.Z)(),{isAuth:ey,isLimitedLogin:ev}=(0,g.Z)(),[ek,ej]=(0,i.useState)(null),[eC,eP]=(0,i.useState)(!1),[eA,eZ]=(0,i.useState)("default"),{trackConversionUpsell:eE}=(0,C.Z)(),eS="facebook"===eA&&5e3||"google"===eA&&4e3||void 0,ez=v.ZP.getItem(r.m5),eT=el&&(ei?.includes("navigation")||ei?.includes("save")||"floating-conversion-upsell"===ei);(0,i.useEffect)(()=>{ef&&((Z||el)&&ef.preload?.((0,Y.ke)("login.js")),ee&&ef.preload?.((0,Y.ke)("signup.js")))},[]);let eI=ey?{login_state:ev?f.Z.LIMITED:f.Z.DEFAULT}:Object.freeze({}),eL=e=>{ep({view_type:10,view_parameter:eo,element:e,event_type:102,aux_data:eI})},eM=e=>{eE({viewType:10,viewParameter:eo,eventType:14689,element:e})},eB=(e,t)=>{let o,n;switch(t){case"facebook":o=3205,n=x.Z.FACEBOOK;break;case"google":o=3204,n=x.Z.GPLUS;break;case"line":o=3556,n=x.Z.LINE}return{event_type:e,view_type:10,view_parameter:o,element:n===x.Z.GPLUS?12981:void 0,aux_data:{...eI,signup_login_method:n,upsell_reason:ei}}},eR=e=>(t,n)=>{let i="google"===e?"gsi_btn":"other",a=ec.state?.switch_account==="true"?{isSwitchAccount:!0,trigger:i}:{noImmediateRedirect:O,trigger:i};"facebook"===e&&(o?.("success"),(0,k.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,k.NC)(e+"_login_success"),em(t,er,R,a,eB(7534,e)).catch(t=>{((e,t,o,n)=>{ej(null);let i=()=>e_(({hideToast:e})=>(0,L.jsx)(p.Z,{onHide:e,text:(0,_.Z)(t,"api_error_code")&&(0,_.Z)(t,"message")||eu._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.')}));if(t){if((0,k.My)(`unauth_mweb.login_error.api_error_code.${String((0,_.Z)(t,"api_error_code"))}`),[m.xN,m.lg,m.Pv].includes((0,_.Z)(t,"api_error_code")??-1)){if("facebook"===o.type)return F?.();if(ea&&"google"===o.type){(0,k.My)("unauth_mweb.account_recovery.google_account_already_not_linked"),e_(({hideToast:e})=>(0,L.jsx)(p.Z,{onHide:e,text:eu._('This Google account is not linked to Pinterest. Try another one', 'account_recovery.error.google_account_not_linked', 'Error toast when user tries to login with a Google account that is not linked to Pinterest'),type:"error"}));return}(0,k.Rp)({event:"start",provider:n}),(()=>{(0,k.My)("unauth_mweb.facebook_signup_attempt"),o.gender||(0,k.My)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=o;if(void 0===e||!(0,u.Z)(e)){eb(),er("/signup/thirdpartyage/",{state:{signupOptions:"facebook"===o.type?{...o,email_source_site:b.E_.FACEBOOK}:o,progressBarAnimationDuration:eS,attributionLabel:ei}});return}ej("signup"),eZ(n);let t="facebook"===o.type?{...o,email_source_site:b.E_.FACEBOOK,birthday_source_site:b.E_.FACEBOOK,birthday:e}:{...o,birthday:e};(0,k.Rp)({event:"signup_api_call_start",provider:n}),ex(t,{signupAttemptContextEvent:eB(7537,n)}).then(()=>{(0,k.NC)("signup_via_login_buttons"),(0,k.Rp)({event:"signup_api_call_success",provider:n}),["facebook","google"].includes(n)&&ew(R||"/"),ej(null)},e=>{(0,k.Rp)({event:"signup_api_call_failure",provider:n});let t=(0,_.Z)(e,"api_error_code");"line"===o.type&&(t===m.iZ?er("/signup/line-email-collect/",{state:{signupOptions:o,attributionLabel:ei}}):t===m.NF&&er("/signup/thirdpartyage/",{state:{signupOptions:o,attributionLabel:ei}})),e_(({hideToast:o})=>(0,L.jsx)(p.Z,{onHide:o,text:t&&(0,_.Z)(e,"message")||eu._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on')})),ej(null)})})()}else m.ik.includes((0,_.Z)(t,"api_error_code")??0)&&eP(!0);i()}else(0,k.My)("unauth_mweb.login.unexpected_error"),i()})(0,t,n,e)}),ej("login"),eZ(e)},eO=({event:e})=>{e.stopPropagation(),e.preventDefault(),q?.(),E&&eh((0,X.rm)(E)),eg({action:"click",item:"login-button"}),eL(30),(0,k.My)(`unauth_mweb.login_buttons.footer.${Z?.type||"button"}`),(0,k.NC)("press_login"),eE({eventType:14689,element:30,viewType:10,viewParameter:eo}),eE({eventType:14688,component:14213,upsellReason:ei,incrementUpsellReasonCounter:!1}),er(`${z?"/business/login/":"/login/"}${ec.search}`,{state:{next:R,attributionLabel:ei}})};return(0,L.jsxs)(s.xu,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:z?-5:0,maxWidth:ea?502:400,children:[eC&&(0,L.jsx)(G.Z,{onDismiss:()=>eP(!1)}),et&&(0,L.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,L.jsx)(s.xv,{align:"center",size:"100",weight:"bold",children:eu._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,L.jsx)(s.xu,{marginBottom:6,children:(0,L.jsxs)(i.Fragment,{children:[Q&&(0,L.jsx)(K.Z,{app_upsell_type:en}),ee&&!ez&&(0,L.jsx)(s.xu,{"data-test-id":"continue-email-button",marginBottom:z?-2:2,children:(0,L.jsx)(s.zx,{color:Q?"gray":"red",fullWidth:!0,onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,k.NC)("press_email_signup"),(0,k.Rp)({event:"start",provider:"email"}),eg({action:"click",item:"email-signup-button"}),V?.(),E&&eh((0,X.rm)(E)),eM(13506),eL(31),eE({eventType:14688,component:14215,upsellReason:ei,incrementUpsellReasonCounter:!1}),er(`${z?"/business/signup/step1/":el?"/login/":"/signup/step1/"}${ec.search}`,{state:{next:R,attributionLabel:ei}})},text:z?eu._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'):eu._('Continue with email', 'Sign up button', 'Sign up button')})}),t&&!ez&&(0,L.jsx)(s.xu,{"data-test-id":"facebook-connect-button",marginBottom:2,children:(0,L.jsx)(D,{isRerequest:T??!1,onConnectError:()=>{o?.("error"),(0,k.EX)({event:"receive_no_credential_response_from_provider",provider:"facebook"}),e_(({hideToast:e})=>(0,L.jsx)(p.Z,{onHide:e,text:eu._('Unable to connect to Facebook', 'Error logging on with Facebook', 'Error logging on with Facebook')}))},onConnectSuccess:eR("facebook"),onTouch:()=>{$?.(),eM(13505),eg({action:"click",item:"facebook-connect-button"}),eL(68)}})}),S&&!ez&&(0,L.jsx)(s.xu,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,L.jsx)(H.Z,{onGoogleConnectSuccess:eR("google"),onTouch:()=>{eM(13504),ea&&ep({event_type:15392,component:15214,element:13504})}})}),M&&"JP"===ed&&!ez&&(0,L.jsx)(s.xu,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,L.jsx)(U,{onConnectError:()=>e_(({hideToast:e})=>(0,L.jsx)(p.Z,{onHide:e,text:eu._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line')})),onConnectSuccess:eR("line"),onTouch:()=>{eM(13507),eL(12277),eg({action:"click",item:"line-connect-button"})}})}),e&&(0,L.jsx)(s.xu,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,L.jsx)(B,{})})]})}),Z&&!ez&&("member_link"===Z.type?!eT&&(0,L.jsx)(s.xu,{"data-test-id":"login-member",marginTop:Z.isUnauthHomepageOnMobile?10:-4,children:(0,L.jsx)(s.iP,{onTap:({event:e})=>eO({event:e}),tapStyle:"none",children:(0,L.jsx)(s.xu,{marginBottom:Z.increasedSpaceBelow?-1:-2,paddingY:4*!Z.noPadding,children:(0,L.jsx)(s.xv,{align:"center",color:Z.textColorIsLight?"light":"default",size:"200",children:es?(0,L.jsxs)(i.Fragment,{children:[(0,L.jsxs)(s.xv,{color:Z.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:[eu._('Already a member?', 'Prompt for logging in', 'Prompt for logging in')," "]}),(0,L.jsx)(s.xv,{color:Z.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"bold",children:eu._('Log in', 'login.link.text', 'Log in link text')})]}):(0,L.jsx)(s.xv,{color:Z.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"bold",children:eu._('Already a member? Log in', 'Link on mobile web sign up modal to direct unauth users to the login page', 'Link on mobile web sign up modal to direct unauth users to the login page')})})})})}):(0,L.jsx)(s.xu,{"data-test-id":"login-button",marginBottom:5,children:(0,L.jsx)(s.zx,{color:"transparent",fullWidth:!0,onClick:eO,text:eu._('Log in', 'Login page button', 'Login page button')})})),ek&&("signup"===ek?(0,L.jsx)(N.Z,{progressBarAnimationDuration:eS}):(0,L.jsx)(A.Z,{}))]})}},591714:function(e,t,o){o.d(t,{Z:()=>f});var n=o(281098),i=o(667294),a=o(825332),l=o(20256),s=o(121836),r=o(19585),c=o(579275),d=o(675973),u=o(15667),_=o(238589),p=o(572227),g=o(349188),h=o(278566),m=o(785893);function f({app_upsell_type:e}){(0,i.useEffect)(()=>{(0,n.Z)("MobileSignupModalAppInstallButton","/app/www/signup/MobileSignupModalAppInstallButton.tsx")},[]);let t=(0,r.ZP)(),o=(0,a.TH)(),{userAgent:{platform:f}}=(0,u.B)(),b=(0,p.Z)(),{trackConversionUpsell:x}=(0,g.Z)(),{checkExperiment:w}=(0,d.Z)(),y=w("mweb_feature_upsell_copy_visual_combination_v1"),{pathname:v}=o,k=_.ZP.getItem(s.m5);return(0,m.jsx)(l.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,m.jsx)(h.Z,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:n})=>(0,m.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{x({element:10308,eventType:14689}),b({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),v&&n({deepLinkUri:"/"===v?"/":(0,c.Z)(o)&&("ios"===f||"ipad"===f)?"user"+v:v.substr(1)})},size:y.anyEnabled?"lg":"md",text:k?t._('Join Pinterest', 'unauth.modal.continue_to_pinterest.button_text', 'Button text for unauthenticated Android experience'):t._('Get Pinterest app', 'unauth.modal.get_app.button_text', 'App download button text')})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/45590-86e7191d720ae1e7.mjs.map