(self.modernJsonp=self.modernJsonp||[]).push([["97740"],{701305:function(e){var t=[],r=[];e.exports=function(e,n){var o=t.length?t.pop():[],i=r.length?r.pop():[],s=function e(t,r,n,o){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r||"object"!=typeof t||"object"!=typeof r)return!1;var i=Object.prototype.toString,s=i.call(t);if(s!=i.call(r))return!1;switch(s){case"[object String]":return t==String(r);case"[object Number]":return!(isNaN(t)||isNaN(r))&&t==Number(r);case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase}for(var a=n.length;a--;)if(n[a]==t)return o[a]==r;n.push(t),o.push(r);var l=0;if("[object Array]"===s){if((l=t.length)!==r.length)return!1;for(;l--;)if(!e(t[l],r[l],n,o))return!1}else{if(t.constructor!==r.constructor)return!1;if(t.hasOwnProperty("valueOf")&&r.hasOwnProperty("valueOf"))return t.valueOf()==r.valueOf();var d=Object.keys(t);if(d.length!=Object.keys(r).length)return!1;for(var c=0;c<d.length;c++)if(!e(t[d[c]],r[d[c]],n,o))return!1}return n.pop(),o.pop(),!0}(e,n,o,i);return o.length=0,i.length=0,t.push(o),r.push(i),s}},60139:function(e){function t(e){return function(){return e}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},663620:function(e,t,r){e.exports=r(60139)},108679:function(e,t,r){var n=r(121296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?s:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=f(r);o&&o!==h&&e(t,o,n)}var s=c(r);u&&(s=s.concat(u(r)));for(var a=l(t),m=l(r),y=0;y<s.length;++y){var g=s[y];if(!i[g]&&!(n&&n[g])&&!(m&&m[g])&&!(a&&a[g])){var _=p(r,g);try{d(t,g,_)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case p:case l:return e;default:return t}}case m:case h:case o:return t}}}function g(e){return y(e)===u}t.typeOf=y,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=m,t.Memo=h,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||y(e)===c},t.isConcurrentMode=g,t.isContextConsumer=function(e){return y(e)===d},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===i},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===h},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===a},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===f}},121296:function(e,t,r){e.exports=r(396103)},441143:function(e){e.exports=function(e,t,r,n,o,i,s,a){if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,n,o,i,s,a],c=0;(l=Error(t.replace(/%s/g,function(){return d[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},892703:function(e,t,r){var n=r(150414);function o(){}e.exports=function(){function e(e,t,r,o,i,s){if(s!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},45697:function(e,t,r){e.exports=r(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case p:case y:case m:case l:return e;default:return t}}case o:return t}}}function w(e){return v(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=y,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||v(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return v(e)===d},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===i},t.isLazy=function(e){return v(e)===y},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===a},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=v},659864:function(e,t,r){e.exports=r(869921)},78273:function(e,t,r){function n(e){return"/"===e.charAt(0)}function o(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}r.d(t,{Z:()=>i});let i=function(e,t){void 0===t&&(t="");var r,i=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&n(e),l=t&&n(t),d=a||l;if(e&&n(e)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var c=s[s.length-1];r="."===c||".."===c||""===c}else r=!1;for(var u=0,p=s.length;p>=0;p--){var f=s[p];"."===f?o(s,p):".."===f?(o(s,p),u++):u&&(o(s,p),u--)}if(!d)for(;u--;)s.unshift("..");!d||""===s[0]||s[0]&&n(s[0])||s.unshift("");var h=s.join("/");return r&&"/"!==h.substr(-1)&&(h+="/"),h}},17314:function(e,t,r){r.d(t,{Z:()=>d});var n,o,i=r(813653),s=r(831423),a=0,l=0;let d=function(e,t,r){var d=t&&r||0,c=t||Array(16),u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:o;if(null==u||null==p){var f=e.random||(e.rng||i.Z)();null==u&&(u=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=(f[6]<<8|f[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,y=h-a+(m-l)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||h>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,l=m,o=p;var g=((0xfffffff&(h+=122192928e5))*1e4+m)%0x100000000;c[d++]=g>>>24&255,c[d++]=g>>>16&255,c[d++]=g>>>8&255,c[d++]=255&g;var _=h/0x100000000*1e4&0xfffffff;c[d++]=_>>>8&255,c[d++]=255&_,c[d++]=_>>>24&15|16,c[d++]=_>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=u[b];return t||(0,s.Z)(c)}},263148:function(e,t,r){r.r(t),r.d(t,{default:()=>o});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MoreIdeasPreviewStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="acfbd2e78cfd4a2a1966a92cf1a7b634";let o=n},699473:function(e,t,r){r.d(t,{Z:()=>i});var n=r(450808);let o=`pulsing {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
}`,i={css:(0,n.Ll)([o]),animation:"pulsing 2s infinite"}},730647:function(e,t,r){r.d(t,{Z:()=>s});var n=r(598579);let o=new Set([92]),i=new Set([154]);function s(e){let t=[];return e.forEach(e=>{if("story"===e.type?o.has(e.container_type)||i.has(e.container_type)||n.v8.has(e.story_type)||n.AW.has(e.story_type):1){let r=t[t.length-1];Array.isArray(r)?r.push(e):t.push([e])}else t.push(e)}),t}},761578:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294);function o(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function i(){return window.innerWidth}function s(){return window.innerHeight}function a(){return null}function l(){let e=(0,n.useSyncExternalStore)(o,s,a),t=(0,n.useSyncExternalStore)(o,i,a);return null!==e&&null!==t?{height:e,width:t}:null}},790314:function(e,t,r){r.d(t,{DW:()=>i,I:()=>o,Rn:()=>a,e3:()=>c,oo:()=>n,rk:()=>d,t7:()=>l,zI:()=>s});let n=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},o=.18,i=(e,t,r)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(r/255)**2.2,s=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16);return(299*r+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},a=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:r,minSaturationClamp:o,mixVal:i=1,minBrightnessClamp:s=0})=>{let a=n(e);null===a&&(a=[229,229,224]);let l=((e,t,r)=>{let n=Math.max(e/=255,t/=255,r/=255),o=n-Math.min(e,t,r),i=0;return 0!==o&&(i=(n===e?(t-r)/o+6*(t<r):n===t?(r-e)/o+2:(e-t)/o+4)*60)<0&&(i+=360),{h:i,s:0===n?0:o/n,b:n}})(...a),d=(e,t,r)=>Math.max(t,Math.min(e,r));l.s=d(l.s*(1+t),o,1),l.b=d(l.b*(1+r),s,1);let c=(({h:e,s:t,b:r})=>{let n=r*t,o=n*(1-Math.abs(e/60%2-1)),i=r-n,s=0,a=0,l=0;return e<60?(s=n,a=o):e<120?(s=o,a=n):e<180?(a=n,l=o):e<240?(a=o,l=n):e<300?(s=o,l=n):(s=n,l=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((l+i)*255)}})({...l}),u=e=>({r:Math.round(c.r*i+e*(1-i)),g:Math.round(c.g*i+e*(1-i)),b:Math.round(c.b*i+e*(1-i))}),p=u(0),f=u(255);return[[p.r,p.g,p.b],[f.r,f.g,f.b]]};function l(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),r="rgba"===t.slice(0,4).toLowerCase(),n=!r&&"rgb"===t.slice(0,3).toLowerCase();if(!r&&!n)return{r:0,g:0,b:0,a:0};let o=t.indexOf("("),i=t.indexOf(")",o);if(-1===o||-1===i)return{r:0,g:0,b:0,a:0};let s=t.slice(o+1,i).split(",").map(e=>e.trim());if(r&&4!==s.length||n&&3!==s.length)return{r:0,g:0,b:0,a:0};let[a,l,d,c]=s,u=Number(a),p=Number(l),f=Number(d),h=r?Number(c):1;return[u,p,f].some(e=>Number.isNaN(e))||r&&Number.isNaN(h)?{r:0,g:0,b:0,a:0}:{r:u,g:p,b:f,a:h}}function d(e,t){let r=e.a+t.a*(1-e.a);return 0===r?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/r),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/r),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/r),a:r}}let c=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},469167:function(e,t,r){r.r(t),r.d(t,{default:()=>T});var n=r(281098),o=r(667294),i=r(20256),s=r(748065),a=r(980787),l=r(722194);function d(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c={},u=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class p{constructor(){d(this,"idMap",new Map),d(this,"objMap",new WeakMap)}get(e){let t=u(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=u(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let r=u(e);r&&this.idMap.set(r,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}function f(e,t){return"number"==typeof e?e:"lg1"===t?e[t]??e.lg??1:e[t]??1}var h=r(467925),m=r(947543),y=r(699473),g=r(461951),_=r(369416),b=r(785893);let{css:x,animation:v}=y.Z,w={backgroundColor:g.zsO,animation:v,borderRadius:g.saV};function S({data:e}){(0,o.useEffect)(()=>{(0,n.Z)("SkeletonPin","/app/common/react/components/SkeletonLoadingStates/SkeletonPin.tsx")},[]);let{height:t}=e;return(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(_.Z,{unsafeCSS:x}),(0,b.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:w},"data-test-id":"skeleton-pin",children:(0,b.jsx)(i.xu,{height:t})})]})}var j=r(93966),P=r(274320),M=r(15667),C=r(647709),Z=r(603316),I=r(160374),E=r(183152);function T(e){(0,o.useEffect)(()=>{(0,n.Z)("Masonry","/app/packages/gestaltExtensions/Masonry/Masonry.tsx")},[]);let{align:t,cacheKey:r,id:d,isFetching:u,isGridCentered:y=!0,items:g,layout:x,loadItems:v,masonryRef:w,optOutFluidGridExperiment:T=!1,renderItem:O,scrollContainerRef:A,virtualize:z=!0,getColumnSpanConfig:$,_getResponsiveModuleConfigForSecondItem:D,isLoadingStateEnabled:R,initialLoadingStatePinCount:k,isLoadingAccessibilityLabel:B,isLoadedAccessibilityLabel:L}=e,F=(0,C.ZP)(),N=(0,M.B)(),{isAuthenticated:W,isRTL:H}=N,{logContextEvent:G}=(0,a.u)(),V=(0,P.r)(),K="desktop"===F,X=(0,E.Zv)(),U=(0,I.DB)(),J=((0,o.useRef)(g.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),K&&!T),{experimentalColumnWidth:q,experimentalGutter:Y}=(0,h.Z)(J),Q=e.serverRender??!!K,ee="flexible"===x||"uniformRowFlexible"===x||"desktop"!==F||J,et=(ee&&x?.startsWith("uniformRow")?"uniformRowFlexible":void 0)??(Q?"serverRenderedFlexible":"flexible"),er=e.columnWidth??q??j.yF;ee&&(er=Math.floor(er));let en=e.gutterWidth??Y??(K?j.oX:1),eo=e.minCols??j.yc,ei=((0,o.useRef)(0),er+en),es=function(e){if(null==e)return;let t=function(e){let t=c[e];return t&&t.screenWidth===window.innerWidth||(c[e]={screenWidth:window.innerWidth}),c[e]}(e);return t.measurementCache||(t.measurementCache=new p),t.measurementCache}(r),ea=(0,o.useCallback)(()=>A?.current||window,[A]),el=(0,o.useRef)(!0),{anyEnabled:ed}=V.checkExperiment("web_masonry_pin_overlap_calculation_and_logging"),{anyEnabled:ec}=V.checkExperiment("web_masonry_fluid_reflow"),{anyEnabled:eu}=V.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}),ep=y&&el.current?"centered":"",{className:ef,styles:eh}=function(e){let t=`m_${Object.keys(e).sort().reduce((t,r)=>{let n=e[r];return null==n||"object"==typeof n||"function"==typeof n?t:"boolean"==typeof n?t+(n?"t":"f"):t+n},"").replace(/\:/g,"\\:")}`,{flexible:r,gutterWidth:n,isRTL:o,itemWidth:i,maxColumns:s,minColumns:a,items:l,getColumnSpanConfig:d,_getResponsiveModuleConfigForSecondItem:c}=e,u=d?l.map((e,t)=>({index:t,columnSpanConfig:d(e)??1})).filter(e=>1!==e.columnSpanConfig):[],p=i+n,h=Array.from({length:s+1-a},(e,t)=>t+a).map(e=>{let h,m,y=e===a?0:e*p,g=e===s?null:(e+1)*p-.01;d&&c&&l.length>1&&(h=d(l[0]),m=c(l[1]));let{styles:_,numberOfVisibleItems:b}=u.reduce((o,s)=>{let{columnSpanConfig:a}=s,d=Math.min(function({columnCount:e,columnSpanConfig:t,firstItemColumnSpanConfig:r,isFlexibleWidthItem:n,secondItemResponsiveModuleConfig:o}){let i=e<=2?"sm":e<=4?"md":e<=6?"lg1":e<=8?"lg":"xl",s=f(t,i);if(n){let t=f(r,i);s="number"==typeof o?o:o?Math.max(o.min,Math.min(o.max,e-t)):1}return s}({columnCount:e,columnSpanConfig:a,isFlexibleWidthItem:!!m&&s===l[1],firstItemColumnSpanConfig:h??1,secondItemResponsiveModuleConfig:m??1}),e),c=null!=s.index&&o.numberOfVisibleItems>=d+s.index,u=r?100/e*d:i*d+n*(d-1),{numberOfVisibleItems:p}=o;return c?p-=d-1:s.index<p&&(p+=1),{styles:o.styles.concat(function({className:e,index:t,columnSpanConfig:r,visible:n,width:o,flexible:i}){let s="number"==typeof r?r:btoa(JSON.stringify(r));return i?`
      .${e} .static[data-column-span="${s}"]:nth-child(${t+1}) {
        visibility: ${n?"visible":"hidden"} !important;
        position: ${n?"inherit":"absolute"} !important;
        width: ${o}% !important;
      }`:`
      .${e} .static[data-column-span="${s}"]:nth-child(${t+1}) {
        visibility: ${n?"visible":"hidden"} !important;
        position: ${n?"inherit":"absolute"} !important;
        width: ${o}px !important;
      }`}({className:t,index:s.index,columnSpanConfig:a,visible:c,width:u,flexible:r})),numberOfVisibleItems:p}},{styles:"",numberOfVisibleItems:e}),x=r?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*p}px;
      }

      .${t} .static {
        width: ${i}px !important;
      }
    `;return{minWidth:y,maxWidth:g,styles:`
      .${t} .static:nth-child(-n+${b}) {
        position: static !important;
        visibility: visible !important;
        float: ${o?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${n/2}px;
      }

      ${x}

      ${_}
    `}}),m=h.map(({minWidth:e,maxWidth:t,styles:r})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${r}
    }
  `),y=h.map(({minWidth:e,maxWidth:t,styles:r})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${r}
    }
  `),g=`
    ${m.join("")}
    @supports not (container-type: inline-size) {
      ${y.join("")}
    }
  `;return{className:t,styles:`
    .masonryContainer:has(.${t}) {
      container-type: inline-size;
    }

    .masonryContainer > .centered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${g}
  `}}({gutterWidth:en,flexible:ee,items:g,isRTL:H,itemWidth:er,maxColumns:e.maxColumns??Math.max(g.length,j.g5),minColumns:eo,getColumnSpanConfig:$,_getResponsiveModuleConfigForSecondItem:D}),em=`${ep} ${ef}`.trim(),{anyEnabled:ey,expName:eg,group:e_,isMeasureAllEnabled:eb}=(0,m.Z)(),ex=((0,o.useRef)(void 0),(0,o.useRef)(g.length)),ev=(0,o.useRef)(0),ew=(0,o.useRef)(null);(0,o.useEffect)(()=>{ex.current=g.length,ev.current+=1},[g]),(0,o.useEffect)(()=>{if(el.current&&(el.current=!1),window.earlyGridRenderStats){let e={...(0,I.M3)({earlyHydrationConfig:U,handlerId:X,requestContext:N}),status:window.earlyGridRenderStats.status??"unknown"};(0,Z.nP)(`earlyHydrationDebug.masonry.earlyGridRender.status.${window.earlyGridRenderStats.status}`,{tags:e}),(0,Z.LY)("earlyHydrationDebug.masonry.earlyGridRender.init",window.earlyGridRenderStats.init,{tags:e}),window.earlyGridRenderStats.start&&(0,Z.LY)("earlyHydrationDebug.masonry.earlyGridRender.start",window.earlyGridRenderStats.start,{tags:e}),window.earlyGridRenderStats.end&&(0,Z.LY)("earlyHydrationDebug.masonry.earlyGridRender.end",window.earlyGridRenderStats.end,{tags:e})}},[]),(0,o.useEffect)(()=>()=>{},[]);let eS=(0,o.useCallback)(e=>{let t=e.reduce((e,t)=>e+t),r=t/e.length;(0,Z.S0)("webapp.masonry.multiColumnWhitespace.average",r,{sampleRate:1,tags:{experimentalMasonryGroup:e_||"unknown",handlerId:X,isAuthenticated:W,multiColumnItemSpan:e.length}}),(0,Z.S0)("webapp.masonry.twoColWhitespace",r,{sampleRate:1,tags:{columnWidth:er,minCols:eo}}),G({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),G({event_type:16062,component:14468,aux_data:{average_whitespace_px:r}}),G({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max(...e)}}),e.forEach(t=>{t>=50&&((0,Z.nP)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:{experimentalMasonryGroup:e_||"unknown",handlerId:X,isAuthenticated:W,multiColumnItemSpan:e.length}}),G({event_type:16261,component:14468})),t>=100&&((0,Z.nP)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:{experimentalMasonryGroup:e_||"unknown",handlerId:X,isAuthenticated:W,multiColumnItemSpan:e.length}}),G({event_type:16262,component:14468}))}),(0,Z.nP)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:{experimentalMasonryGroup:e_||"unknown",handlerId:X,isAuthenticated:W,multiColumnItemSpan:e.length}})},[er,G,eo,W,X,e_]),{_items:ej,_renderItem:eP}=function({initialLoadingStatePinCount:e=50,infiniteScrollPinCount:t=10,isFetching:r,items:n=[],renderItem:i,isLoadingStateEnabled:s}){let a=+(n.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"closeup_module"===e.type).length>0),l=s&&r,d=(0,o.useMemo)(()=>Array.from({length:n.length>a?t:e}).reduce((e,t,r)=>[...e,{height:r%2==0?356:236,key:`skeleton-pin-${r}`,isSkeleton:!0}],[]),[n.length,a,t,e]);return{_items:(0,o.useMemo)(()=>l?[...n,...d]:n,[l,n,d]),_renderItem:(0,o.useMemo)(()=>s?e=>{let{itemIdx:t,data:r}=e;return t>=n.length&&r&&"object"==typeof r&&"key"in r&&"height"in r?(0,b.jsx)(S,{data:r},r.key):i(e)}:i,[s,i,n.length])}}({isLoadingStateEnabled:R,items:g,renderItem:(0,o.useCallback)(e=>(0,b.jsx)(l.Z,{name:"MasonryItem",children:O(e)}),[O]),isFetching:u,initialLoadingStatePinCount:k}),eM=R&&u,eC=(0,o.useRef)(new Set);(0,o.useEffect)(()=>{if(!ed)return;let e=setTimeout(()=>{requestAnimationFrame(()=>{let e=Array.from(ew.current?.querySelectorAll("[data-grid-item-idx]")??[]);if(0===e.length)return;let t=e.map(e=>{let t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),r=0,n=0,o=0,i=0,s=0,a=0;for(let e=0;e<t.length;e+=1){let l=t[e]?.rect,d=t[e]?.itemIdx;for(let c=e+1;c<t.length;c+=1){let e=t[c]?.rect,u=t[c]?.itemIdx;if(l&&e&&d&&u){let t=[d,u].sort().join("|");if(!eC.current.has(t)&&l.right>=e.left&&l.left<=e.right&&l.bottom>=e.top&&l.top<=e.bottom&&l.height>0&&e.height>0){eC.current.add(t),r+=1;let d=Math.max(0,Math.min(l.right,e.right)-Math.max(l.left,e.left))*Math.max(0,Math.min(l.bottom,e.bottom)-Math.max(l.top,e.top));d>8e4?a+=1:d>4e4?s+=1:d>1e4?i+=1:d>5e3?o+=1:d>2500&&(n+=1)}}}}r>0&&(0,Z.QX)("webapp.masonry.pinOverlapHits",r,{tags:{isAuthenticated:W,isDesktop:K,handlerId:X,experimentalMasonryGroup:e_||"unknown",fluidResizeExperiment:ec?"true":"false",visualSearchSTLexperiment:eu?"true":"false"}}),n>0&&(0,Z.QX)("webapp.masonry.pinOverlap.AreaPx.over2500",n,{tags:{isAuthenticated:W,isDesktop:K,handlerId:X,experimentalMasonryGroup:e_||"unknown",fluidResizeExperiment:ec?"true":"false",visualSearchSTLexperiment:eu?"true":"false"}}),o>0&&(0,Z.QX)("webapp.masonry.pinOverlap.AreaPx.over5000",o,{tags:{isAuthenticated:W,isDesktop:K,handlerId:X,experimentalMasonryGroup:e_||"unknown",fluidResizeExperiment:ec?"true":"false",visualSearchSTLexperiment:eu?"true":"false"}}),i>0&&(0,Z.QX)("webapp.masonry.pinOverlap.AreaPx.over10000",i,{tags:{isAuthenticated:W,isDesktop:K,handlerId:X,experimentalMasonryGroup:e_||"unknown",fluidResizeExperiment:ec?"true":"false",visualSearchSTLexperiment:eu?"true":"false"}}),s>0&&(0,Z.QX)("webapp.masonry.pinOverlap.AreaPx.over40000",s,{tags:{isAuthenticated:W,isDesktop:K,handlerId:X,experimentalMasonryGroup:e_||"unknown",fluidResizeExperiment:ec?"true":"false",visualSearchSTLexperiment:eu?"true":"false"}}),a>0&&(0,Z.QX)("webapp.masonry.pinOverlap.AreaPx.over80000",a,{tags:{isAuthenticated:W,isDesktop:K,handlerId:X,experimentalMasonryGroup:e_||"unknown",fluidResizeExperiment:ec?"true":"false",visualSearchSTLexperiment:eu?"true":"false"}})})},1e3);return()=>{clearTimeout(e)}},[er,e_,ec,W,K,ed,g,X,eu]);let eZ=(0,s.Z)(),eI=(0,o.useCallback)(e=>{w&&(w.current=e)},[w]);return(0,b.jsxs)(o.Fragment,{children:[R&&!el.current&&(0,b.jsx)(i.xu,{"aria-live":"polite",display:"visuallyHidden",children:eM?B:L}),(0,b.jsx)("div",{ref:ew,"aria-busy":R?!!eM:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:d,style:J?{padding:`0 ${en/2}px`}:void 0,children:(0,b.jsxs)("div",{className:em,children:[Q&&el.current?(0,b.jsx)(_.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:eh}):null,(0,b.jsx)(i.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?ei*e.maxColumns:void 0,children:ey?(0,b.jsx)(i.GX,{ref:eZ?eI:e=>{w&&(w.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:D,_logTwoColWhitespace:eS,_measureAll:eb,align:t,columnWidth:er,getColumnSpanConfig:$,gutterWidth:en,items:ej,layout:ee?et:x??"basic",loadItems:v,measurementStore:es,minCols:eo,renderItem:eP,scrollContainer:ea,virtualBufferFactor:.3,virtualize:z}):(0,b.jsx)(i.Rk,{ref:eZ?eI:e=>{w&&(w.current=e)},_dynamicHeights:!0,_fluidResize:ec,_getResponsiveModuleConfigForSecondItem:D,_logTwoColWhitespace:eS,align:t,columnWidth:er,getColumnSpanConfig:$,gutterWidth:en,items:ej,layout:ee?et:x??"basic",loadItems:v,measurementStore:es,minCols:eo,renderItem:eP,scrollContainer:ea,virtualBufferFactor:.3,virtualize:z})})]})})]})}},115247:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294);function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class i extends n.Component{constructor(...e){super(...e),o(this,"ref",(0,n.createRef)()),o(this,"observer",null),o(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let s=i},978417:function(e,t,r){r.d(t,{AS:()=>d,Ps:()=>i,Q6:()=>f,ZP:()=>c,le:()=>h,qe:()=>u,yU:()=>p});var n=r(503246),o=r(734215);let i=(e,t)=>e.length===t.length&&e.every((e,r)=>(0,o.Z)(e,t[r])),s=(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),a=e=>e;function l(e,t=s,r=a){return function(n){let o=[];return function(...i){let s=o.find(e=>t(e.args,r(i)));if(s)return s.result;let a=n(...i);return o.push({args:r(i),result:a}),e&&o.length>e&&o.shift(),a}}}function d(e,t=s,r=a){let n=[];return{memoize:function(o){return function(...i){let s=r(i),a=n.find(e=>t(e.args,s));if(a)return a.result;let l=o(...i);return n.push({args:s,result:l}),e&&n.length>e&&n.shift(),l}},clearCache:function(){n=[]}}}let c=l(),u=l(1),p=l(void 0,s,e=>[JSON.stringify(e)]),f=l(0,i),h=l(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,n.ZP)(e,t[r])))},390957:function(e,t,r){r.d(t,{Z:()=>i});var n=r(512712),o=r(403135);function i({bubbleId:e,pinId:t,query:r,referringSource:i,storyCategory:s,storyId:a,title:l}){let d=[0,24,21,26].includes(s),c=(0,o.Z)({q:r,rs:i||void 0,b_id:e,source_id:a,top_pin_ids:t}),u=d&&l?(0,n.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},138758:function(e,t,r){r.d(t,{Z:()=>i});var n=r(97517);let o=/\{\s*(\w+)\s*\}/g;function i({args:e,format:t}){let r,i=(e||[]).reduce((e,t,r)=>({...e,[r]:t.text}),{});return r=t||"",(0,n.Z)(o,r,i)}},738140:function(e,t,r){r.d(t,{$:()=>n,a:()=>o});let{Provider:n,getMaybe:o}=(0,r(729434).Z)("timeSpentContext")},732888:function(e,t,r){r.d(t,{Z:()=>a,h:()=>s});var n=r(172045),o=r(17314);function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let s="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),a=class{constructor(e){i(this,"start",()=>(this.startTime=s(),this.startTime)),i(this,"end",()=>(this.endTime=s(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},538688:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294);let o=null,i=!1,s=0,a=()=>{o&&clearTimeout(o),i=!0,o=setTimeout(()=>{i=!1},100)},l=()=>{let[e,t]=(0,n.useState)(!1),r=(0,n.useRef)(null);(0,n.useEffect)(()=>(0===s&&window.addEventListener("scroll",a),s+=1,()=>{r.current&&clearTimeout(r.current),(s-=1)||window.removeEventListener("scroll",a)}),[]);let o=e=>{r.current&&clearTimeout(r.current),r.current=e&&i?setTimeout(()=>o(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},642483:function(e,t,r){r.d(t,{a:()=>p,B:()=>c});var n=r(667294),o=r(729434),i=r(686319);let s={boardMap:{}};function a(e,t){if(e=e||s,"BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:r,blockingActions:n}}=t,o=null,i=null,s={};return n.forEach(({section_id:e,progress:t,id:r,created_timestamp:n})=>{let a={id:r,createdAt:n,progress:t};e?"-1"===e?o=a:s[e]=a:i=a}),{...e,boardMap:{...e.boardMap,[r]:{wholeBoard:o,unorganized:i,sectionMap:s}}}}return e}var l=r(785893);let{Provider:d,getMaybe:c}=(0,o.Z)("BlockingAction");async function u(e){let t=await (0,i.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,r)=>{let n=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!n)return void r(Error("No blocking actions found in the response"));e(n)})}function p({children:e}){let[t,r]=(0,n.useReducer)(a,s),o=(0,n.useCallback)(e=>u(e).then(t=>(r({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),i=(0,n.useMemo)(()=>({blockingActions:t,fetchBlockingActions:o}),[t,o]);return(0,l.jsx)(d,{value:i,children:e})}},31290:function(e,t,r){r.d(t,{Z:()=>b});var n=r(87853),o=r(642483),i=r(281098),s=r(667294),a=r(20256),l=r(109425),d=r(19585),c=r(647709),u=r(785893);function p(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends s.Component{constructor(...e){super(...e),p(this,"state",{hiding:!1,visible:!1}),p(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,l.Vg)}),p(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),p(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:r}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(r)return n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(r)return n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(r)return n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:r}=this.props,{visible:n,hiding:o}=this.state,{firstLine:i}=this,{marginTop:s,opacity:d,position:c,pointerEvents:p,transform:f,transition:h,visibility:m}=(0,l.ZP)({deviceType:t,hiding:o,visible:n});if(!i)return null;let y="inProgress"===e?`${r.name}...`:r.name;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:f,transition:h,visibility:m,pointerEvents:p}},marginTop:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:d,position:c,children:(0,u.jsx)(a.FN,{text:`${i}: ${y}`,type:"completed"===e?"default":"progress"})})}}function h(e){(0,s.useEffect)(()=>{(0,i.Z)("BoardBlockingActionToast","/app/www/BlockingActionsContext/BoardBlockingActionToast.tsx")},[]);let t=(0,c.ZP)(),r=(0,d.ZP)();return(0,u.jsx)(f,{...e,deviceType:t,i18n:r})}let m=["merge","move_pins","create_section"],y=0,g={},_=(e,t,r,n)=>({hideToast:o})=>(0,u.jsx)(h,{actionStatus:e,actionType:t,duration:2e3,location:{name:n?n.title??"":r.name??"",isSection:!!n},onHide:o});function b(){let{showToast:e}=(0,n.dI)(),{fetchBlockingActions:t}=(0,o.B)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:r,board:n,section:o})=>{e(_("inProgress",r,n,o)),function({check:e,checkDelay:t,checkInterval:r,onComplete:n}){let o=`timeout${y}`;y+=1;let i=()=>{let t=Date.now();e().then(e=>{let s=Date.now()-t;e?(n(),delete g[o]):g[o]=setTimeout(i,Math.max(1e3,r-s))}).catch(()=>{delete g[o]})};g[o]=setTimeout(i,t)}({check:()=>t(n.id).then(e=>!function({blockingActions:e,actionType:t,boardId:r,sectionId:n}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(m.includes(e.action_type)&&e.is_origin)&&e.board_id===r&&(n?n===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:r,boardId:n.id,sectionId:o&&o.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(_("completed",r,n,o))})}}}},801619:function(e,t,r){r.d(t,{Df:()=>o,W$:()=>n,f4:()=>i});let n=(e,t)=>{let r="object"==typeof t?.owner?t.owner?.id:t?.owner;return e.isAuth&&r===e.id},o=(e,t)=>!!(e.isAuth&&t.collaborated_by_me),i=(e,t)=>n(e,t)?3069:3070},751961:function(e,t,r){r.d(t,{Z:()=>a});var n=r(281098),o=r(667294),i=r(366859),s=r(785893);let a=({children:e})=>((0,o.useEffect)(()=>{(0,n.Z)("FeedItemPinRepWrapper","/app/www/FeedItemPinRepWrapper.tsx")},[]),(0,s.jsx)(i.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){let t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e}))},357823:function(e,t,r){r.d(t,{Z:()=>d});var n=r(281098),o=r(667294),i=r(20256),s=r(980787),a=r(19585),l=r(785893);function d({auxData:e,enabled:t,onPull:r,refreshing:d,viewParameter:c}){(0,o.useEffect)(()=>{(0,n.Z)("PullToRefresh","/app/www/Homefeed/PullMenu/PullToRefresh.tsx")},[]);let u=(0,a.ZP)(),{logContextEvent:p}=(0,s.u)(),f=4079===c,{position:h,startYRefCurrent:m,pullDistance:y}=function({enabled:e,onSelect:t,refreshing:r}){let n=(0,o.useRef)(null),[i,s]=(0,o.useState)(0),[a,l]=(0,o.useState)(!1),d=r?0:i/250,c=d>0,u=()=>{l(!1),s(0)};return(0,o.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!r&&(n.current=e.touches[0].clientY)},o=e=>{if(n.current){let t=(e.touches[0].clientY-n.current)*.5;t>0&&(s(t),e.preventDefault())}},a=()=>{n.current&&(l(!0),t({pullDistance:i,position:d,resetState:u}),n.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",o,{passive:!1}),window.addEventListener("touchend",a),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",o),window.removeEventListener("touchend",a)}}},[e,t,i,r,d]),{pullDistance:i,hasStartPulling:c,position:d,startYRefCurrent:n.current,PULL_MENU_DISTANCE:250,isExecuted:a}}({enabled:t,onSelect:t=>{let{pullDistance:n,resetState:o}=t;n>=120&&(p({view_type:1,event_type:158,view_parameter:f?4079:92,aux_data:f?e:{}}),r()),o()},refreshing:d}),g=Math.min(h,1),_=u._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,l.jsx)(i.xu,{children:t&&(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:g,transition:null===m?"all .3s ease-out":void 0}},display:"flex",height:120*h,justifyContent:"center",children:(0,l.jsx)(i.JO,{accessibilityLabel:_,icon:m&&y<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,r){r.d(t,{Z:()=>l});var n=r(281098),o=r(667294),i=r(20256),s=r(647709),a=r(785893);let l=()=>{(0,o.useEffect)(()=>{(0,n.Z)("InitialFeedFetch","/app/www/InitialFeedFetch.tsx")},[]);let e=(0,s.HG)();return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},253861:function(e,t,r){r.d(t,{H:()=>n,J:()=>o});let{Provider:n,getMaybe:o}=(0,r(729434).Z)("PinCreateDeleteContext")},425140:function(e,t,r){r.d(t,{G:()=>b,Z:()=>x});var n=r(281098),o=r(667294),i=r(20256),s=r(469167),a=r(467925),l=r(93966),d=r(355363),c=r(62937),u=r(647709),p=r(341742),f=r(348268),h=r(357823),m=r(130858),y=r(79293),g=r(648200),_=r(785893);let b=25;function x({align:e,customLayoutType:t,getColumnSpanConfig:r,getResponsiveModuleConfigForSecondItem:b,emptyState:x,feedItems:v,feedKey:w,maxColumns:S,minColumns:j,pagination:{hasNext:P,isLoadingNext:M,loadNext:C,refetch:Z},pullToRefresh:I,renderFeedItem:E,serverRender:T,isLoadingStateEnabled:O,isLoadingAccessibilityLabel:A,isLoadedAccessibilityLabel:z,layout:$,forceShowLoadingState:D}){(0,o.useEffect)(()=>{(0,n.Z)("SimpleFeed","/app/www/SimpleFeed.tsx")},[]);let R=(0,u.HG)(),{experimentalColumnWidth:k,experimentalGutter:B}=(0,a.Z)(),[L,F]=(0,o.useState)(!1),N=1===S?window.innerWidth:void 0,W="userSearch"===t?window.innerWidth-16:200,H=M&&0===v.length&&!L&&!O,G="desktopFlashlight"===t||"ideaPage"===t&&R?-2:l.qG,V=j??2;return"userSearch"===t&&(V=1),(0,p.Z)(()=>(window.addEventListener("online",C),()=>window.removeEventListener("online",C))),(0,_.jsxs)(i.xu,{"data-test-id":"MobileFeed",children:[(0,_.jsx)(h.Z,{enabled:!!I,onPull:()=>{Z(),F(!0)},refreshing:L}),(0,_.jsxs)(i.xu,{"data-test-id":"grid",marginEnd:G,marginStart:G,opacity:L?.5:1,children:[(0,_.jsx)(d.Z,{isAtEndOfFeed:!P,isPlaceholderGrid:O&&M&&!v.length,itemCount:v.length,children:v.length?(0,_.jsx)(i.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:R}),children:(0,_.jsx)(c.Z.Consumer,{children:n=>(0,_.jsx)(o.Fragment,{children:(0,_.jsx)(g.Z,{children:(0,_.jsx)(s.default,{_getResponsiveModuleConfigForSecondItem:b,align:e||("ideaPage"===t?"start":void 0),cacheKey:w,columnWidth:R?k??l.yF:N??W,getColumnSpanConfig:r,gutterWidth:R?B??4*l.jC:void 0,id:T?w:void 0,isFetching:D??M,isLoadedAccessibilityLabel:z??"",isLoadingAccessibilityLabel:A??"",isLoadingStateEnabled:D??!!O,items:D?[]:v,layout:$??void 0,loadItems:C,maxColumns:S,minCols:V,optOutFluidGridExperiment:null!=S,renderItem:({data:e,itemIdx:t})=>E(e,t),scrollContainerRef:n,serverRender:T})})})})}):M?(0,_.jsx)(m.Z,{}):x??null}),H&&(0,_.jsx)(i.xu,{column:12,paddingY:2,children:(0,_.jsx)(y.Z,{partialViewportWidth:"desktopFlashlight"===t})})]})]})}},648200:function(e,t,r){r.d(t,{Z:()=>d});var n=r(281098),o=r(667294),i=r(821342),s=r(647709),a=r(642859),l=r(785893);let d=({children:e})=>{(0,o.useEffect)(()=>{(0,n.Z)("UnauthContextMenuControllerWrapper","/app/www/UnauthContextMenuControllerWrapper.tsx")},[]);let t=(0,s.HG)();return!(0,i.Z)().isAuth&&t?(0,l.jsx)(a.x,{children:e}):e}},396162:function(e,t,r){r.d(t,{Z:()=>h});var n=r(281098),o=r(667294),i=r(20256),s=r(744862),a=r(19585),l=r(351607),d=r(390957),c=r(902293),u=r(473728),p=r(661037),f=r(785893);function h({bubble:e,contextLogData:t,disableTabIndex:r,height:h,isHovered:m,onClick:y,onMouseEnter:g,onMouseLeave:_,referringSource:b,searchBoxRenderStopwatch:x,slotIndex:v,storyId:w,viewParameter:S,viewType:j,width:P}){(0,o.useEffect)(()=>{(0,n.Z)("Bubble","/app/www/discover/Bubbles/Bubble.tsx")},[]);let M=(0,a.ZP)(),{id:C,action:Z,aux_fields:I,cover_images:E,dominant_colors:T,identifier_icon_type:O,title:A,story_category:z,curator:$}=e,D=E&&E[0]&&(E[0]["280x280"]||E[0]["236x"]),R=(0,u.Z)(A&&A.format||"",A&&A.args||{}),k=T&&T.length?T[0]:"gray",B=Z?.url||(0,d.Z)({storyCategory:z,query:R,referringSource:b,bubbleId:C,storyId:w,title:A.format,pinId:I?.image_pin_id}),L=!!O&&(0,c.Z)(O);return(0,f.jsx)(l.Fw,{contextLogData:{story_id:w,...t},impressionAuxFields:{storyCategory:z,story_id:w},impressionType:"Article",loggingId:C,slotIndex:v,viewParameter:S,viewType:j,children:({impressionTrackerRef:e})=>(0,f.jsx)(i.xu,{ref:e,children:(0,f.jsxs)(p.Z,{backgroundColor:k,coverImage:D,disableTabIndex:r,height:h,id:C,isHovered:m,onClick:y,onMouseEnter:g,onMouseLeave:_,searchBoxRenderStopwatch:x,url:B,width:P,children:[$&&26!==z&&(0,f.jsx)(i.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,f.jsx)(s.qE,{name:$.full_name,outline:!0,size:"xs",src:$.image_small_url})}),L&&(0,f.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,f.jsx)(i.JO,{accessibilityLabel:M._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:L,size:12})}),(0,f.jsx)(i.xu,{alignItems:26===z?"end":"center","data-test-id":"discover-bubble",display:"flex",height:h,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P||"100%",children:(0,f.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[h>200?(0,f.jsx)(i.X6,{align:"center",color:"light",size:"600",children:R}):(0,f.jsx)(i.xv,{align:"center",color:"light",weight:"bold",children:R}),$&&26===z&&(0,f.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,f.jsx)(i.xu,{marginEnd:2,children:(0,f.jsx)(s.qE,{name:$.full_name,outline:!0,size:"xs",src:$.image_small_url})}),(0,f.jsx)(i.xv,{color:"light",size:"100",children:$.full_name})]})]})})]})})})}},661037:function(e,t,r){r.d(t,{A:()=>a,Z:()=>l});var n=r(281098),o=r(667294),i=r(20256),s=r(785893);let a={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:r,disableTabIndex:l,height:d,id:c,isHovered:u,onClick:p,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,searchBoxRenderStopwatch:y,url:g,width:_}){(0,o.useEffect)(()=>{(0,n.Z)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[b,x]=(0,o.useState)(!1),v=()=>{h?h():x(!0)},w=()=>{m?m():x(!1)},S=u||b,j=S?a.hoverOverlay:a.bubbleOverlay;return(0,s.jsx)(i.Tg,{href:g,onBlur:w,onFocus:v,onMouseDown:f,onMouseEnter:v,onMouseLeave:w,onTap:()=>{p?.(c)},rounding:4,tabIndex:l?-1:void 0,children:(0,s.jsx)(i.zd,{height:d,rounding:4,width:_||"100%",children:r?.url?(0,s.jsxs)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,onLoad:()=>{y?.stop()},role:"presentation",src:r.url,children:[(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:j},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},725191:function(e,t,r){r.r(t),r.d(t,{default:()=>m});var n=r(281098),o=r(667294),i=r(20256),s=r(980787),a=r(93966),l=r(351607),d=r(138758),c=r(902293),u=r(601686),p=r(396162),f=r(785893);let h=a.yF;function m({contextLogData:e,bubbles:t,id:r,referringSource:a,slotIndex:m,storyType:y,title:g,titleIcon:_,viewType:b,viewParameter:x}){(0,o.useEffect)(()=>{(0,n.Z)("BubblesGridRep","/app/www/discover/Bubbles/BubblesGridRep.tsx")},[]);let{logContextEvent:v}=(0,s.u)(),{closeupWithinMasonryEnabled:w}=(0,u.x4)(),S=t?.map(({type:e,id:t})=>e+":"+t).join("|"),j={story_type:y,...e,content_ids:S},P=!!_&&(0,c.Z)(_);return(0,f.jsx)(l.Fw,{componentType:200,contextLogData:j,impressionType:"Story",loggingId:r,objectIdStr:r,slotIndex:m,viewParameter:x,viewType:b,children:({impressionTrackerRef:e})=>(0,f.jsxs)(i.xu,{ref:e,children:[g&&(0,f.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[P&&(0,f.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,f.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:P,size:14})}),(0,f.jsx)(i.X6,{accessibilityLevel:2,size:"300",children:(0,f.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,d.Z)(g)})})]}),(0,f.jsx)(i.xu,{role:"list",children:t?.map((e,t)=>(0,f.jsx)(i.xu,{flex:"none",paddingY:1,role:"listitem",children:(0,f.jsx)(p.Z,{bubble:e,contextLogData:j,height:103,onClick:e=>{v({event_type:101,object_id_str:e,view_type:b,view_parameter:x,component:200,aux_data:j})},referringSource:a,slotIndex:t,storyId:r,viewParameter:x,viewType:b,width:w?"100%":h})},`bubble-${e.id}`))})]})})}},722305:function(e,t,r){r.d(t,{Z:()=>d});var n=r(686319),o=r(72918),i=r(889229),s=r(225013),a=r(189976),l=r(696323);function d(e,t,r){return d=>(0,n.Z)({url:`/v3/board/sections/${t}/merge/${r}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(n=>Promise.all([d((0,i.HG)(e,t)),d((0,o.jB)("BoardSectionsRepinResource",{board_id:e})),d((0,s.Z)(r)),d((0,a.N8)(l.Z.BOARD_SECTION_PINS,r))]).then(()=>n))}},386895:function(e,t,r){r.d(t,{Z:()=>x});var n=r(281098),o=r(667294),i=r(581722),s=r(725191),a=r(907440),l=r(20256),d=r(980787),c=r(431870),u=r(341742),p=r(169053),f=r(244526),h=r(785893);function m({storyId:e}){(0,o.useEffect)(()=>{(0,n.Z)("BoardProductPinsModule","/app/www/save/board/BoardProductPinsModule/BoardProductPinsModule.tsx")},[]);let t=(0,i.v9)(t=>t.desktopStories[e]),r=t?.story_type==="shop_tool_saved_products_module"?t:void 0,{logContextEvent:s}=(0,d.u)(),a=(0,p.S6)(),m=(0,f.$)();return((0,u.Z)(()=>{r&&s({event_type:13,component:15162,view_parameter:3069,view_type:5,aux_data:{board_id:r.aux_fields?.board_id,board_session_id:m,module_id:r.id}})}),r)?(r.objects=r?.objects?.map(e=>"pin"===e.type&&a(e.id||"")||e),(0,h.jsx)(l.xu,{marginTop:0,children:(0,h.jsx)(c.default,{component:15162,story:r,storyKey:{type:"Legacy",data:r},styleOverrides:{justifyContent:"start"},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}var y=r(187014),g=r(63327);let _=1.25*g.J;function b({story:e}){(0,o.useEffect)(()=>{(0,n.Z)("DefaultStoryCard","/app/www/save/NormalizedMasonryStory/DefaultStoryCard.tsx")},[]);let{action:{text:t,url:r},custom_properties:{image:i,image_alt:s}}=e;return(0,h.jsxs)(l.xu,{position:"relative",children:[(0,h.jsx)(l.zd,{height:_,rounding:4,width:g.J,children:(0,h.jsx)(l.Ee,{alt:s,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),(0,h.jsx)(l.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:g.J,children:(0,h.jsx)(l.ZP,{color:"white",fullWidth:!0,href:r,text:t})})]})}function x(e){(0,o.useEffect)(()=>{(0,n.Z)("NormalizedMasonryStory","/app/www/save/NormalizedMasonryStory/NormalizedMasonryStory.tsx")},[]);let t=(0,i.v9)(t=>t.desktopStories[e.storyId]);if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,h.jsx)(s.default,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,h.jsx)(b,{story:t});case"add_pin":return(0,h.jsx)(a.Z,{});case"board_shop_tool_module":return e.inBoardOrganizationMode?null:(0,h.jsx)(y.Z,{storyId:e.storyId});case"shop_tool_saved_products_module":return(0,h.jsx)(m,{storyId:e.storyId});default:return null}}},770158:function(e,t,r){r.d(t,{Z:()=>_});var n=r(281098),o=r(667294),i=r(20256),s=r(729082),a=r(821342),l=r(19585),d=r(886981),c=r(730647),u=r(647709),p=r(448505),f=r(7872),h=r(751961),m=r(845421),y=r(425140),g=r(785893);function _(e){(0,o.useEffect)(()=>{(0,n.Z)("BoardExpandedSections","/app/www/save/board/BoardDefaultTabContent/BoardExpandedSections.tsx")},[]);let t=(0,u.HG)(),r=(0,a.Z)(),_=(0,l.ZP)(),b=(0,p.Z)(),x=(0,f.lJ)(r,b),{board:v,onLoadedAll:w,viewParameter:S}=e,{id:j,privacy:P}=v,{data:M,isAtEnd:C,isFetching:Z,isLoaded:I}=(0,d.Z)({name:"ApiResource",options:{data:{fields:["pin.cacheable_id","pin.created_at","pin.description","pin.domain","pin.grid_title","pin.id","pin.is_downstream_promotion","pin.is_playable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.images[170x,136x136,236x,474x,736x,orig]","pin.link","pin.price_currency","pin.price_value","pin.repin_count","pin.title","pin.type"]},url:`/v3/board/${j}/expanded_sections/`,redux_normalize_feed:!0,...(0,s.Z)(P)&&x?{orbac_subject_id:x}:{}}});if((0,o.useEffect)(()=>{C&&w()},[C,w]),!I)return(0,g.jsx)(i.xH,{accessibilityLabel:_._('Board sections loading spinner', ' - ', ' -- '),show:!0});let E=(0,c.Z)(M||[]),T={loadNext:()=>void 0,hasNext:C,isLoadingNext:Z,refetch:()=>void 0};return(0,g.jsx)(i.xu,{"data-test-id":"board-expanded-sections",id:"board-expanded-sections-wrapper",paddingX:t?2:1,width:"100%",children:E.map((e,r)=>{if(Array.isArray(e)){let t=`board-expanded-sections-feed-${r}`;return(0,g.jsx)(y.Z,{feedItems:e,feedKey:`board-expanded-sections:${j}`,pagination:T,renderFeedItem:(e,t)=>(0,g.jsx)(h.Z,{children:(0,g.jsx)(m.Z,{duploQueryRef:null,pinId:e.id,slotIndex:t,viewParameter:S,viewType:1})})},t)}return"story"===e.type&&"board_expanded_section_title"===e.story_type?(0,g.jsxs)(i.xu,{marginBottom:t?4:2,marginTop:t?8:4,paddingX:t?3:1,children:[(0,g.jsx)(i.X6,{size:t?"600":"400",children:e.title?.format??""}),e.description?.format?(0,g.jsx)(i.xu,{marginTop:2,children:(0,g.jsx)(i.xv,{size:t?"300":"100",children:e.description.format})}):null]},`board-expanded-sections-story-${e.id}`):null})})}},154237:function(e,t,r){r.d(t,{Z:()=>eh});var n=r(667294),o=r(20256),i=r(980787),s=r(679422),a=r(467925),l=r(821342),d=r(647709),c=r(493812),u=r(975740),p=r(281098),f=r(19585),h=r(111330),m=r(753143),y=r(801619),g=r(785893);function _(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let b=Object.freeze({}),x={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561};class v extends n.Component{constructor(...e){super(...e),_(this,"handleChange",({event:e,value:t})=>{let{onChange:r,viewer:n,board:o}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),((e,t,r)=>{if(!e.isAuth)return;let n=m.ZP.getItem(h.iT)||b,o=n[e.id]||{},i={...n,[e.id]:{...o,[t.id]:r}};m.ZP.setItem(h.iT,i)})(n,o,t),r&&r(t),this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,y.f4)(n,o),component:13475,element:x[t],aux_data:{board_id:o.id}})}),_(this,"logDropdownClick",()=>{let{board:e,viewer:t}=this.props;this.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,y.f4)(t,e),component:13486,element:11567,aux_data:{board_id:e.id}})}),_(this,"handleKeyPress",e=>{let{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){let{currentView:e}=this.props,t=[{value:"custom",label:this.props.i18n._('Custom', 'Option for users to filter their Pins in a custom order (as it currently is)', 'Option for users to filter their Pins in a custom order (as it currently is)')},{value:"most_reactions",label:this.props.i18n._('Most reactions', 'Option for users to filter their Pins by the most reactions', 'Option for users to filter their Pins by the most reactions')}];return(0,g.jsx)("div",{onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,role:"listbox",tabIndex:0,children:(0,g.jsx)(o.EI,{id:"gbFilterSelectlist",onChange:this.handleChange,size:"lg",value:e,children:t.map(e=>(0,g.jsx)(o.EI.Option,{...e},e.label))})})}}let w=function(e){let{logContextEvent:t}=(0,i.u)(),r=(0,f.ZP)();return(0,g.jsx)(v,{...e,i18n:r,logContextEvent:t})};var S=r(340323),j=r(886981);function P({selected:e}){(0,n.useEffect)(()=>{(0,p.Z)("DensityIcons","/app/www/save/board/PinRepViewSelector/DensityIcons.tsx")},[]);let t=(0,f.ZP)();return(0,g.jsx)(o.JO,{accessibilityLabel:t._('Dense', 'Label for selecting the dense pin density view', 'Label for selecting the dense pin density view'),color:e?"default":"subtle",icon:"view-type-dense",size:24})}function M({selected:e}){(0,n.useEffect)(()=>{(0,p.Z)("DensityIcons","/app/www/save/board/PinRepViewSelector/DensityIcons.tsx")},[]);let t=(0,f.ZP)();return(0,g.jsx)(o.JO,{accessibilityLabel:t._('Regular', 'Label for selecting the regular pin density view', 'Label for selecting the regular pin density view'),color:e?"default":"subtle",icon:"view-type-default",size:24})}var C=r(21845),Z=r(86357);class I extends n.Component{constructor(...e){var t,r,n;super(...e),t="handleItemChange",r=({activeIndex:e})=>{let{viewType:t,component:r,pinView:n,logContextEvent:o}=this.props,i=0===e?"regular":"dense";(0,C.Z)({boardDensity:i,component:r,viewType:t},o),(0,Z.Z)({density:i,surface:n}),"board"===n?this.props.updateBoardPinDensity?.(i):this.props.updateProfilePinDensity?.(i)},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidUpdate(){let{metadata:e,pinView:t,updatedBoardPinDensity:r,updateBoardPinDensity:n,updateProfilePinDensity:o}=this.props;if(e&&e.data&&""===r){let{profile_pin_rep_view_type:r,board_pin_rep_view_type:i}=e.data;"board"===t&&(r?n?.(r):n?.("regular")),"profile"===t&&(i?o?.(i):o?.("regular"))}}render(){let{metadata:e,updatedBoardPinDensity:t}=this.props;return e&&e.data?(0,g.jsx)("div",{className:"OwnBoardSelector",children:(0,g.jsx)(o.sY,{items:[(0,g.jsx)(M,{selected:"regular"===t}),(0,g.jsx)(P,{selected:"dense"===t})],onChange:this.handleItemChange,responsive:!0,selectedItemIndex:+("dense"===t)})}):null}}function E(e){(0,n.useEffect)(()=>{(0,p.Z)("PinRepViewSelector","/app/www/save/board/PinRepViewSelector/PinRepViewSelector.tsx")},[]);let t=(0,c.WG)(),{logContextEvent:r}=(0,i.u)(),o=(0,l.Z)(),s=(0,j.Z)({name:"UserMetadataResource",options:{user:{id:o.isAuth?o.username:""}},noCache:!0}),a=("board"===e.pinView?t?.boardPinDensity:t?.profilePinDensity)??"";return(0,g.jsx)(I,{...e,logContextEvent:r,metadata:s,updateBoardPinDensity:t?.setBoardPinDensity,updatedBoardPinDensity:a,updateProfilePinDensity:t?.setProfilePinDensity})}function T({board:e,currentView:t,inBoardOrganizationMode:r,onContentViewChange:i,onOrganizeClick:s,pinCount:a,showSortOptions:d}){(0,n.useEffect)(()=>{(0,p.Z)("BoardPinsActionBar","/app/www/save/board/BoardDefaultTabContent/BoardPinsActionBar.tsx")},[]);let c=(0,f.ZP)(),u=(0,l.Z)();return(0,g.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,g.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,g.jsx)(o.X6,{children:c._('Pins', 'Heading for Pins outside of board sections on board page', 'Heading for Pins outside of board sections on board page')})}),d&&a<=500&&(0,g.jsx)(o.xu,{paddingX:2,children:(0,g.jsx)(w,{board:e,currentView:t,onChange:i,viewer:u})}),a>=S.Ev&&(0,g.jsxs)(n.Fragment,{children:[a>=S.IK&&(0,g.jsx)(E,{component:13183,pinView:"board",viewType:5}),!r&&(0,g.jsx)(o.xu,{paddingX:2,children:(0,g.jsx)(o.zx,{fullWidth:!0,onClick:s,text:c._('Organize', 'The board organization button', 'The board organization button')})})]})]})}var O=r(581722),A=r(729082),z=r(636208),$=r(448505),D=r(7872),R=r(686319),k=r(189976),B=r(696323),L=r(770158),F=r(283383),N=r(721195),W=r(623873),H=r(469167),G=r(271910),V=r(167916),K=r(63151);function X(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){let{allowReordering:t,board:r,canEdit:n,display:i,dragDrop:s,index:a,isDragging:l,oneTapMovePinsHandler:d,onShowEditSectionModal:c,organizeMode:u,section:p}=e,f=s&&s.target;return(0,g.jsx)(o.xu,{height:"100%",children:(0,g.jsx)(G.q,{children:({focused:e,hovered:o,onBlur:s,onFocus:h,onMouseEnter:m,onMouseLeave:y})=>(0,g.jsx)(V.Z,{allowReordering:t,board:r,boardSection:p,canEdit:n,display:i,focused:e,hovered:o,inOrganizationMode:u,isDragging:l,isMergeTarget:!!f&&"merge"===f.action&&a===f.index,onBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||s()},0)},oneTapMovePinsHandler:d,onFocus:h,onMouseEnter:m,onMouseLeave:y,onShowEditSectionModal:c})})})}function J(e){let{allowReordering:t,board:r,canEdit:n,dragDrop:i,handleSectionDragBegin:s,handleSectionDragEnd:l,handleSectionDragHover:d,isDragging:u,isDragWithinBounds:p,oneTapMovePinsHandler:f,onShowEditSectionModal:h,organizeMode:m,sections:y}=e,{experimentalGutter:_}=(0,a.Z)(),b=(0,c.WG)()?.boardPinDensity??"",x=(0,K.EE)(b);return(0,g.jsx)(H.default,{cacheKey:`board-boardsections:${r.id}`,columnWidth:x,gutterWidth:_,items:y,layout:"flexible",minCols:2,renderItem:({data:e,itemIdx:a})=>{let c=(0,g.jsx)(U,{allowReordering:t,board:r,canEdit:n,display:"responsive",dragDrop:i,index:a,isDragging:u,oneTapMovePinsHandler:f,onShowEditSectionModal:h,organizeMode:m,section:e});return(0,g.jsx)(o.xu,{height:"100%",children:t?(0,g.jsx)(F.Z,{index:a,onDragBegin:s,onDragEnd:l,onDragHover:d,type:F.y.Section,children:(0,g.jsx)("div",{style:{opacity:u&&!p?.5:1},children:c})}):(0,g.jsx)(o.xu,{height:"100%",children:c})},e.id)}})}class q extends n.Component{constructor(...e){super(...e),X(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id??"")}),X(this,"cancelHoverTimeout",()=>{let{dragHoverTimeout:e}=this;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),X(this,"dragHoverTimeout",null),X(this,"isDragging",()=>!!this.state.dragDrop),X(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),X(this,"handleSectionDragHover",(e,t)=>{var r;let{dragDrop:n}=this.state,o=this.props.allowReordering;if(!t||!n)return;let{previewIndex:i}=n,s=function({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:r}){return Math.abs(e)<(r?.5*t:0)/2?"center":e<0?"left":"right"}({hoverRelativePosition:t,centerEnabled:e!==i&&o}),a={itemIndex:e,regionWithinItem:s};if(this.dragHoverTimeout&&(r=this.dragHoverTimeout.hoverLocation,a.itemIndex===r.itemIndex&&a.regionWithinItem===r.regionWithinItem))return;this.cancelHoverTimeout();let l="center"===s?"merge":"reorder",d={action:l,index:function({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:r}){if("center"===t||e===r)return e;let n="left"===t;return e<r===n?e:n?e-1:e+1}({hoverLocation:a,sourceIndex:i})};if(d.index===i){n.target&&n.target.index!==d.index&&this.setState({dragDrop:{...n,target:d}});return}this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===l?this.setState(({dragDrop:e,sectionIds:t})=>({dragDrop:{...e,target:d,previewIndex:d.index},sectionIds:(0,z.Z)(t,i,d.index)})):this.setState(({dragDrop:e})=>({dragDrop:{...e,target:d}}))},"reorder"===l?200:20)}}),X(this,"handleSectionDragEnd",e=>{let{sections:t,onShowMergeSectionsConfirmationModal:r,onSectionReorder:n}=this.props,{dragDrop:o,sectionIds:i}=this.state,s=o&&o.target;if(this.cancelHoverTimeout(),!e||!o||!s||s.index===o.sourceIndex)return void this.setState({dragDrop:null,sectionIds:t.map(e=>e.id??"")});let{previewIndex:a,sourceIndex:l}=o,{action:d,index:c}=s;if(this.setState({dragDrop:null}),"merge"===d){let e=e=>{let r=i[e];return r&&t.find(({id:e})=>e===r)},n=e(a),o=e(c);n&&o&&r(n,o)}else n(l,c)})}componentDidUpdate(e){let{sections:t}=e,{sections:r}=this.props,n=e=>e.map(({id:e})=>e).join(",");if(t.length!==r.length&&n(t)!==n(r)){this.cancelHoverTimeout();let e=r.map(e=>e.id??"");this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){let{allowReordering:e,connectDropTarget:t,isDragWithinBounds:r,sections:n}=this.props,{sectionIds:i}=this.state,s=this.isDragging(),a=n.reduce((e,t)=>t.id?{...e,[t.id]:t}:e,{}),l=(0,g.jsx)(J,{allowReordering:e,board:this.props.board,canEdit:this.props.canEdit,dragDrop:this.state.dragDrop,handleSectionDragBegin:this.handleSectionDragBegin,handleSectionDragEnd:this.handleSectionDragEnd,handleSectionDragHover:this.handleSectionDragHover,isDragging:s,isDragWithinBounds:r??!1,oneTapMovePinsHandler:this.props.oneTapMovePinsHandler,onShowEditSectionModal:this.props.onShowEditSectionModal,organizeMode:this.props.organizeMode,sections:i.map(e=>a[e]).filter(e=>!!e)});return(0,g.jsxs)(o.xu,{width:"100%",children:[e&&t?t((0,g.jsx)("div",{children:l})):l,s&&(0,g.jsx)(N.Z,{})]})}}let Y=(0,W.Z)(F.y.Section)(q);function Q(e){(0,n.useEffect)(()=>{(0,p.Z)("BoardSectionList","/app/www/save/board/BoardDefaultTabContent/BoardSectionList.tsx")},[]);let t=(0,f.ZP)(),{allowReordering:r,fetchMore:i,isAtEnd:s,isFetching:a}=e;return(0,g.jsxs)(o.xu,{width:"100%",children:[(0,g.jsx)(o.gr,{fetchMore:i,isAtEnd:s,isFetching:a}),r?(0,g.jsx)(Y,{...e}):(0,g.jsx)(q,{...e}),a&&!s&&(0,g.jsx)(o.xu,{paddingY:6,position:"relative",children:(0,g.jsx)(o.xH,{accessibilityLabel:t._('Loading sections', 'loading state for board sections', 'loading state for board sections'),show:!0})})]})}class ee extends n.Component{constructor(...e){var t,r,n;super(...e),t="handleSectionReorder",r=(e,t)=>{let{board:r,dispatch:n,enableReordering:o,sections:i,viewParameter:s}=this.props;if(!o)return;let a=i[e].id,l=i[t].id,d=(0,z.Z)(i,e,t).map(e=>e.id),c=d.indexOf(a),u=e=>e>=0&&e<d.length,p={boardId:r.id,sourceSectionId:a,targetSectionId:l,...u(c+1)?{sectionIdAfter:d[c+1]}:{},...u(c-1)?{sectionIdBefore:d[c-1]}:{}},f={object_id_str:a,view_type:5,view_parameter:s};n(e=>{let{boardId:t,sectionIdBefore:r,sectionIdAfter:n,sourceSectionId:o,targetSectionId:i}=p;e((0,k._f)({feedType:B.Z.BOARD_SECTIONS,feedId:t,itemType:"boardsection",sourceItemId:o,targetItemId:i}));let s=Object.freeze({});return r&&(s={...s,section_before:r}),n&&(s={...s,section_after:n}),(0,R.Z)({url:`/v3/board/sections/${o}/reorder/`,method:"POST",data:s})}).then(()=>this.props.logContextEvent({event_type:7133,...f}))},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}componentDidMount(){(0,p.Z)("BoardSections","/app/www/save/board/BoardDefaultTabContent/BoardSections.tsx");let{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:r,refresh:n,isAtEnd:o}}=this.props;e&&!r&&n(),o&&t()}componentDidUpdate(e){let{sectionsInvalidated:t,sectionsResource:r}=e,{sectionsInvalidated:n,isFetching:o,refreshData:i,sectionsResource:s}=this.props;!n||t||o||i(),!r.isAtEnd&&s.isAtEnd&&this.props.onLoadedAll()}render(){let{board:e,enableReordering:t,i18n:r,inBoardOrganizationMode:n,oneTapMovePinsHandler:i,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:a,sections:l,sectionsResource:d,viewer:c,orbacActingAs:u}=this.props,{access:p,owner:f}=e,{isLoaded:h,isFetching:m,fetchMore:y,isAtEnd:_}=d;if(!h)return r._('Board sections loading spinner', 'BoardPage.BoardSections.loadingSpinner', 'Accessibility label for the spinner on board sections'),(0,g.jsx)(o.xH,{accessibilityLabel:r._('Board sections loading spinner', ' - ', ' -- '),show:!0});let b=(p||[]).includes("write")||(0,D.D3)(c,f?.id||"",u);return(0,g.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:(0,g.jsx)(Q,{allowReordering:t,board:e,canEdit:b,fetchMore:y,isAtEnd:_,isFetching:m,oneTapMovePinsHandler:i,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:a,organizeMode:n,sections:l})})}}function et(e){let{logContextEvent:t}=(0,i.u)(),r=(0,f.ZP)(),n=(0,l.Z)(),o=(0,$.Z)(),s=(0,D.lJ)(n,o),{board:a}=e,{id:d,privacy:c}=a,u=(0,j.Z)({name:"BoardSectionsResource",options:{board_id:d,redux_normalize_feed:!0,...(0,A.Z)(c)&&s?{orbac_subject_id:s}:{}}}),p=(0,O.v9)(e=>e.feeds[`${B.Z.BOARD_SECTIONS}:${d}`]),h=(0,O.v9)(e=>(p||[]).reduce((t,r)=>"boardsection"===r.type&&e.boardsections[r.id]?t.concat([e.boardsections[r.id]]):t,[])),m=null===p,y=(0,O.I0)(),_=n.isAuth&&a.owner?.id===n.id||a.collaborated_by_me;return!(0,A.Z)(c)||s||_?(0,g.jsx)(ee,{...e,dispatch:y,i18n:r,logContextEvent:t,orbacActingAs:o,sections:h,sectionsInvalidated:m,sectionsResource:u,viewer:n}):null}function er(e){(0,n.useEffect)(()=>{(0,p.Z)("BoardSections","/app/www/save/board/BoardDefaultTabContent/BoardSections.tsx")},[]);let t=(0,l.Z)(),r=(0,$.Z)(),{board:o,isBoardPreviewMode:i}=e,{access:s,featured_board_metadata:a,owner:d}=o||{},{has_expanded_sections:c}=a||{},u=(s||[]).includes("write")||(0,D.D3)(t,d?.id||"",r);return c&&(!u||i)?(0,g.jsx)(L.Z,{...e}):(0,g.jsx)(et,{...e})}var en=r(352228),eo=r(283550),ei=r(67810),es=r(930382),ea=r(223700);function el(e){let t=(0,l.Z)(),r=(0,$.Z)(),n=(0,D.lJ)(t,r),{board:o,currentView:i,currentFilter:s,viewer:a}=e,d=(0,j.Z)({name:"BoardFeedResource",options:(0,ei.q)(o,a,i,s,n),noCache:o.owner.username===a.username||o.collaborated_by_me}),c=(0,O.v9)(({feeds:t,desktopStories:r})=>(0,ea.Z)(t[`${B.Z.BOARDFEED}:${e.board.id}`],r));return(0,g.jsx)(es.Z,{...e,...c,resource:d})}el.displayName="BoardSectionlessPinGrid";var ed=r(227129),ec=r(187014),eu=r(185094),ep=r(222719),ef=r(371714);function eh({actions:e,board:t,bulkEditSelectedPins:r,currentFilter:p,currentView:f,displayActionBar:h,enableReordering:m,inBoardOrganizationMode:y,inSectionOrganizationMode:_,inSelectAll:b,isBoardPreviewMode:x,isOwnBoard:v,isPinGridSorted:w,onBulkEditPinClick:j,onContentViewChange:P,oneTapMovePinsHandler:M,onShowEditSectionModal:C,onShowMergeSectionsConfirmationModal:Z,refreshFilteredFeed:I,viewParameter:E}){let O=(0,u.gC)()(t.id),A=(O?O.section_count:t.section_count)||0,z=(0,c.WG)()?.boardPinDensity,{logContextEvent:$}=(0,i.u)(),[D,R]=(0,n.useState)(0===A),k=(0,s.Z)(),B=(0,ed.Z)(t.url),L=(0,l.Z)(),F=(0,d.ZP)(),{experimentalGutter:N}=(0,a.Z)(),{is_collaborative:W,pin_count:H}=t,G=(t.access||[]).includes("write"),V=v||t.collaborated_by_me,K=!!("number"==typeof H&&H>=S.Oj&&W&&V);return(0,g.jsxs)(o.xu,{marginBottom:12,children:[(0,g.jsx)(eo.Z,{setMaxWidth:!1,children:(0,g.jsxs)(o.xu,{children:[A>0&&(!p||p===en.c)&&(0,g.jsx)(er,{board:t,enableReordering:m,inBoardOrganizationMode:!!y,isBoardPreviewMode:x,oneTapMovePinsHandler:M,onLoadedAll:()=>R(!0),onShowEditSectionModal:C,onShowMergeSectionsConfirmationModal:Z,viewParameter:E}),h&&D&&V&&A>0&&(0,g.jsx)(T,{board:t,currentView:f,inBoardOrganizationMode:y,onContentViewChange:P,onOrganizeClick:()=>{if(k)return void k();let{onBoardOrganizeClick:t}=e;$({event_type:101,component:69,element:400,view_type:5}),t&&t(!0)},pinCount:H??0,showSortOptions:K})]})}),"desktop"===F&&D&&(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},"data-test-id":"board-feed",paddingX:0,position:"relative",children:(0,g.jsx)(el,{board:t,bulkEditSelectedPins:r,currentFilter:p,currentView:f,denseViewSelected:G&&"dense"===z,inBoardOrganizationMode:y,inSectionOrganizationMode:_,inSelectAll:b,isOwnBoard:v,isPinGridSorted:w,onBulkEditPinClick:j,refreshFilteredFeed:I,renderBoardShopModule:(e,t=!1)=>(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:N?{paddingLeft:N,paddingRight:N}:{}},marginBottom:6,children:(0,g.jsx)(ec.Z,{isTopVariant:t,storyId:e})}),renderFeaturedBoardsStory:e=>(0,g.jsx)(o.xu,{marginBottom:6,children:(0,g.jsx)(eu.Z,{isOwnBoard:v,storyId:e})}),renderFooterStory:e=>y||t.archived_by_me_at||!V?null:(0,g.jsx)(o.xu,{marginBottom:6,children:(0,g.jsx)(eo.Z,{children:(0,g.jsx)(ef.Z,{collection:t,storyId:e,url:B})})}),renderMoreIdeas:e=>V?null:(0,g.jsx)(o.xu,{marginBottom:6,children:(0,g.jsx)(ep.default,{storyId:e})}),viewer:L,viewParameter:E})})]})}},64496:function(e,t,r){r.d(t,{Z:()=>u});var n=r(667294),o=r(581722),i=r(980787),s=r(679422),a=r(697063),l=r(19585),d=r(31290),c=r(722305);function u({board:e}){let{logContextEvent:t}=(0,i.u)(),r=(0,l.ZP)(),[u,p]=(0,n.useState)(null),f=(0,o.I0)(),{showBlockingActionToast:h}=(0,d.Z)(),m=(0,s.Z)();return{handleShowMergeSectionsConfirmationModal:(e,t)=>{if(m)return void m();p({source:e,target:t})},mergeConfirmationModalProps:u,onConfirm:()=>{if(m)return void m();if(!u)return;let{source:n,target:o}=u;p(null),t({event_type:7173,object_id_str:n.id,aux_data:{merge_flow:"dnd"}}),f((0,c.Z)(e.id,n.id??"",o.id??"")).then(()=>{h({actionType:"merge",board:e,section:o})}).catch(e=>{a.Z.showError(e.message||r._('Failed to merge sections', 'useSectionMergeAction.errorMessage', 'Error message when failed to merge sections'))})}}}},67810:function(e,t,r){r.d(t,{q:()=>o});var n=r(352228);function o(e,t,r,o,i){let{owner:s}=e,a=s?.id===t.id,l="react_grid_pin";return t.isPartner&&a&&(l="partner_react_grid_pin"),{board_id:e.id,board_url:e.url??"",currentFilter:o,field_set_key:l,filter_section_pins:!o||o===n.c,sort:"most_reactions"===r?"most_reactions":"default",layout:e.layout??"",page_size:25,redux_normalize_feed:!0,...i?{orbac_subject_id:i}:Object.freeze({})}}},283550:function(e,t,r){r.d(t,{Z:()=>a});var n=r(281098),o=r(667294),i=r(20256),s=r(785893);function a({children:e,setMaxWidth:t=!0}){return(0,o.useEffect)(()=>{(0,n.Z)("BoardPageLayoutWrap","/app/www/save/board/BoardPageLayoutWrap.tsx")},[]),(0,s.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:t?(0,s.jsx)(i.xu,{maxWidth:774,paddingX:2,width:"100%",children:e}):(0,s.jsx)(i.xu,{width:"100%",children:e})})}},227129:function(e,t,r){function n(e=""){return`${e}_tools/more-ideas/`}r.d(t,{Z:()=>n})},187014:function(e,t,r){r.d(t,{Z:()=>f});var n=r(281098),o=r(667294),i=r(581722),s=r(20256),a=r(980787),l=r(431870),d=r(341742),c=r(169053),u=r(244526),p=r(785893);function f({storyId:e,isTopVariant:t=!1}){(0,o.useEffect)(()=>{(0,n.Z)("BoardShopModule","/app/www/save/board/BoardShopModule/BoardShopModule.tsx")},[]);let r=(0,i.v9)(t=>t.desktopStories[e]),f=(0,i.v9)(e=>e.boardsections),h=r?.story_type==="board_shop_tool_module"?r:void 0,{logContextEvent:m}=(0,a.u)(),y=(0,c.S6)(),g=(0,u.$)(),_=Object.keys(f).length>0;return((0,d.Z)(()=>{h&&m({event_type:13,component:15088,view_parameter:3069,view_type:5,aux_data:{board_id:h.aux_fields?.board_id,board_session_id:g,module_id:h.id}})}),h)?(h.objects=h?.objects?.map(e=>"pin"===e.type&&y(e.id||"")||e),(0,p.jsx)(s.xu,{marginTop:_&&t?11:0,children:(0,p.jsx)(l.default,{component:15088,story:h,storyKey:{type:"Legacy",data:h},surface:"BoardShoppingModule",view:5,viewParameter:3069})})):null}},371714:function(e,t,r){r.d(t,{Z:()=>g});var n,o=r(281098),i=r(667294),s=r(581722);r(167912);var a=r(20256),l=r(980787),d=r(28427),c=r(19585),u=r(538688),p=r(337499),f=r(785893);let h=(void 0!==n||(n=r(263148)).hash&&"acfbd2e78cfd4a2a1966a92cf1a7b634"!==n.hash&&console.error("The definition of 'MoreIdeasPreviewStory_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function m({pin:e}){return(0,f.jsx)(a.zd,{rounding:4,width:138,children:(0,f.jsx)(p.Z,{height:207,pin:e&&"Pin"===e.__typename?{imageUrl:e.imageSpec_474x?.url??"",dominantColor:e.dominantColor??"",description:e.description??""}:null,width:138})})}function y({collection:e,storyKey:t,url:r}){(0,i.useEffect)(()=>{(0,o.Z)("MoreIdeasPreviewStory","/app/www/save/board/MoreIdeasPreviewStory/MoreIdeasPreviewStory.tsx")},[]);let{logContextEvent:n}=(0,l.u)(),s=(0,c.ZP)(),{isHovering:p,hoverHandlers:y}=(0,u.Z)(),g=(0,d.Z)(h,t);if(!g)return null;let _=g.objects&&g.objects.filter(e=>"Pin"===e.__typename&&"pin"===e.type)||[];return(0,f.jsx)("div",{className:"moreIdeasOnBoard",children:(0,f.jsx)(a.Tg,{fullWidth:!1,href:`${r}?ideas_referrer=${g.referringSource??""}`,onMouseEnter:y.onMouseOver,onMouseLeave:y.onMouseLeave,onTap:()=>n({event_type:101,element:10600,view_type:"boardsection"===e.type?164:5,object_id_str:e.id,view_parameter:3069}),rounding:4,children:(0,f.jsxs)(a.xu,{alignItems:"start",color:p?"secondary":"default",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[(0,f.jsx)(a.xu,{padding:2,children:(0,f.jsx)(a.X6,{lineClamp:1,size:"400",children:"boardsection"===e.type?s._('Find some ideas for this section:', 'Call-to-action text that upsells more ideas tab for an empty section', 'Call-to-action text that upsells more ideas tab for an empty section'):s._('Find some ideas for this board:', 'Call-to-action text that upsells more ideas tab for an empty board', 'Call-to-action text that upsells more ideas tab for an empty board')})}),(0,f.jsx)(a.xu,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:[...[,,,,,].keys()].map(e=>{let t=_[e],r=t&&"Pin"===t.__typename&&t.description?t.description.trim():"";return(0,f.jsx)(a.xu,{"data-test-id":r?"pin-with-alt-text":"pin-missing-alt-text",children:(0,f.jsx)(m,{pin:t})},`${t&&"Pin"===t.__typename&&t.entityId?t.entityId:e}`)})})]})})})}function g(e){(0,i.useEffect)(()=>{(0,o.Z)("MoreIdeasPreviewStory","/app/www/save/board/MoreIdeasPreviewStory/MoreIdeasPreviewStory.tsx")},[]);let t=(0,s.v9)(t=>t.desktopStories[e.storyId]),r="board_ideas_preview_detailed"===t.story_type?t:void 0;return(0,f.jsx)(y,{...e,storyKey:void 0!==r?{type:"Legacy",data:r}:null})}},337499:function(e,t,r){r.d(t,{Z:()=>c});var n=r(281098),o=r(667294),i=r(20256),s=r(19585),a=r(473728),l=r(785893);function d({pinCount:e,height:t,size:r}){let n=(0,s.ZP)(),o=(0,a.Z)(n._('+{{ pinCount }}', '+N count overlay on pin selections', '+N count overlay on pin selections'),{pinCount:e});return(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",height:t,justifyContent:"center",children:"sm"===r?(0,l.jsx)(i.xv,{color:"light",size:"200",weight:"bold",children:o}):(0,l.jsx)(i.X6,{color:"light",size:"600",children:o})})}function c({additionalPinCount:e,additionalPinCountSize:t="lg",pin:r,width:s,height:a,rounded:c}){return(0,o.useEffect)(()=>{(0,n.Z)("PreviewPin","/app/www/save/board/PreviewPin/PreviewPin.tsx")},[]),(0,l.jsx)(i.zd,{height:a,rounding:4*!!c,wash:!0,width:s,children:r&&(0,l.jsx)(i.Ee,{alt:r.description,color:r.dominantColor,fit:"cover",naturalHeight:a,naturalWidth:s,src:r.imageUrl,children:!!e&&(0,l.jsx)(d,{height:a,pinCount:e,size:t})})})}},647512:function(e,t,r){r.d(t,{Z:()=>s});var n=r(111330),o=r(753143);let i=Object.freeze({});function s(e,t){let r=o.ZP.getItem(n.iT)||i;return(e.isAuth&&r[e.id]||{})[t.id]||null}},203558:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},421853:function(e,t,r){var n=r(203558);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},508997:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},82007:function(e){function t(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise(function(o,i){var s=e.apply(r,n);function a(e){t(s,o,i,a,l,"next",e)}function l(e){t(s,o,i,a,l,"throw",e)}a(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},330503:function(e,t,r){var n=r(676386);e.exports=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports},964512:function(e,t,r){var n=r(299892);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},995297:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},401474:function(e,t,r){var n=r(434886);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},905751:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},798633:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},146426:function(e){e.exports=function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},694454:function(e,t,r){var n=r(964512);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},896687:function(e){e.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},434886:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},198235:function(e,t,r){var n=r(421853),o=r(798633),i=r(676386),s=r(146426);e.exports=function(e){return n(e)||o(e)||i(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},928513:function(e,t,r){var n=r(311201).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},299892:function(e,t,r){var n=r(311201).default,o=r(928513);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},311201:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},676386:function(e,t,r){var n=r(203558);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},216019:function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{Z:()=>n})},920727:function(e,t,r){r.d(t,{Z:()=>o});var n=r(986143);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},70443:function(e,t,r){function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{Z:()=>n})},986143:function(e,t,r){function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:()=>n})},121835:function(e,t,r){r.d(t,{Z:()=>n});function n(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97740-a03b6ad6a4b45c00.mjs.map