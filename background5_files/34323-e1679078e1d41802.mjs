(self.modernJsonp=self.modernJsonp||[]).push([["34323"],{827446:function(e,t,i){var r={"./HI.tsx":["791483",9,"36023"],"./KR":["244758",9,"51516"],"./RO.tsx":["303031",9,"65297"],"./ENUK.tsx":["1061",9,"45921"],"./TL.tsx":["939408",9,"8637"],"./HU":["640461",9,"74865"],"./UA.tsx":["490488",9,"26589"],"./ID.tsx":["50800",9,"25965"],"./ID":["50800",9,"25965"],"./NL":["15053",9,"43672"],"./ZHCN.tsx":["747666",9,"98159"],"./ZHCN":["747666",9,"98159"],"./SV":["289025",9,"61592"],"./ESMX.tsx":["668595",9,"31292"],"./TL":["939408",9,"8637"],"./PL.tsx":["687971",9,"72201"],"./TH.tsx":["270997",9,"58481"],"./HI":["791483",9,"36023"],"./types.ts":["705261",7,"50141"],"./IT":["613882",9,"1710"],"./SK":["670496",9,"29161"],"./RU":["428140",9,"52615"],"./SK.tsx":["670496",9,"29161"],"./ZHTW":["926725",9,"84372"],"./ESMX":["668595",9,"31292"],"./DA.tsx":["358925",9,"16844"],"./NL.tsx":["15053",9,"43672"],"./JP.tsx":["812101",9,"34530"],"./KR.tsx":["244758",9,"51516"],"./FR":["442278",9,"40329"],"./TR.tsx":["808592",9,"56638"],"./FR.tsx":["442278",9,"40329"],"./index.tsx":["217158",9],"./NO":["768548",9,"40463"],"./DE.tsx":["672702",9,"62874"],"./PTPT":["891410",9,"5591"],"./MS.tsx":["87108",9,"9914"],"./ESAR":["752760",9,"38933"],"./localeToFilename":["189134",9],"./HU.tsx":["640461",9,"74865"],"./RO":["303031",9,"65297"],"./PL":["687971",9,"72201"],"./TR":["808592",9,"56638"],"./DE":["672702",9,"62874"],"./ESES":["915696",9,"52317"],"./ESES.tsx":["915696",9,"52317"],"./VT.tsx":["801676",9,"90628"],"./TH":["270997",9,"58481"],"./DA":["358925",9,"16844"],"./PTBR.tsx":["804706",9,"11329"],"./ZHTW.tsx":["926725",9,"84372"],"./":["217158",9],"./ENUS":["350228",9,"46306"],"./JP":["812101",9,"34530"],"./PTBR":["804706",9,"11329"],"./CZ":["719690",9,"30503"],"./NO.tsx":["768548",9,"40463"],"./PTPT.tsx":["891410",9,"5591"],"./CZ.tsx":["719690",9,"30503"],"./SV.tsx":["289025",9,"61592"],"./UA":["490488",9,"26589"],"./ESAR.tsx":["752760",9,"38933"],"./VT":["801676",9,"90628"],"./index":["217158",9],"./GR.tsx":["744598",9,"92550"],"./IT.tsx":["613882",9,"1710"],"./localeToFilename.ts":["189134",9],"./ENUS.tsx":["350228",9,"46306"],"./ENUK":["1061",9,"45921"],"./FI":["856534",9,"72884"],"./FI.tsx":["856534",9,"72884"],"./types":["705261",7,"50141"],"./GR":["744598",9,"92550"],"./RU.tsx":["428140",9,"52615"],"./MS":["87108",9,"9914"]};function n(e){if(!i.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],n=t[0];return Promise.all(t.slice(2).map(i.e)).then(function(){return i.t(n,16|t[1])})}n.keys=()=>Object.keys(r),n.id=827446,e.exports=n},21954:function(e,t,i){i.d(t,{m:()=>u,r:()=>h});var r=i(667294),n=i(729434),o=i(364843),a=i(274320),s=i(15667),l=i(886981),d=i(785893);let{Provider:c,get:u}=(0,n.Z)("PinRep");function h({children:e}){let{isAuthenticated:t}=(0,s.B)(),{checkExperiment:i}=(0,a.r)(),{experience:n}=(0,o.Ow)(1000069),[u,h]=(0,r.useState)(!0),[p,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[_,x]=(0,r.useState)(null),[b,y]=(0,r.useState)(null),w=(0,o.oS)(1000069),{anyEnabled:P}=i("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),v=(0,l.Z)(t&&P?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,r.useEffect)(()=>{if(!t)return void h(!1);n&&(!n||n?.experience_id===500417&&n?.display_data.hide_footer)?w.viewExperience(1000069,500417):h(!1),m(!0)},[n]);let S=(0,r.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:g,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:u,quickSaveBoardId:v,setHasMetSaveRequirementOnUseCaseFeed:f,setUseCaseFeedOriginalPinId:y,setUseCaseFeedRepinId:x,useCaseFeedOriginalPinId:b,useCaseFeedRepinId:_}),[g,p,u,v,f,y,x,b,_]);return(0,d.jsx)(c,{value:S,children:e})}},129117:function(e,t,i){i.d(t,{Z:()=>l});var r=i(281098),n=i(667294),o=i(20256),a=i(19585),s=i(785893);function l({children:e,onClick:t,isSelected:i}){(0,n.useEffect)(()=>{(0,r.Z)("BulkEditPinWrapper","/app/common/react/components/save/board/BulkEditPinWrapper/BulkEditPinWrapper.tsx")},[]);let l=(0,a.ZP)(),d=i?l._('Drag and drop selected item', 'BulkEditPinWrapper.tapArea.selectedAccessibilityLabel', 'Label for selected item that can be dragged and dropped.'):l._('Drag and drop deselected item', 'BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel', 'Label for deselected item that can be dragged and dropped.');return(0,s.jsxs)(o.xu,{position:"relative",children:[(0,s.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(o.iP,{accessibilityLabel:d,fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}},281218:function(e,t,i){i.d(t,{Z:()=>n});let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function n({window:e,duration:t,run:i}){let n=r(),o=0,a=null,s=()=>{let l=r()-n,d=l-o;if(t===1/0)i(0,l,d);else{let e=l/t;if(e>=1)return void i(1,l,d);i(e,l,d)}o=l,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},512712:function(e,t,i){function r(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:i}){let r=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${r}/${t}/`:`/discover/article/${r}/${t}/`}i.d(t,{x:()=>n,y:()=>r})},721195:function(e,t,i){i.d(t,{Z:()=>h});var r=i(281098),n=i(667294),o=i(20256),a=i(281218),s=i(32937),l=i(25837),d=i(785893);function c(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.Component{constructor(...e){super(...e),c(this,"state",{visible:!1}),c(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),c(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,a.Z)({window,duration:1/0,run:(e,i,r)=>{window.scrollTo(0,window.scrollY+(i<500?.8:1.2000000000000002)*t*r)}}),this.scrollAnimationManager.start()}}),c(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:i}=this.state;return(0,d.jsx)(o.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:0x1000037,visibility:i?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,d.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function h({noStickyHeader:e}){(0,n.useEffect)(()=>{(0,r.Z)("DragScrollManager","/app/packages/dragDrop/DragScrollManager.tsx")},[]);let t=e?0:l.hu;return(0,d.jsx)(s.Z,{children:(0,d.jsx)(o.mh,{children:(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(u,{height:120+t,placement:"top"}),(0,d.jsx)(u,{height:120,placement:"bottom"})]})})})}},636208:function(e,t,i){function r(e,t,i,n=0){if(-1===t||-1===i||t===i)return e;let o=i+n,a=t+n;if(o<0||o>=e.length||a<0||a>=e.length)return e;let s=[...e],l=s[a],d=a<o?1:-1;for(let t=a;t!==o;t+=d)s[t]=e[t+d];return s[o]=l,s}i.d(t,{Z:()=>r})},902293:function(e,t,i){i.d(t,{J:()=>r,Z:()=>n});let r=-1;function n(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},458963:function(e,t,i){i.d(t,{Z:()=>a});var r=i(581722);let n=[1000069,1000075],o={};function a(){var e;return e=(0,r.v9)(({experiences:e})=>e),n.forEach(t=>{e[t]&&(void 0===o[t]||o[t].id!==e[t].id)&&(o[t]=e[t])}),o}},217158:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var r=i(667294),n=i(20256),o=i(19585),a=i(15667),s=i(782259),l=i(189134),d=i(785893);function c({height:e,onCtaDidLoad:t,width:c}){let u=(0,o.ZP)(),[h,p]=(0,r.useState)(null),{locale:m}=(0,a.B)(),g=(0,l.default)(m);(0,r.useEffect)(()=>{g&&"none"!==g&&p((0,r.lazy)(()=>i(827446)(`./${g}`)))},[g]),(0,r.useEffect)(()=>{h&&t()},[h]);let f=u._('Open Pinterest app, then go to the search tab, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),_=(0,d.jsx)(n.xv,{align:"center",children:f});return"none"===g?_:h?(0,d.jsx)(s.Z,{fallback:_,children:(0,d.jsx)(h,{height:e,title:f,width:c})}):(0,d.jsx)(n.xH,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},189134:function(e,t,i){function r(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}i.r(t),i.d(t,{default:()=>r})},784645:function(e,t,i){i.d(t,{Z:()=>S});var r,n,o=i(281098),a=i(667294),s=i(20256),l=i(980787),d=i(19585),c=i(997784),u=i(217158),h=i(785893);function p({getThumbnailImageSrcSet:e,images:t,onTouch:i}){(0,a.useEffect)(()=>{(0,o.Z)("PincodeHeroImagePicker","/app/www/pincode/PincodeHeroImagePicker.tsx")},[]);let r=(0,d.ZP)();return(0,h.jsx)(s.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,n)=>(0,h.jsx)(s.xu,{padding:1,children:(0,h.jsx)(s.st,{children:(0,h.jsx)(s.iP,{fullWidth:!1,onTap:()=>i("logo"===t?"logo":n-1),rounding:2,children:(0,h.jsx)(s.zd,{height:85,rounding:"circle",width:85,children:"logo"===t?(0,h.jsx)(s.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:85}):t.url&&(0,h.jsx)(s.Ee,{alt:r._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url,srcSet:e&&e(t.url??"")})})})})},"logo"===t?t:t.url))})}var m=i(886981);let g=i(18468).$rz,f=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" width="222" height="${r||222}" x="0" y="${n||0}" viewBox="0 0 222 222">
    <path d="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z" fill="${g}" fill-rule="evenodd" />
  </svg>`.trim())}`;function _(e,t,i){return`
    <image id="image"
      x="${100+300*("right"===t)}"
      y="${100+300*("bottom"===i)}"
      width="${600/("row"===t?1:2)}"
      height="${600/("column"===i?1:2)}"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xlink:href="${e}"
      preserveAspectRatio="xMidYMid slice"
    />`}class x extends a.Component{constructor(...e){var t,i,r;super(...e),t="handleFetchChange",i=()=>{let{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){(0,o.Z)("PincodeMainImage","/app/www/pincode/PincodeMainImage.tsx");let{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){let{className:e,imageUrls:t,size:i,pincodeImageResource:{data:r,isLoaded:n}}=this.props;return(0,h.jsxs)(s.kC,{alignItems:"center",height:i,justifyContent:"center",width:i,children:[n&&!!r&&(0,h.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:function(e,t){let i=function(e){switch(e.length){case 0:case 1:return;case 2:return[_(e[0],"left","column"),_(e[1],"right","column")].join("");case 3:return[_(e[0],"left","column"),_(e[1],"right","top"),_(e[2],"right","bottom")].join("");default:return[_(e[0],"left","top"),_(e[1],"right","top"),_(e[2],"left","bottom"),_(e[3],"right","bottom")].join("")}}(t);return i?e.replace(/<image[^>]*>/,i):e}(r,t)},style:{width:i,height:i}}),(0,h.jsx)(s.xH,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!r})]})}}function b(e){(0,a.useEffect)(()=>{(0,o.Z)("PincodeMainImage","/app/www/pincode/PincodeMainImage.tsx")},[]);let t=(0,d.ZP)(),i=(0,m.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||f}}});return(0,h.jsx)(x,{...e,i18n:t,pincodeImageResource:i})}function y(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let w="pincodeMain",P="pincodeCTA";class v extends a.PureComponent{constructor(...e){super(...e),y(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),y(this,"getCustomHeroImages",()=>{let{images:e,customizable:t}=this.props,{pickedImageIndex:i}=this.state;if(!t)return e;let r="logo"!==i&&e[i];return r?[r]:[]}),y(this,"normalizeUrl",e=>{let{getMainImageURL:t}=this.props;return(t||(e=>e))(e).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),y(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),y(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),y(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),y(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),y(this,"downloadPincodeImage",()=>{let{previewNode:e}=this,{ctaIsLoaded:t,isFetchingPincodeImage:i,isDownloading:r}=this.state;if(!e||!t||i||r)return;let n=e.querySelector(`.${w}`),o=e.querySelector(`.${P}`);if(!n||!o)return;let{getDownloadImageURL:a,id:s,logContextEvent:l}=this.props;l({event_type:7078,component:13141,object_id_str:s}),this.setState({isDownloading:!0}),Promise.all([(0,c.a)(n,a),(0,c.a)(o)]).then(e=>{let[t,i]=e;return((e,t)=>{let i=document.createElement("canvas");i.width=3544,i.height=3544;let r=Math.round(.1*i.width),n=Math.round(.05*i.width),o=i.width-2*r,a=i.width-2*n,s=i.height-o,[l,d]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],c=i.getContext("2d");return c&&(c.fillStyle="#fff",c.fillRect(0,0,i.width,i.height),c.drawImage(e,r,0,o,o),c.drawImage(t,(i.width-l)/2,o+(i.height-o-d)/2,l,d)),i})(t,i)}).then(e=>(0,c.K)(e,`pincode_${this.props.id}.png`)).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){let{id:e,isLoadingImages:t,images:i,getThumbnailImageSrcSet:r,customizable:n}=this.props,{ctaIsLoaded:o,errorFlyoutIsOpen:a,isFetchingPincodeImage:l,isDownloading:d,isPickingHeroImage:c}=this.state;return c?(0,h.jsx)(s.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,h.jsxs)(s.xu,{children:[(0,h.jsx)(s.xu,{paddingY:1,children:(0,h.jsx)(s.X6,{lineClamp:1,size:"600",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,h.jsx)(s.iz,{}),(0,h.jsx)(p,{getThumbnailImageSrcSet:r,images:i,onTouch:this.handleSelectImage}),(0,h.jsx)(s.xu,{padding:1,children:(0,h.jsx)(s.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,h.jsx)(s.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,h.jsxs)(s.xu,{children:[(0,h.jsx)(s.xu,{ref:e=>{this.previewNode=e},children:(0,h.jsxs)(s.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[t?(0,h.jsx)(s.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,h.jsx)(s.xH,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,h.jsx)(b,{className:w,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url??"")),onFetchingChange:this.handleFetchChange,size:230}),(0,h.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,h.jsx)("div",{className:P,children:(0,h.jsx)(u.default,{height:78,onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300})})})]})}),(0,h.jsxs)(s.xu,{marginTop:2,padding:1,children:[n&&i.length>0&&(0,h.jsx)(s.xu,{paddingY:1,children:(0,h.jsx)(s.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),o&&(0,h.jsxs)(s.xu,{paddingY:1,children:[(0,h.jsx)(s.xu,{ref:e=>{this.downloadButton=e},children:(0,h.jsx)(s.zx,{color:"red",disabled:t||l||d,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),a&&(0,h.jsx)(s.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),shouldFocus:!1,size:"sm",children:(0,h.jsx)(s.xu,{"data-test-id":"error-flyout-content",padding:3,children:(0,h.jsx)(s.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}function S(e){(0,a.useEffect)(()=>{(0,o.Z)("PincodeGenerator","/app/www/pincode/PincodeGenerator.tsx")},[]);let{logContextEvent:t}=(0,l.u)(),i=(0,d.ZP)();return(0,h.jsx)(v,{...e,i18n:i,logContextEvent:t})}},253969:function(e,t,i){i.d(t,{Z:()=>c});var r=i(281098),n=i(667294),o=i(20256),a=i(980787),s=i(982166),l=i(19585),d=i(785893);function c({children:e,objectId:t,onHide:i}){(0,n.useEffect)(()=>{(0,r.Z)("PincodeModal","/app/www/pincode/PincodeModal.tsx")},[]);let{logContextEvent:c}=(0,a.u)(),u=(0,l.ZP)(),h={component:13141,object_id_str:t};return(0,n.useEffect)(()=>{c({event_type:6359})},[t]),(0,d.jsx)(s.ZP,{accessibilityModalLabel:u._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:u._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{i(),c({event_type:6358,...h})},size:"sm",children:(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},997784:function(e,t,i){function r(e){return new Promise((t,i)=>{let r=new XMLHttpRequest;r.ontimeout=i,r.onreadystatechange=()=>{if(4!==r.readyState)return;if(200!==r.status)return void i();let e=new FileReader;e.onloadend=()=>{let{result:r}=e;"string"==typeof r?t(r.split(/,/)[1]):i()},e.readAsDataURL(r.response)},r.open("GET",e,!0),r.timeout=3e4,r.responseType="blob",r.send()})}function n(e,t){return new Promise((i,n)=>{let o=document.createElement("div");o.innerHTML=e.innerHTML,(function e(t,i){if(!(t instanceof Element))return Promise.resolve(t);if(t instanceof window.SVGImageElement){let e=t.href.baseVal;if(e.startsWith("data:"))return Promise.resolve();let n=i?i(e):e;return Promise.resolve(n).then(r).then(e=>`data:${function(e){let t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n)};base64,${e}`).then(e=>new Promise((i,r)=>{t.onerror=r,t.href.baseVal=e,window.requestAnimationFrame(i)}))}return Promise.all(Array.from(t.childNodes).map(t=>e(t,i)))})(o,t).then(()=>{let t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>i(t))},t.onerror=n;let r=o&&o.querySelector("svg");r&&(/^[0-9]+$/.test(r.getAttribute("width")||"")||r.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(r.getAttribute("height")||"")||r.setAttribute("height",`${e.scrollHeight}`));let a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(a.trim())}`})})}function o(e,t){return new Promise((i,r)=>{new Promise((t,i)=>{if(e.toBlob)return void e.toBlob(t);let r="";try{r=e.toDataURL("image/png")}catch(e){i()}let n=window.atob(r.split(",")[1]),{length:o}=n,a=new Uint8Array(o);for(let e=0;e<o;e+=1)a[e]=n.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))}).then(e=>window.URL.createObjectURL(e)).then(e=>{let r=document.createElement("a");r.download=t,r.href=e,r.style.display="none",window.document.body.appendChild(r),window.requestAnimationFrame(()=>{let t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),r.removeAttribute("href"),r.removeEventListener("click",t),window.document.body.removeChild(r),i()})};r.addEventListener("click",t),r.click()})}).catch(r)})}i.d(t,{K:()=>o,a:()=>n})},830235:function(e,t,i){i.d(t,{Z:()=>C});var r=i(281098),n=i(667294),o=i(782259),a=i(886981),s=i(784645),l=i(785893);let d="474x",c=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),u=e=>["236x",d,"736x"].map((t,i)=>`${c(t)(e)} ${i+1}x`).join(", ");function h({boardId:e,customizable:t}){(0,n.useEffect)(()=>{(0,r.Z)("BoardPincodeGenerator","/app/www/pincode/BoardPincodeGenerator.tsx")},[]);let i=(0,a.Z)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),o=!i.isLoaded,h=(i.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return(0,l.jsx)(s.Z,{customizable:t,getDownloadImageURL:c("1200x"),getMainImageURL:c(d),getThumbnailImageSrcSet:u,id:e,images:h,isLoadingImages:o})}var p=i(253969),m=i(509579);let g=(0,n.lazy)(()=>Promise.all([i.e("29670"),i.e("65936")]).then(i.bind(i,826654))),f=(0,n.lazy)(()=>i.e("4375").then(i.bind(i,882094))),_=(0,n.lazy)(()=>i.e("65307").then(i.bind(i,251426))),x=(0,n.lazy)(()=>i.e("37156").then(i.bind(i,801595))),b=(0,n.lazy)(()=>i.e("40597").then(i.bind(i,93586))),y=(0,n.lazy)(()=>i.e("18382").then(i.bind(i,833896))),w=(0,n.lazy)(()=>i.e("13910").then(i.bind(i,269082))),P=(0,n.lazy)(()=>i.e("23166").then(i.bind(i,4198))),v=(0,n.lazy)(()=>i.e("40763").then(i.bind(i,111322))),S=(0,n.lazy)(()=>i.e("66287").then(i.bind(i,18440))),j=(0,n.lazy)(()=>Promise.all([i.e("91440"),i.e("86982")]).then(i.bind(i,680694))),I=(0,n.lazy)(()=>i.e("89294").then(i.bind(i,783701)));function C({actions:e,board:t,boardSection:i,bulkEditSelectedPins:a,currentModal:s,inSelectAll:d,onClearModal:c,mergeConfirmationModalProps:u}){(0,n.useEffect)(()=>{(0,r.Z)("BoardModalManager","/app/www/save/board/BoardPage/ModalContents/BoardModalManager.tsx")},[]);let{completeCreateSectionAction:C,completeMoveAction:E,onBoardArchiveChange:A,onBoardDelete:B,onBoardLeave:Z,onBoardSectionDelete:T,onBoardSectionSave:D,onConfirmMergeSection:M,onCopyPinsToBoard:L,onDeletePins:z,onBoardMerge:R}=e;switch(s){case m.s.boardArchiveConfirmation:return A?(0,l.jsx)(o.Z,{children:(0,l.jsx)(y,{board:t,onClose:c,onConfirm:A,shouldArchive:!0})}):null;case m.s.boardUnarchiveConfirmation:return A?(0,l.jsx)(o.Z,{children:(0,l.jsx)(y,{board:t,onClose:c,onConfirm:A,shouldArchive:!1})}):null;case m.s.boardEdit:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(x,{boardId:t.id,onBoardDelete:B,onBoardLeave:Z,onClose:c})});case m.s.bulkDelete:return z?(0,l.jsx)(o.Z,{children:(0,l.jsx)(P,{onClearModal:c,onCompleteBulkDelete:z,pinCountToDelete:a&&a.length||0})}):null;case m.s.bulkCopy:return L?(0,l.jsx)(o.Z,{children:(0,l.jsx)(v,{currentBoardId:t.id,onClearModal:c,onCopyToBoard:L,pinCountToCopy:a&&a.length||0})}):null;case m.s.collaboratorsAndPermissions:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(g,{board:t,onDismiss:c})});case m.s.editSection:return i?(0,l.jsx)(o.Z,{children:(0,l.jsx)(j,{board:t,boardSection:i,onClearModal:c,onDeleteSection:T,onSaveSection:D})}):null;case m.s.mergeBoard:return R?(0,l.jsx)(o.Z,{children:(0,l.jsx)(b,{onCancel:c,onSubmit:R,sourceBoardId:t.id})}):null;case m.s.createSection:case m.s.moveSection:return!!a&&!!E&&(0,l.jsx)(o.Z,{children:(0,l.jsx)(S,{board:t,boardSection:i,inSelectAll:!!d,onClearModal:c,onCompleteMove:E,selectedPinIds:a,showCreateOnly:s===m.s.createSection})});case m.s.sectionMergeConfirm:return u&&M?(0,l.jsx)(o.Z,{children:(0,l.jsx)(I,{onCancel:c,onConfirm:M,source:u.source,target:u.target})}):null;case m.s.followers:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(w,{boardId:t.id,followersCount:t.follower_count??0,onDismiss:c})});case m.s.pincode:return(0,l.jsx)(p.Z,{objectId:t.id,onHide:c,children:(0,l.jsx)(h,{boardId:t.id,customizable:!!t.owner?.is_partner})});case m.s.jumpstartBoard:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(f,{board:t,onDismiss:c})});case m.s.simpleCreateSection:return C?(0,l.jsx)(o.Z,{children:(0,l.jsx)(_,{onClose:c,onSectionCreate:C,selectedBoard:t})}):null;default:return null}}},509579:function(e,t,i){i.d(t,{s:()=>r});let r={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},317884:function(e,t,i){i.d(t,{Z:()=>n});var r=i(751915);function n({board:e,viewer:t}){return(0,r.Z)(t,e.owner?.id)?3069:3070}},930382:function(e,t,i){i.d(t,{Z:()=>N});var r=i(281098),n=i(667294),o=i(581722),a=i(20256),s=i(21954),l=i(129117),d=i(283383),c=i(806438),u=i(845421),h=i(978417);let p=e=>e?164:5,m=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),g=(0,h.Q6)(e=>e);var f=i(785893);function _(e){(0,n.useEffect)(()=>{(0,r.Z)("PinItem","/app/common/react/components/save/board/BoardPinGrid/PinItem.tsx")},[]);let{allowReordering:t,auxData:i,boardSectionId:o,gridItem:a,handlePinDragBegin:s,handlePinDragEnd:h,handlePinDragHover:m,index:g,lfvExperiences:_,onBulkEditPinClick:x,source:b,target:y,viewParameter:w}=e,{inBulkEditMode:P,isCollaborator:v,isGroupBoard:S,isOwnBoard:j,isSelected:I,itemKey:{id:C}}=a,E=y===g,A={pinId:C,duploQueryRef:null,imageOnlyOption:!j&&(0,c.Z)(_)?"image-only":"default",attributionOption:S?"show":"hide",pinImageCrop:"none",surface:P?"BulkEditMode":"BaseBoardPinGrid",slotIndex:g,viewParameter:w,viewType:p(o),auxData:i};if(!j&&!v)return(0,f.jsx)(u.Z,{...A});let B="no-selection";P&&(B=I?"selected":"deselected");let Z=(0,f.jsx)(u.Z,{...A,disableHover:-1!==b||P,selectionState:B});return P&&(Z=(0,f.jsx)(l.Z,{isSelected:I,onClick:()=>x(C),children:Z})),t&&(Z=(0,f.jsx)(d.Z,{index:g,isDragging:E,onDragBegin:s,onDragEnd:h,onDragHover:m,type:d.y.Pin,children:Z})),Z}var x=i(980787),b=i(721195),y=i(364843),w=i(686319),P=i(469167),v=i(93966),S=i(19585),j=i(355363),I=i(636208),C=i(458963),E=i(947810),A=i(875863);function B({isSection:e}){let t=(0,S.ZP)(),i=e?t._('There aren\u2019t any Pins in this section yet', 'EmptyBoard.EmptyText.section', 'Statement that there are no pins in the section'):t._('There aren\u2019t any Pins on this board yet', 'EmptyBoard.EmptyText.board', 'Statement that there are no pins on the board');return(0,f.jsx)(A.Z,{children:(0,f.jsx)(a.xu,{"data-test-id":"empty-text",paddingY:8,children:(0,f.jsx)(a.xv,{color:"default",size:"300",children:i})})})}function Z({hasSections:e,isSection:t}){return(0,n.useEffect)(()=>{(0,r.Z)("EmptyBoard","/app/www/nux/EmptyBoard.tsx")},[]),(0,f.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!t&&e?null:(0,f.jsx)(B,{isSection:t})})}var T=i(253861),D=i(548286),M=i(225013),L=i(189976),z=i(696323),R=i(386895);function k(e){(0,n.useEffect)(()=>{(0,r.Z)("GridItemBuilder","/app/www/save/board/BoardPinGrid/GridItemBuilder.tsx")},[]);let{boardSectionId:t,gridItem:i,index:o,inBoardOrganizationMode:s,paddingBottom:l,renderPinItem:d,viewParameter:c}=e,{itemKey:u}=i,h=null;switch(u.type){case"story":h=(0,f.jsx)(R.Z,{inBoardOrganizationMode:s,slot:o,storyId:u.id,viewParameter:c,viewType:p(t)});break;case"pin":h=(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:l}},children:d(i,o)});break;default:h=null}return(0,f.jsx)(a.xu,{children:h},`${u.type}:${u.id}`)}let H=(0,i(623873).Z)(d.y.Pin)(function(e){let{allowReordering:t,children:i,connectDropTarget:r,index:n,isDragWithinBounds:o}=e;return t&&r?r((0,f.jsx)("div",{style:{opacity:-1===n||o?1:.5},children:i})):i});function F(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class U extends n.Component{constructor(...e){super(...e),F(this,"state",{reorderSource:-1,reorderTarget:-1}),F(this,"anchorElementRef",(0,n.createRef)()),F(this,"masonryRef",{current:null}),F(this,"handlePinAdded",e=>{let{board:t,boardSectionId:i,dispatch:r}=this.props;e===t.id&&(r((0,D.xQ)(t.id)),i&&r((0,M.Z)(i)))}),F(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),F(this,"handlePinDragHover",e=>{let{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),F(this,"handlePinDragEnd",e=>{let{board:t,boardSectionId:i,dispatch:r,feed:n,viewParameter:o,orbacSubjectId:a}=this.props,{reorderSource:s,reorderTarget:l}=this.state;if(n&&e&&-1!==l&&-1!==s&&l!==s){let e=this.hiddenItemIndex,[d,c]=-1===e?[s,l]:[s+ +(s>=e),l+ +(l>=e)],u=(0,I.Z)(n,d,c),h=n[d].id;r((0,L._f)({feedType:i?z.Z.BOARD_SECTION_PINS:z.Z.BOARDFEED,feedId:i||t.id,itemType:"pin",targetItemId:n[c].id,sourceItemId:n[d].id}));let m=u.filter(e=>"pin"===e.type).map(e=>e.id),g=m.indexOf(h),f=g-1,_=g+1,x={pin:h};f>=0&&f<m.length&&(x={...x,before_pin:m[f]}),_>=0&&_<m.length&&(x={...x,after_pin:m[_]}),a&&(x={...x,orbac_subject_id:a}),(0,w.Z)({url:`/v3/boards/${t.id}/reorder_pin/`,method:"POST",data:x}).then(()=>this.props.logContextEvent({event_type:7122,object_id_str:h,view_type:p(i),view_parameter:o}))}this.setState({reorderSource:-1,reorderTarget:-1})}),F(this,"handleFetchMore",()=>{let{resource:{fetchMore:e,isAtEnd:t,isFetching:i}}=this.props;t||i||e()}),F(this,"renderPinItem",(e,t)=>{let{board:i,boardSectionId:r,lfvExperiences:n,onBulkEditPinClick:o,viewer:a,viewParameter:s}=this.props,{reorderSource:l,reorderTarget:d}=this.state,c={board_id:i.id,board_pin_count:i.pin_count};return(0,f.jsx)(_,{allowReordering:this.allowReordering,auxData:c,boardSectionId:r,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:n,onBulkEditPinClick:o,source:l,target:d,viewer:a,viewParameter:s})})}componentDidMount(){(0,r.Z)("BaseBoardPinGrid","/app/www/save/board/BoardPinGrid/BaseBoardPinGrid.tsx");let{feed:e,resource:{isFetching:t,refresh:i}}=this.props;null!==e||t||i()}componentDidUpdate(e){let{feed:t,resource:{isFetching:i,refresh:r}}=this.props;null!==t||null===e.feed||i||r()}get allowReordering(){let{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:i}=this.props;return!i&&(t||e)}get hiddenItemIndex(){let{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(m):-1}render(){let{bulkEditSelectedPins:e,board:t,boardSectionId:i,boardShopModuleId:r,desktopStories:o,featuredBoardStoryId:s,feed:l,feedStoryId:d,footerStoryId:c,denseViewSelected:u,hasSimplifiedPinGridExpLoaded:h,inBoardOrganizationMode:p,inSectionOrganizationMode:m,isDragWithinBounds:_,inSelectAll:x,renderFeaturedBoardsStory:y,renderFooterStory:w,renderMoreIdeas:S,renderBoardShopModule:C,boardShopModuleIndex:E,resource:{isAtEnd:A,isFetching:B,isLoaded:D},isOwnBoard:M,i18n:L}=this.props,{access:z,collaborated_by_me:R=!1,collaborator_count:F=0,section_count:U}=t,{reorderSource:O,reorderTarget:N}=this.state,{more_ideas:$}=t.featured_board_metadata||{};if(D&&l&&0===l.length)return(0,f.jsx)(Z,{hasSections:!!U,isSection:!!i});let{allowReordering:K}=this,G=K&&O!==N&&-1!==O&&-1!==N,W=l||[],{hiddenItemIndex:V}=this;-1!==V&&(W=[...W.slice(0,V),...W.slice(V+1)]),G&&(W=(0,I.Z)(W,O,N));let q={inBulkEditMode:p||m,inDenseView:u||!1,isGroupBoard:F>0,userCanEdit:(z||[]).includes("write"),isOwnBoard:M,isCollaborator:R},J=!1,Y=W.map(e=>(p||"story"!==e.type||o?.[e.id]?.story_type!=="board_shop_tool_module"||(J=!0),g({...q,itemKey:e}))),X=!B&&A&&!l?.length;return(0,f.jsx)(T.H,{value:{onPinCreate:({boardId:e})=>this.handlePinAdded(e),onPinDelete:()=>J&&this.masonryRef.current?.reflow()},children:(0,f.jsxs)(a.xu,{"data-test-id":"base-board-pin-grid",minHeight:u?800:"",children:[r&&!p&&0===E&&C&&C(r,!0),(0,f.jsx)(H,{allowReordering:K,index:N,isDragWithinBounds:_,children:h&&(0,f.jsx)(j.Z,{isAtEndOfFeed:A,isPlaceholderGrid:B&&!Y.length,itemCount:Y.length,children:(0,f.jsx)(P.default,{columnWidth:u?v.Lo:void 0,getColumnSpanConfig:J?function(e){return"story"===e.itemKey.type&&o?.[e.itemKey.id]?.story_type==="board_shop_tool_module"?3:e.itemKey.columnSpan??1}:void 0,isFetching:B,isLoadedAccessibilityLabel:Y.length>0?L._('More Pins loaded for board', 'board.masonry.paginationLoaded', 'More Pins loaded for board'):L._('Loaded Pins for board', 'board.masonry.loaded', 'Pins have loaded for board'),isLoadingAccessibilityLabel:Y.length>0?L._('Loading more Pins for board', 'board.masonry.paginationLoading', 'Loading more Pins for board'):L._('Loading Pins for board', 'board.masonry.loading', 'Loading Pins for board'),isLoadingStateEnabled:!X,items:Y,layout:"basic",loadItems:this.handleFetchMore,masonryRef:this.masonryRef,renderItem:({data:t,itemIdx:i})=>{let{inBulkEditMode:r}=q,o="pin"===t.itemKey.type&&!!e?.includes(t.itemKey.id);return(0,f.jsx)(n.Fragment,{children:(0,f.jsx)(a.xu,{ref:0===i?this.anchorElementRef:null,dangerouslySetInlineStyle:{__style:{marginBottom:u?-6:0}},children:(0,f.jsx)(k,{boardSectionId:this.props.boardSectionId,gridItem:{...t,isSelected:r&&(x?!o:o)},inBoardOrganizationMode:p,index:i,paddingBottom:6*!!this.props.denseViewSelected,renderPinItem:this.renderPinItem,viewParameter:this.props.viewParameter})})})}},`${String(u)}-${String(p)}-${String(m)}`)})}),K&&-1!==O&&(0,f.jsx)(b.Z,{}),A&&!p&&r&&(E??0)>=Y.length-1&&0!==E&&C&&C(r),A&&c&&w&&w(c),A&&s&&y&&y(s),!1!==$&&A&&d&&S&&S(d)]})})}}let O=(0,y.RL)(1000182)(function(e){let{logContextEvent:t}=(0,x.u)(),i=(0,S.ZP)(),r=(0,E.Z)(),{hasSimplifiedPinGridExpLoaded:a}=(0,s.m)(),l=(0,C.Z)(),d=(0,o.v9)(e=>e.desktopStories),{board:c,boardSectionId:u,isOwnBoard:h,resource:p}=e;return(0,n.useEffect)(()=>{p.isAtEnd&&t({event_type:15145,view_type:u?164:5,view_parameter:h?3069:3070,aux_data:{board_id:c.id,board_pin_count:c.pin_count,board_section_id:u,board_section_count:c.section_count}})},[c,u,h,t,p]),(0,f.jsx)(U,{...e,desktopStories:d,hasSimplifiedPinGridExpLoaded:a,i18n:i,lfvExperiences:l,logContextEvent:t,orbacSubjectId:r})});O.displayName="BaseBoardPinGrid";let N=O},223700:function(e,t,i){i.d(t,{Z:()=>n});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},n=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:i,featuredBoardStoryId:r,feed:n,feedStoryId:o,footerStoryId:a},s,l)=>{let d="story"===s.type&&t[s.id]?.story_type,c="board_ideas_feed"===d,u="board_ideas_preview_detailed"===d,h=!1;if("board_shop_tool_module"===d){let e=t[s.id];h=!!e.custom_properties?.is_full_width}return{feed:n.concat(u||c||h?[]:[s]),featuredBoardStoryId:"featured_boards"===d?s.id:r,feedStoryId:c?s.id:o,footerStoryId:u?s.id:a,boardShopModuleId:h?s.id:e,boardShopModuleIndex:h?l:i}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},185094:function(e,t,i){i.d(t,{Z:()=>c});var r=i(281098),n=i(667294),o=i(581722),a=i(20256),s=i(78762),l=i(785893);let d=(0,s.Z)(()=>i.e("60300").then(i.bind(i,799016)),void 0,e=>799016,"app-common-react-components-FeaturedBoards-FeaturedBoardsModule",e=>["60300"]);function c({isOwnBoard:e,storyId:t}){(0,n.useEffect)(()=>{(0,r.Z)("FeaturedBoardsStory","/app/www/save/board/FeaturedBoardsStory/FeaturedBoardsStory.tsx")},[]);let i=(0,o.v9)(e=>e.desktopStories[t]),s=i&&"featured_boards"===i.story_type?i:void 0;return s?(0,l.jsx)(a.xu,{marginTop:3,padding:2,children:(0,l.jsx)(d,{renderAsStory:!0,slotIndex:-1,story:s,surface:"Board",viewParameter:e?3069:3070,viewType:5})}):null}},875863:function(e,t,i){i.d(t,{Z:()=>s});var r=i(281098),n=i(667294),o=i(20256),a=i(785893);function s({children:e}){return(0,n.useEffect)(()=>{(0,r.Z)("Center","/app/www/save/board/Headers/Center.tsx")},[]),(0,a.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:e})}},222719:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var r=i(281098),n=i(667294),o=i(581722),a=i(20256),s=i(78762),l=i(785893);let d=(0,s.Z)(()=>Promise.all([i.e("25418"),i.e("75175"),i.e("52154")]).then(i.bind(i,962722)),void 0,e=>962722,"app-www-BoardMoreIdeasPage-MoreIdeasTabContentPageDefault",e=>["25418","75175","52154"]);function c({storyId:e}){(0,n.useEffect)(()=>{(0,r.Z)("MoreIdeasFeed","/app/www/save/board/MoreIdeasFeed/MoreIdeasFeed.tsx")},[]);let t=(0,o.v9)(t=>t.desktopStories[e]);return(t&&"board_ideas_feed"===t.story_type?t:void 0)?(0,l.jsx)(a.xu,{"data-test-id":"more-ideas-feed",children:(0,l.jsx)(d,{surface:"board"})}):null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/34323-e1679078e1d41802.mjs.map